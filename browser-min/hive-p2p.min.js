var vr=Object.create;var tn=Object.defineProperty;var xr=Object.getOwnPropertyDescriptor;var Fr=Object.getOwnPropertyNames;var kr=Object.getPrototypeOf,Ur=Object.prototype.hasOwnProperty;var he=(I=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(I,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):I)(function(I){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+I+'" is not supported')});var xt=(I,t)=>()=>(I&&(t=I(I=0)),t);var Tn=(I,t)=>()=>(t||I((t={exports:{}}).exports,t),t.exports),Be=(I,t)=>{for(var n in t)tn(I,n,{get:t[n],enumerable:!0})},Mr=(I,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Fr(t))!Ur.call(I,s)&&s!==n&&tn(I,s,{get:()=>t[s],enumerable:!(i=xr(t,s))||i.enumerable});return I};var vn=(I,t,n)=>(n=I!=null?vr(kr(I)):{},Mr(t||!I||!I.__esModule?tn(n,"default",{value:I,enumerable:!0}):n,I));var pe,xn=xt(()=>{pe=class I{verbose;mockMode;static#e=null;#t=null;#n=!1;#r=0;#i=["time.google.com","time.cloudflare.com","pool.ntp.org"];constructor(t=0,n=!1){if(this.verbose=t,this.mockMode=n,I.#e)return I.#e;I.#e=this}static get instance(){return I.#e||new I}static get time(){return I.instance.time}get time(){return this.mockMode?Date.now():this.#t===null?null:Date.now()+Math.round(this.#t)}async sync(t){if(t!==void 0&&(this.verbose=t),this.mockMode)return Date.now();if(this.#n){for(;this.#n;)await new Promise(n=>setTimeout(n,50));return this.time}this.#n=!0;try{let n=await this.#s();return n.length===0?(console.warn("[Clock] All NTP sources failed, using local time"),this.#t=0,this.time):(this.#t=this.#o(n),this.#r=Date.now(),n.length<this.#i.length&&setTimeout(()=>this.#a(),100),this.time)}catch(n){return console.error("[Clock] Sync failed:",n),this.#t=0,this.time}finally{this.#n=!1}}get status(){return this.mockMode?{synchronized:!0,syncing:!1,offset:0,lastSync:Date.now(),age:0}:{synchronized:this.#t!==null,syncing:this.#n,offset:this.#t,lastSync:this.#r,age:this.#r?Date.now()-this.#r:null}}async#s(){let t=this.#i.map(s=>this.#A(s)),n=await Promise.allSettled(t),i=[];for(let s of n)s.status==="fulfilled"&&i.push(s.value);return i}async#A(t){let n=new AbortController,i=setTimeout(()=>n.abort(),2e3);try{let s=Date.now(),o=await fetch(`https://${t}`,{method:"HEAD",signal:n.signal,cache:"no-cache"}),a=(Date.now()-s)/2;if(!o.ok)throw new Error(`HTTP ${o.status}`);let h=new Date(o.headers.get("date")).getTime();if(isNaN(h))throw new Error("Invalid date header");return{source:t,serverTime:h+a,localTime:Date.now(),latency:a*2}}finally{clearTimeout(i)}}#o(t){if(t.length===1)return t[0].serverTime-t[0].localTime;t.sort((s,o)=>s.latency-o.latency);let n=[];for(let s of t)n.push(s.serverTime-s.localTime);n.sort((s,o)=>s-o);let i=Math.floor(n.length/2);return n.length%2===0?(n[i-1]+n[i])/2:n[i]}async#a(){if(!this.#n)try{let t=await this.#s();if(t.length===0)return;let n=this.#o(t);Math.abs(n-this.#t)>100&&(this.#t=n)}catch(t){this.verbose&&console.warn("[Clock] Background refine failed:",t)}}}});var kn=Tn((Fn,en)=>{(function(I){if(typeof Fn=="object"&&typeof en<"u")en.exports=I();else if(typeof define=="function"&&define.amd)define([],I);else{var t;t=typeof window>"u"?typeof global>"u"?typeof self>"u"?this:self:global:window,t.SimplePeer=I()}})(function(){var I=Math.floor,t=Math.abs,n=Math.pow;return(function(){function i(s,o,a){function h(l,u){if(!o[l]){if(!s[l]){var g=typeof he=="function"&&he;if(!u&&g)return g(l,!0);if(E)return E(l,!0);var y=new Error("Cannot find module '"+l+"'");throw y.code="MODULE_NOT_FOUND",y}var b=o[l]={exports:{}};s[l][0].call(b.exports,function(m){var D=s[l][1][m];return h(D||m)},b,b.exports,i,s,o,a)}return o[l].exports}for(var E=typeof he=="function"&&he,A=0;A<a.length;A++)h(a[A]);return h}return i})()({1:[function(i,s,o){"use strict";function a(B){var C=B.length;if(0<C%4)throw new Error("Invalid string. Length must be a multiple of 4");var S=B.indexOf("=");S===-1&&(S=C);var Q=S===C?0:4-S%4;return[S,Q]}function h(B,C,S){return 3*(C+S)/4-S}function E(B){var C,S,Q=a(B),R=Q[0],F=Q[1],w=new b(h(B,R,F)),_=0,U=0<F?R-4:R;for(S=0;S<U;S+=4)C=y[B.charCodeAt(S)]<<18|y[B.charCodeAt(S+1)]<<12|y[B.charCodeAt(S+2)]<<6|y[B.charCodeAt(S+3)],w[_++]=255&C>>16,w[_++]=255&C>>8,w[_++]=255&C;return F===2&&(C=y[B.charCodeAt(S)]<<2|y[B.charCodeAt(S+1)]>>4,w[_++]=255&C),F===1&&(C=y[B.charCodeAt(S)]<<10|y[B.charCodeAt(S+1)]<<4|y[B.charCodeAt(S+2)]>>2,w[_++]=255&C>>8,w[_++]=255&C),w}function A(B){return g[63&B>>18]+g[63&B>>12]+g[63&B>>6]+g[63&B]}function l(B,C,S){for(var Q,R=[],F=C;F<S;F+=3)Q=(16711680&B[F]<<16)+(65280&B[F+1]<<8)+(255&B[F+2]),R.push(A(Q));return R.join("")}function u(B){for(var C,S=B.length,Q=S%3,R=[],F=16383,w=0,_=S-Q;w<_;w+=F)R.push(l(B,w,w+F>_?_:w+F));return Q===1?(C=B[S-1],R.push(g[C>>2]+g[63&C<<4]+"==")):Q===2&&(C=(B[S-2]<<8)+B[S-1],R.push(g[C>>10]+g[63&C>>4]+g[63&C<<2]+"=")),R.join("")}o.byteLength=function(B){var C=a(B),S=C[0],Q=C[1];return 3*(S+Q)/4-Q},o.toByteArray=E,o.fromByteArray=u;for(var g=[],y=[],b=typeof Uint8Array>"u"?Array:Uint8Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=0,f=m.length;D<f;++D)g[D]=m[D],y[m.charCodeAt(D)]=D;y[45]=62,y[95]=63},{}],2:[function(){},{}],3:[function(i,s,o){(function(){(function(){"use strict";var a=String.fromCharCode,h=Math.min;function E(e){if(2147483647<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=new Uint8Array(e);return r.__proto__=A.prototype,r}function A(e,r,c){if(typeof e=="number"){if(typeof r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(e)}return l(e,r,c)}function l(e,r,c){if(typeof e=="string")return b(e,r);if(ArrayBuffer.isView(e))return m(e);if(e==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(T(e,ArrayBuffer)||e&&T(e.buffer,ArrayBuffer))return D(e,r,c);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var p=e.valueOf&&e.valueOf();if(p!=null&&p!==e)return A.from(p,r,c);var N=f(e);if(N)return N;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return A.from(e[Symbol.toPrimitive]("string"),r,c);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(0>e)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function g(e,r,c){return u(e),0>=e||r===void 0?E(e):typeof c=="string"?E(e).fill(r,c):E(e).fill(r)}function y(e){return u(e),E(0>e?0:0|B(e))}function b(e,r){if((typeof r!="string"||r==="")&&(r="utf8"),!A.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var c=0|C(e,r),p=E(c),N=p.write(e,r);return N!==c&&(p=p.slice(0,N)),p}function m(e){for(var r=0>e.length?0:0|B(e.length),c=E(r),p=0;p<r;p+=1)c[p]=255&e[p];return c}function D(e,r,c){if(0>r||e.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<r+(c||0))throw new RangeError('"length" is outside of buffer bounds');var p;return p=r===void 0&&c===void 0?new Uint8Array(e):c===void 0?new Uint8Array(e,r):new Uint8Array(e,r,c),p.__proto__=A.prototype,p}function f(e){if(A.isBuffer(e)){var r=0|B(e.length),c=E(r);return c.length===0||e.copy(c,0,0,r),c}return e.length===void 0?e.type==="Buffer"&&Array.isArray(e.data)?m(e.data):void 0:typeof e.length!="number"||k(e.length)?E(0):m(e)}function B(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function C(e,r){if(A.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||T(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var c=e.length,p=2<arguments.length&&arguments[2]===!0;if(!p&&c===0)return 0;for(var N=!1;;)switch(r){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":return St(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return Et(e).length;default:if(N)return p?-1:St(e).length;r=(""+r).toLowerCase(),N=!0}}function S(e,r,c){var p=!1;if((r===void 0||0>r)&&(r=0),r>this.length||((c===void 0||c>this.length)&&(c=this.length),0>=c)||(c>>>=0,r>>>=0,c<=r))return"";for(e||(e="utf8");;)switch(e){case"hex":return ot(this,r,c);case"utf8":case"utf-8":return j(this,r,c);case"ascii":return J(this,r,c);case"latin1":case"binary":return Rt(this,r,c);case"base64":return K(this,r,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ht(this,r,c);default:if(p)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),p=!0}}function Q(e,r,c){var p=e[r];e[r]=e[c],e[c]=p}function R(e,r,c,p,N){if(e.length===0)return-1;if(typeof c=="string"?(p=c,c=0):2147483647<c?c=2147483647:-2147483648>c&&(c=-2147483648),c=+c,k(c)&&(c=N?0:e.length-1),0>c&&(c=e.length+c),c>=e.length){if(N)return-1;c=e.length-1}else if(0>c)if(N)c=0;else return-1;if(typeof r=="string"&&(r=A.from(r,p)),A.isBuffer(r))return r.length===0?-1:F(e,r,c,p,N);if(typeof r=="number")return r&=255,typeof Uint8Array.prototype.indexOf=="function"?N?Uint8Array.prototype.indexOf.call(e,r,c):Uint8Array.prototype.lastIndexOf.call(e,r,c):F(e,[r],c,p,N);throw new TypeError("val must be string, number or Buffer")}function F(e,r,c,p,N){function v(ce,ie){return L===1?ce[ie]:ce.readUInt16BE(ie*L)}var L=1,q=e.length,rt=r.length;if(p!==void 0&&(p=(p+"").toLowerCase(),p==="ucs2"||p==="ucs-2"||p==="utf16le"||p==="utf-16le")){if(2>e.length||2>r.length)return-1;L=2,q/=2,rt/=2,c/=2}var $;if(N){var Z=-1;for($=c;$<q;$++)if(v(e,$)!==v(r,Z===-1?0:$-Z))Z!==-1&&($-=$-Z),Z=-1;else if(Z===-1&&(Z=$),$-Z+1===rt)return Z*L}else for(c+rt>q&&(c=q-rt),$=c;0<=$;$--){for(var z=!0,re=0;re<rt;re++)if(v(e,$+re)!==v(r,re)){z=!1;break}if(z)return $}return-1}function w(e,r,c,p){c=+c||0;var N=e.length-c;p?(p=+p,p>N&&(p=N)):p=N;var v=r.length;p>v/2&&(p=v/2);for(var L,q=0;q<p;++q){if(L=parseInt(r.substr(2*q,2),16),k(L))return q;e[c+q]=L}return q}function _(e,r,c,p){return mt(St(r,e.length-c),e,c,p)}function U(e,r,c,p){return mt(jt(r),e,c,p)}function M(e,r,c,p){return U(e,r,c,p)}function H(e,r,c,p){return mt(Et(r),e,c,p)}function Y(e,r,c,p){return mt(vt(r,e.length-c),e,c,p)}function K(e,r,c){return r===0&&c===e.length?O.fromByteArray(e):O.fromByteArray(e.slice(r,c))}function j(e,r,c){c=h(e.length,c);for(var p=[],N=r;N<c;){var v=e[N],L=null,q=239<v?4:223<v?3:191<v?2:1;if(N+q<=c){var rt,$,Z,z;q===1?128>v&&(L=v):q===2?(rt=e[N+1],(192&rt)==128&&(z=(31&v)<<6|63&rt,127<z&&(L=z))):q===3?(rt=e[N+1],$=e[N+2],(192&rt)==128&&(192&$)==128&&(z=(15&v)<<12|(63&rt)<<6|63&$,2047<z&&(55296>z||57343<z)&&(L=z))):q===4&&(rt=e[N+1],$=e[N+2],Z=e[N+3],(192&rt)==128&&(192&$)==128&&(192&Z)==128&&(z=(15&v)<<18|(63&rt)<<12|(63&$)<<6|63&Z,65535<z&&1114112>z&&(L=z)))}L===null?(L=65533,q=1):65535<L&&(L-=65536,p.push(55296|1023&L>>>10),L=56320|1023&L),p.push(L),N+=q}return st(p)}function st(e){var r=e.length;if(r<=4096)return a.apply(String,e);for(var c="",p=0;p<r;)c+=a.apply(String,e.slice(p,p+=4096));return c}function J(e,r,c){var p="";c=h(e.length,c);for(var N=r;N<c;++N)p+=a(127&e[N]);return p}function Rt(e,r,c){var p="";c=h(e.length,c);for(var N=r;N<c;++N)p+=a(e[N]);return p}function ot(e,r,c){var p=e.length;(!r||0>r)&&(r=0),(!c||0>c||c>p)&&(c=p);for(var N="",v=r;v<c;++v)N+=Nt(e[v]);return N}function ht(e,r,c){for(var p=e.slice(r,c),N="",v=0;v<p.length;v+=2)N+=a(p[v]+256*p[v+1]);return N}function W(e,r,c){if(e%1!=0||0>e)throw new RangeError("offset is not uint");if(e+r>c)throw new RangeError("Trying to access beyond buffer length")}function V(e,r,c,p,N,v){if(!A.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>N||r<v)throw new RangeError('"value" argument is out of bounds');if(c+p>e.length)throw new RangeError("Index out of range")}function It(e,r,c,p){if(c+p>e.length)throw new RangeError("Index out of range");if(0>c)throw new RangeError("Index out of range")}function At(e,r,c,p,N){return r=+r,c>>>=0,N||It(e,r,c,4,34028234663852886e22,-34028234663852886e22),x.write(e,r,c,p,23,4),c+4}function wt(e,r,c,p,N){return r=+r,c>>>=0,N||It(e,r,c,8,17976931348623157e292,-17976931348623157e292),x.write(e,r,c,p,52,8),c+8}function et(e){if(e=e.split("=")[0],e=e.trim().replace(G,""),2>e.length)return"";for(;e.length%4!=0;)e+="=";return e}function Nt(e){return 16>e?"0"+e.toString(16):e.toString(16)}function St(e,r){r=r||1/0;for(var c,p=e.length,N=null,v=[],L=0;L<p;++L){if(c=e.charCodeAt(L),55295<c&&57344>c){if(!N){if(56319<c){-1<(r-=3)&&v.push(239,191,189);continue}else if(L+1===p){-1<(r-=3)&&v.push(239,191,189);continue}N=c;continue}if(56320>c){-1<(r-=3)&&v.push(239,191,189),N=c;continue}c=(N-55296<<10|c-56320)+65536}else N&&-1<(r-=3)&&v.push(239,191,189);if(N=null,128>c){if(0>(r-=1))break;v.push(c)}else if(2048>c){if(0>(r-=2))break;v.push(192|c>>6,128|63&c)}else if(65536>c){if(0>(r-=3))break;v.push(224|c>>12,128|63&c>>6,128|63&c)}else if(1114112>c){if(0>(r-=4))break;v.push(240|c>>18,128|63&c>>12,128|63&c>>6,128|63&c)}else throw new Error("Invalid code point")}return v}function jt(e){for(var r=[],c=0;c<e.length;++c)r.push(255&e.charCodeAt(c));return r}function vt(e,r){for(var c,p,N,v=[],L=0;L<e.length&&!(0>(r-=2));++L)c=e.charCodeAt(L),p=c>>8,N=c%256,v.push(N),v.push(p);return v}function Et(e){return O.toByteArray(et(e))}function mt(e,r,c,p){for(var N=0;N<p&&!(N+c>=r.length||N>=e.length);++N)r[N+c]=e[N];return N}function T(e,r){return e instanceof r||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===r.name}function k(e){return e!==e}var O=i("base64-js"),x=i("ieee754");o.Buffer=A,o.SlowBuffer=function(e){return+e!=e&&(e=0),A.alloc(+e)},o.INSPECT_MAX_BYTES=50,o.kMaxLength=2147483647,A.TYPED_ARRAY_SUPPORT=(function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},e.foo()===42}catch{return!1}})(),A.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){return A.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){return A.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol<"u"&&Symbol.species!=null&&A[Symbol.species]===A&&Object.defineProperty(A,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),A.poolSize=8192,A.from=function(e,r,c){return l(e,r,c)},A.prototype.__proto__=Uint8Array.prototype,A.__proto__=Uint8Array,A.alloc=function(e,r,c){return g(e,r,c)},A.allocUnsafe=function(e){return y(e)},A.allocUnsafeSlow=function(e){return y(e)},A.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==A.prototype},A.compare=function(e,r){if(T(e,Uint8Array)&&(e=A.from(e,e.offset,e.byteLength)),T(r,Uint8Array)&&(r=A.from(r,r.offset,r.byteLength)),!A.isBuffer(e)||!A.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var c=e.length,p=r.length,N=0,v=h(c,p);N<v;++N)if(e[N]!==r[N]){c=e[N],p=r[N];break}return c<p?-1:p<c?1:0},A.isEncoding=function(e){switch((e+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return A.alloc(0);var c;if(r===void 0)for(r=0,c=0;c<e.length;++c)r+=e[c].length;var p=A.allocUnsafe(r),N=0;for(c=0;c<e.length;++c){var v=e[c];if(T(v,Uint8Array)&&(v=A.from(v)),!A.isBuffer(v))throw new TypeError('"list" argument must be an Array of Buffers');v.copy(p,N),N+=v.length}return p},A.byteLength=C,A.prototype._isBuffer=!0,A.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)Q(this,r,r+1);return this},A.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)Q(this,r,r+3),Q(this,r+1,r+2);return this},A.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)Q(this,r,r+7),Q(this,r+1,r+6),Q(this,r+2,r+5),Q(this,r+3,r+4);return this},A.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?j(this,0,e):S.apply(this,arguments)},A.prototype.toLocaleString=A.prototype.toString,A.prototype.equals=function(e){if(!A.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||A.compare(this,e)===0},A.prototype.inspect=function(){var e="",r=o.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},A.prototype.compare=function(e,r,c,p,N){if(T(e,Uint8Array)&&(e=A.from(e,e.offset,e.byteLength)),!A.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),c===void 0&&(c=e?e.length:0),p===void 0&&(p=0),N===void 0&&(N=this.length),0>r||c>e.length||0>p||N>this.length)throw new RangeError("out of range index");if(p>=N&&r>=c)return 0;if(p>=N)return-1;if(r>=c)return 1;if(r>>>=0,c>>>=0,p>>>=0,N>>>=0,this===e)return 0;for(var v=N-p,L=c-r,q=h(v,L),rt=this.slice(p,N),$=e.slice(r,c),Z=0;Z<q;++Z)if(rt[Z]!==$[Z]){v=rt[Z],L=$[Z];break}return v<L?-1:L<v?1:0},A.prototype.includes=function(e,r,c){return this.indexOf(e,r,c)!==-1},A.prototype.indexOf=function(e,r,c){return R(this,e,r,c,!0)},A.prototype.lastIndexOf=function(e,r,c){return R(this,e,r,c,!1)},A.prototype.write=function(e,r,c,p){if(r===void 0)p="utf8",c=this.length,r=0;else if(c===void 0&&typeof r=="string")p=r,c=this.length,r=0;else if(isFinite(r))r>>>=0,isFinite(c)?(c>>>=0,p===void 0&&(p="utf8")):(p=c,c=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var N=this.length-r;if((c===void 0||c>N)&&(c=N),0<e.length&&(0>c||0>r)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");p||(p="utf8");for(var v=!1;;)switch(p){case"hex":return w(this,e,r,c);case"utf8":case"utf-8":return _(this,e,r,c);case"ascii":return U(this,e,r,c);case"latin1":case"binary":return M(this,e,r,c);case"base64":return H(this,e,r,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,e,r,c);default:if(v)throw new TypeError("Unknown encoding: "+p);p=(""+p).toLowerCase(),v=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},A.prototype.slice=function(e,r){var c=this.length;e=~~e,r=r===void 0?c:~~r,0>e?(e+=c,0>e&&(e=0)):e>c&&(e=c),0>r?(r+=c,0>r&&(r=0)):r>c&&(r=c),r<e&&(r=e);var p=this.subarray(e,r);return p.__proto__=A.prototype,p},A.prototype.readUIntLE=function(e,r,c){e>>>=0,r>>>=0,c||W(e,r,this.length);for(var p=this[e],N=1,v=0;++v<r&&(N*=256);)p+=this[e+v]*N;return p},A.prototype.readUIntBE=function(e,r,c){e>>>=0,r>>>=0,c||W(e,r,this.length);for(var p=this[e+--r],N=1;0<r&&(N*=256);)p+=this[e+--r]*N;return p},A.prototype.readUInt8=function(e,r){return e>>>=0,r||W(e,1,this.length),this[e]},A.prototype.readUInt16LE=function(e,r){return e>>>=0,r||W(e,2,this.length),this[e]|this[e+1]<<8},A.prototype.readUInt16BE=function(e,r){return e>>>=0,r||W(e,2,this.length),this[e]<<8|this[e+1]},A.prototype.readUInt32LE=function(e,r){return e>>>=0,r||W(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},A.prototype.readUInt32BE=function(e,r){return e>>>=0,r||W(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},A.prototype.readIntLE=function(e,r,c){e>>>=0,r>>>=0,c||W(e,r,this.length);for(var p=this[e],N=1,v=0;++v<r&&(N*=256);)p+=this[e+v]*N;return N*=128,p>=N&&(p-=n(2,8*r)),p},A.prototype.readIntBE=function(e,r,c){e>>>=0,r>>>=0,c||W(e,r,this.length);for(var p=r,N=1,v=this[e+--p];0<p&&(N*=256);)v+=this[e+--p]*N;return N*=128,v>=N&&(v-=n(2,8*r)),v},A.prototype.readInt8=function(e,r){return e>>>=0,r||W(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},A.prototype.readInt16LE=function(e,r){e>>>=0,r||W(e,2,this.length);var c=this[e]|this[e+1]<<8;return 32768&c?4294901760|c:c},A.prototype.readInt16BE=function(e,r){e>>>=0,r||W(e,2,this.length);var c=this[e+1]|this[e]<<8;return 32768&c?4294901760|c:c},A.prototype.readInt32LE=function(e,r){return e>>>=0,r||W(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},A.prototype.readInt32BE=function(e,r){return e>>>=0,r||W(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},A.prototype.readFloatLE=function(e,r){return e>>>=0,r||W(e,4,this.length),x.read(this,e,!0,23,4)},A.prototype.readFloatBE=function(e,r){return e>>>=0,r||W(e,4,this.length),x.read(this,e,!1,23,4)},A.prototype.readDoubleLE=function(e,r){return e>>>=0,r||W(e,8,this.length),x.read(this,e,!0,52,8)},A.prototype.readDoubleBE=function(e,r){return e>>>=0,r||W(e,8,this.length),x.read(this,e,!1,52,8)},A.prototype.writeUIntLE=function(e,r,c,p){if(e=+e,r>>>=0,c>>>=0,!p){var N=n(2,8*c)-1;V(this,e,r,c,N,0)}var v=1,L=0;for(this[r]=255&e;++L<c&&(v*=256);)this[r+L]=255&e/v;return r+c},A.prototype.writeUIntBE=function(e,r,c,p){if(e=+e,r>>>=0,c>>>=0,!p){var N=n(2,8*c)-1;V(this,e,r,c,N,0)}var v=c-1,L=1;for(this[r+v]=255&e;0<=--v&&(L*=256);)this[r+v]=255&e/L;return r+c},A.prototype.writeUInt8=function(e,r,c){return e=+e,r>>>=0,c||V(this,e,r,1,255,0),this[r]=255&e,r+1},A.prototype.writeUInt16LE=function(e,r,c){return e=+e,r>>>=0,c||V(this,e,r,2,65535,0),this[r]=255&e,this[r+1]=e>>>8,r+2},A.prototype.writeUInt16BE=function(e,r,c){return e=+e,r>>>=0,c||V(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=255&e,r+2},A.prototype.writeUInt32LE=function(e,r,c){return e=+e,r>>>=0,c||V(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=255&e,r+4},A.prototype.writeUInt32BE=function(e,r,c){return e=+e,r>>>=0,c||V(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=255&e,r+4},A.prototype.writeIntLE=function(e,r,c,p){if(e=+e,r>>>=0,!p){var N=n(2,8*c-1);V(this,e,r,c,N-1,-N)}var v=0,L=1,q=0;for(this[r]=255&e;++v<c&&(L*=256);)0>e&&q===0&&this[r+v-1]!==0&&(q=1),this[r+v]=255&(e/L>>0)-q;return r+c},A.prototype.writeIntBE=function(e,r,c,p){if(e=+e,r>>>=0,!p){var N=n(2,8*c-1);V(this,e,r,c,N-1,-N)}var v=c-1,L=1,q=0;for(this[r+v]=255&e;0<=--v&&(L*=256);)0>e&&q===0&&this[r+v+1]!==0&&(q=1),this[r+v]=255&(e/L>>0)-q;return r+c},A.prototype.writeInt8=function(e,r,c){return e=+e,r>>>=0,c||V(this,e,r,1,127,-128),0>e&&(e=255+e+1),this[r]=255&e,r+1},A.prototype.writeInt16LE=function(e,r,c){return e=+e,r>>>=0,c||V(this,e,r,2,32767,-32768),this[r]=255&e,this[r+1]=e>>>8,r+2},A.prototype.writeInt16BE=function(e,r,c){return e=+e,r>>>=0,c||V(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=255&e,r+2},A.prototype.writeInt32LE=function(e,r,c){return e=+e,r>>>=0,c||V(this,e,r,4,2147483647,-2147483648),this[r]=255&e,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4},A.prototype.writeInt32BE=function(e,r,c){return e=+e,r>>>=0,c||V(this,e,r,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=255&e,r+4},A.prototype.writeFloatLE=function(e,r,c){return At(this,e,r,!0,c)},A.prototype.writeFloatBE=function(e,r,c){return At(this,e,r,!1,c)},A.prototype.writeDoubleLE=function(e,r,c){return wt(this,e,r,!0,c)},A.prototype.writeDoubleBE=function(e,r,c){return wt(this,e,r,!1,c)},A.prototype.copy=function(e,r,c,p){if(!A.isBuffer(e))throw new TypeError("argument should be a Buffer");if(c||(c=0),p||p===0||(p=this.length),r>=e.length&&(r=e.length),r||(r=0),0<p&&p<c&&(p=c),p===c||e.length===0||this.length===0)return 0;if(0>r)throw new RangeError("targetStart out of bounds");if(0>c||c>=this.length)throw new RangeError("Index out of range");if(0>p)throw new RangeError("sourceEnd out of bounds");p>this.length&&(p=this.length),e.length-r<p-c&&(p=e.length-r+c);var N=p-c;if(this===e&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(r,c,p);else if(this===e&&c<r&&r<p)for(var v=N-1;0<=v;--v)e[v+r]=this[v+c];else Uint8Array.prototype.set.call(e,this.subarray(c,p),r);return N},A.prototype.fill=function(e,r,c,p){if(typeof e=="string"){if(typeof r=="string"?(p=r,r=0,c=this.length):typeof c=="string"&&(p=c,c=this.length),p!==void 0&&typeof p!="string")throw new TypeError("encoding must be a string");if(typeof p=="string"&&!A.isEncoding(p))throw new TypeError("Unknown encoding: "+p);if(e.length===1){var N=e.charCodeAt(0);(p==="utf8"&&128>N||p==="latin1")&&(e=N)}}else typeof e=="number"&&(e&=255);if(0>r||this.length<r||this.length<c)throw new RangeError("Out of range index");if(c<=r)return this;r>>>=0,c=c===void 0?this.length:c>>>0,e||(e=0);var v;if(typeof e=="number")for(v=r;v<c;++v)this[v]=e;else{var L=A.isBuffer(e)?e:A.from(e,p),q=L.length;if(q===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(v=0;v<c-r;++v)this[v+r]=L[v%q]}return this};var G=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,i("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(i,s,o){(function(a){(function(){function h(){let A;try{A=o.storage.getItem("debug")}catch{}return!A&&typeof a<"u"&&"env"in a&&(A=a.env.DEBUG),A}o.formatArgs=function(A){if(A[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+A[0]+(this.useColors?"%c ":" ")+"+"+s.exports.humanize(this.diff),!this.useColors)return;let l="color: "+this.color;A.splice(1,0,l,"color: inherit");let u=0,g=0;A[0].replace(/%[a-zA-Z%]/g,y=>{y==="%%"||(u++,y==="%c"&&(g=u))}),A.splice(g,0,l)},o.save=function(A){try{A?o.storage.setItem("debug",A):o.storage.removeItem("debug")}catch{}},o.load=h,o.useColors=function(){return!!(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},o.storage=(function(){try{return localStorage}catch{}})(),o.destroy=(()=>{let A=!1;return()=>{A||(A=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),o.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],o.log=console.debug||console.log||(()=>{}),s.exports=i("./common")(o);let{formatters:E}=s.exports;E.j=function(A){try{return JSON.stringify(A)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}}).call(this)}).call(this,i("_process"))},{"./common":5,_process:12}],5:[function(i,s){s.exports=function(o){function a(A){function l(...y){if(!l.enabled)return;let b=l,m=+new Date,D=m-(u||m);b.diff=D,b.prev=u,b.curr=m,u=m,y[0]=a.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let f=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(C,S)=>{if(C==="%%")return"%";f++;let Q=a.formatters[S];if(typeof Q=="function"){let R=y[f];C=Q.call(b,R),y.splice(f,1),f--}return C}),a.formatArgs.call(b,y),(b.log||a.log).apply(b,y)}let u,g=null;return l.namespace=A,l.useColors=a.useColors(),l.color=a.selectColor(A),l.extend=h,l.destroy=a.destroy,Object.defineProperty(l,"enabled",{enumerable:!0,configurable:!1,get:()=>g===null?a.enabled(A):g,set:y=>{g=y}}),typeof a.init=="function"&&a.init(l),l}function h(A,l){let u=a(this.namespace+(typeof l>"u"?":":l)+A);return u.log=this.log,u}function E(A){return A.toString().substring(2,A.toString().length-2).replace(/\.\*\?$/,"*")}return a.debug=a,a.default=a,a.coerce=function(A){return A instanceof Error?A.stack||A.message:A},a.disable=function(){let A=[...a.names.map(E),...a.skips.map(E).map(l=>"-"+l)].join(",");return a.enable(""),A},a.enable=function(A){a.save(A),a.names=[],a.skips=[];let l,u=(typeof A=="string"?A:"").split(/[\s,]+/),g=u.length;for(l=0;l<g;l++)u[l]&&(A=u[l].replace(/\*/g,".*?"),A[0]==="-"?a.skips.push(new RegExp("^"+A.substr(1)+"$")):a.names.push(new RegExp("^"+A+"$")))},a.enabled=function(A){if(A[A.length-1]==="*")return!0;let l,u;for(l=0,u=a.skips.length;l<u;l++)if(a.skips[l].test(A))return!1;for(l=0,u=a.names.length;l<u;l++)if(a.names[l].test(A))return!0;return!1},a.humanize=i("ms"),a.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(o).forEach(A=>{a[A]=o[A]}),a.names=[],a.skips=[],a.formatters={},a.selectColor=function(A){let l=0;for(let u=0;u<A.length;u++)l=(l<<5)-l+A.charCodeAt(u),l|=0;return a.colors[t(l)%a.colors.length]},a.enable(a.load()),a}},{ms:11}],6:[function(i,s){"use strict";function o(a,h){for(let E in h)Object.defineProperty(a,E,{value:h[E],enumerable:!0,configurable:!0});return a}s.exports=function(a,h,E){if(!a||typeof a=="string")throw new TypeError("Please pass an Error to err-code");E||(E={}),typeof h=="object"&&(E=h,h=""),h&&(E.code=h);try{return o(a,E)}catch{E.message=a.message,E.stack=a.stack;let l=function(){};return l.prototype=Object.create(Object.getPrototypeOf(a)),o(new l,E)}}},{}],7:[function(i,s){"use strict";function o(w){console&&console.warn&&console.warn(w)}function a(){a.init.call(this)}function h(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}function E(w){return w._maxListeners===void 0?a.defaultMaxListeners:w._maxListeners}function A(w,_,U,M){var H,Y,K;if(h(U),Y=w._events,Y===void 0?(Y=w._events=Object.create(null),w._eventsCount=0):(Y.newListener!==void 0&&(w.emit("newListener",_,U.listener?U.listener:U),Y=w._events),K=Y[_]),K===void 0)K=Y[_]=U,++w._eventsCount;else if(typeof K=="function"?K=Y[_]=M?[U,K]:[K,U]:M?K.unshift(U):K.push(U),H=E(w),0<H&&K.length>H&&!K.warned){K.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+K.length+" "+(_+" listeners added. Use emitter.setMaxListeners() to increase limit"));j.name="MaxListenersExceededWarning",j.emitter=w,j.type=_,j.count=K.length,o(j)}return w}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(w,_,U){var M={fired:!1,wrapFn:void 0,target:w,type:_,listener:U},H=l.bind(M);return H.listener=U,M.wrapFn=H,H}function g(w,_,U){var M=w._events;if(M===void 0)return[];var H=M[_];return H===void 0?[]:typeof H=="function"?U?[H.listener||H]:[H]:U?D(H):b(H,H.length)}function y(w){var _=this._events;if(_!==void 0){var U=_[w];if(typeof U=="function")return 1;if(U!==void 0)return U.length}return 0}function b(w,_){for(var U=Array(_),M=0;M<_;++M)U[M]=w[M];return U}function m(w,_){for(;_+1<w.length;_++)w[_]=w[_+1];w.pop()}function D(w){for(var _=Array(w.length),U=0;U<_.length;++U)_[U]=w[U].listener||w[U];return _}function f(w,_,U){typeof w.on=="function"&&B(w,"error",_,U)}function B(w,_,U,M){if(typeof w.on=="function")M.once?w.once(_,U):w.on(_,U);else if(typeof w.addEventListener=="function")w.addEventListener(_,function H(Y){M.once&&w.removeEventListener(_,H),U(Y)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w)}var C,S=typeof Reflect=="object"?Reflect:null,Q=S&&typeof S.apply=="function"?S.apply:function(w,_,U){return Function.prototype.apply.call(w,_,U)};C=S&&typeof S.ownKeys=="function"?S.ownKeys:Object.getOwnPropertySymbols?function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:function(w){return Object.getOwnPropertyNames(w)};var R=Number.isNaN||function(w){return w!==w};s.exports=a,s.exports.once=function(w,_){return new Promise(function(U,M){function H(K){w.removeListener(_,Y),M(K)}function Y(){typeof w.removeListener=="function"&&w.removeListener("error",H),U([].slice.call(arguments))}B(w,_,Y,{once:!0}),_!=="error"&&f(w,H,{once:!0})})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var F=10;Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return F},set:function(w){if(typeof w!="number"||0>w||R(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");F=w}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(w){if(typeof w!="number"||0>w||R(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this},a.prototype.getMaxListeners=function(){return E(this)},a.prototype.emit=function(w){for(var _=[],U=1;U<arguments.length;U++)_.push(arguments[U]);var M=w==="error",H=this._events;if(H!==void 0)M=M&&H.error===void 0;else if(!M)return!1;if(M){var Y;if(0<_.length&&(Y=_[0]),Y instanceof Error)throw Y;var K=new Error("Unhandled error."+(Y?" ("+Y.message+")":""));throw K.context=Y,K}var j=H[w];if(j===void 0)return!1;if(typeof j=="function")Q(j,this,_);else for(var st=j.length,J=b(j,st),U=0;U<st;++U)Q(J[U],this,_);return!0},a.prototype.addListener=function(w,_){return A(this,w,_,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(w,_){return A(this,w,_,!0)},a.prototype.once=function(w,_){return h(_),this.on(w,u(this,w,_)),this},a.prototype.prependOnceListener=function(w,_){return h(_),this.prependListener(w,u(this,w,_)),this},a.prototype.removeListener=function(w,_){var U,M,H,Y,K;if(h(_),M=this._events,M===void 0)return this;if(U=M[w],U===void 0)return this;if(U===_||U.listener===_)--this._eventsCount==0?this._events=Object.create(null):(delete M[w],M.removeListener&&this.emit("removeListener",w,U.listener||_));else if(typeof U!="function"){for(H=-1,Y=U.length-1;0<=Y;Y--)if(U[Y]===_||U[Y].listener===_){K=U[Y].listener,H=Y;break}if(0>H)return this;H===0?U.shift():m(U,H),U.length===1&&(M[w]=U[0]),M.removeListener!==void 0&&this.emit("removeListener",w,K||_)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(w){var _,U,M;if(U=this._events,U===void 0)return this;if(U.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):U[w]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete U[w]),this;if(arguments.length===0){var H,Y=Object.keys(U);for(M=0;M<Y.length;++M)H=Y[M],H!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(_=U[w],typeof _=="function")this.removeListener(w,_);else if(_!==void 0)for(M=_.length-1;0<=M;M--)this.removeListener(w,_[M]);return this},a.prototype.listeners=function(w){return g(this,w,!0)},a.prototype.rawListeners=function(w){return g(this,w,!1)},a.listenerCount=function(w,_){return typeof w.listenerCount=="function"?w.listenerCount(_):y.call(w,_)},a.prototype.listenerCount=y,a.prototype.eventNames=function(){return 0<this._eventsCount?C(this._events):[]}},{}],8:[function(i,s){s.exports=function(){if(typeof globalThis>"u")return null;var o={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return o.RTCPeerConnection?o:null}},{}],9:[function(i,s,o){o.read=function(a,h,E,A,l){var u,g,y=8*l-A-1,b=(1<<y)-1,m=b>>1,D=-7,f=E?l-1:0,B=E?-1:1,C=a[h+f];for(f+=B,u=C&(1<<-D)-1,C>>=-D,D+=y;0<D;u=256*u+a[h+f],f+=B,D-=8);for(g=u&(1<<-D)-1,u>>=-D,D+=A;0<D;g=256*g+a[h+f],f+=B,D-=8);if(u===0)u=1-m;else{if(u===b)return g?NaN:(C?-1:1)*(1/0);g+=n(2,A),u-=m}return(C?-1:1)*g*n(2,u-A)},o.write=function(a,h,E,A,l,u){var g,y,b,m=Math.LN2,D=Math.log,f=8*u-l-1,B=(1<<f)-1,C=B>>1,S=l===23?n(2,-24)-n(2,-77):0,Q=A?0:u-1,R=A?1:-1,F=0>h||h===0&&0>1/h?1:0;for(h=t(h),isNaN(h)||h===1/0?(y=isNaN(h)?1:0,g=B):(g=I(D(h)/m),1>h*(b=n(2,-g))&&(g--,b*=2),h+=1<=g+C?S/b:S*n(2,1-C),2<=h*b&&(g++,b/=2),g+C>=B?(y=0,g=B):1<=g+C?(y=(h*b-1)*n(2,l),g+=C):(y=h*n(2,C-1)*n(2,l),g=0));8<=l;a[E+Q]=255&y,Q+=R,y/=256,l-=8);for(g=g<<l|y,f+=l;0<f;a[E+Q]=255&g,Q+=R,g/=256,f-=8);a[E+Q-R]|=128*F}},{}],10:[function(i,s){s.exports=typeof Object.create=="function"?function(o,a){a&&(o.super_=a,o.prototype=Object.create(a.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:function(o,a){if(a){o.super_=a;var h=function(){};h.prototype=a.prototype,o.prototype=new h,o.prototype.constructor=o}}},{}],11:[function(i,s){var o=Math.round;function a(u){if(u+="",!(100<u.length)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(g){var y=parseFloat(g[1]),b=(g[2]||"ms").toLowerCase();return b==="years"||b==="year"||b==="yrs"||b==="yr"||b==="y"?315576e5*y:b==="weeks"||b==="week"||b==="w"?6048e5*y:b==="days"||b==="day"||b==="d"?864e5*y:b==="hours"||b==="hour"||b==="hrs"||b==="hr"||b==="h"?36e5*y:b==="minutes"||b==="minute"||b==="mins"||b==="min"||b==="m"?6e4*y:b==="seconds"||b==="second"||b==="secs"||b==="sec"||b==="s"?1e3*y:b==="milliseconds"||b==="millisecond"||b==="msecs"||b==="msec"||b==="ms"?y:void 0}}}function h(u){var g=t(u);return 864e5<=g?o(u/864e5)+"d":36e5<=g?o(u/36e5)+"h":6e4<=g?o(u/6e4)+"m":1e3<=g?o(u/1e3)+"s":u+"ms"}function E(u){var g=t(u);return 864e5<=g?A(u,g,864e5,"day"):36e5<=g?A(u,g,36e5,"hour"):6e4<=g?A(u,g,6e4,"minute"):1e3<=g?A(u,g,1e3,"second"):u+" ms"}function A(u,g,y,b){return o(u/y)+" "+b+(g>=1.5*y?"s":"")}var l=24*(60*6e4);s.exports=function(u,g){g=g||{};var y=typeof u;if(y=="string"&&0<u.length)return a(u);if(y==="number"&&isFinite(u))return g.long?E(u):h(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))}},{}],12:[function(i,s){function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function h(S){if(y===setTimeout)return setTimeout(S,0);if((y===o||!y)&&setTimeout)return y=setTimeout,setTimeout(S,0);try{return y(S,0)}catch{try{return y.call(null,S,0)}catch{return y.call(this,S,0)}}}function E(S){if(b===clearTimeout)return clearTimeout(S);if((b===a||!b)&&clearTimeout)return b=clearTimeout,clearTimeout(S);try{return b(S)}catch{try{return b.call(null,S)}catch{return b.call(this,S)}}}function A(){B&&D&&(B=!1,D.length?f=D.concat(f):C=-1,f.length&&l())}function l(){if(!B){var S=h(A);B=!0;for(var Q=f.length;Q;){for(D=f,f=[];++C<Q;)D&&D[C].run();C=-1,Q=f.length}D=null,B=!1,E(S)}}function u(S,Q){this.fun=S,this.array=Q}function g(){}var y,b,m=s.exports={};(function(){try{y=typeof setTimeout=="function"?setTimeout:o}catch{y=o}try{b=typeof clearTimeout=="function"?clearTimeout:a}catch{b=a}})();var D,f=[],B=!1,C=-1;m.nextTick=function(S){var Q=Array(arguments.length-1);if(1<arguments.length)for(var R=1;R<arguments.length;R++)Q[R-1]=arguments[R];f.push(new u(S,Q)),f.length!==1||B||h(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=g,m.addListener=g,m.once=g,m.off=g,m.removeListener=g,m.removeAllListeners=g,m.emit=g,m.prependListener=g,m.prependOnceListener=g,m.listeners=function(){return[]},m.binding=function(){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},{}],13:[function(i,s){(function(o){(function(){let a;s.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window>"u"?o:window):h=>(a||(a=Promise.resolve())).then(h).catch(E=>setTimeout(()=>{throw E},0))}).call(this)}).call(this,typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{}],14:[function(i,s){(function(o,a){(function(){"use strict";var h=i("safe-buffer").Buffer,E=a.crypto||a.msCrypto;s.exports=E&&E.getRandomValues?function(A,l){if(A>4294967295)throw new RangeError("requested too many random bytes");var u=h.allocUnsafe(A);if(0<A)if(65536<A)for(var g=0;g<A;g+=65536)E.getRandomValues(u.slice(g,g+65536));else E.getRandomValues(u);return typeof l=="function"?o.nextTick(function(){l(null,u)}):u}:function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,i("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{_process:12,"safe-buffer":30}],15:[function(i,s){"use strict";function o(g,y){g.prototype=Object.create(y.prototype),g.prototype.constructor=g,g.__proto__=y}function a(g,y,b){function m(f,B,C){return typeof y=="string"?y:y(f,B,C)}b||(b=Error);var D=(function(f){function B(C,S,Q){return f.call(this,m(C,S,Q))||this}return o(B,f),B})(b);D.prototype.name=b.name,D.prototype.code=g,u[g]=D}function h(g,y){if(Array.isArray(g)){var b=g.length;return g=g.map(function(m){return m+""}),2<b?"one of ".concat(y," ").concat(g.slice(0,b-1).join(", "),", or ")+g[b-1]:b===2?"one of ".concat(y," ").concat(g[0]," or ").concat(g[1]):"of ".concat(y," ").concat(g[0])}return"of ".concat(y," ").concat(g+"")}function E(g,y,b){return g.substr(!b||0>b?0:+b,y.length)===y}function A(g,y,b){return(b===void 0||b>g.length)&&(b=g.length),g.substring(b-y.length,b)===y}function l(g,y,b){return typeof b!="number"&&(b=0),!(b+y.length>g.length)&&g.indexOf(y,b)!==-1}var u={};a("ERR_INVALID_OPT_VALUE",function(g,y){return'The value "'+y+'" is invalid for option "'+g+'"'},TypeError),a("ERR_INVALID_ARG_TYPE",function(g,y,b){var m;typeof y=="string"&&E(y,"not ")?(m="must not be",y=y.replace(/^not /,"")):m="must be";var D;if(A(g," argument"))D="The ".concat(g," ").concat(m," ").concat(h(y,"type"));else{var f=l(g,".")?"property":"argument";D='The "'.concat(g,'" ').concat(f," ").concat(m," ").concat(h(y,"type"))}return D+=". Received type ".concat(typeof b),D},TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",function(g){return"The "+g+" method is not implemented"}),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",function(g){return"Cannot call "+g+" after a stream was destroyed"}),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",function(g){return"Unknown encoding: "+g},TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.codes=u},{}],16:[function(i,s){(function(o){(function(){"use strict";function a(m){return this instanceof a?(l.call(this,m),u.call(this,m),this.allowHalfOpen=!0,void(m&&(m.readable===!1&&(this.readable=!1),m.writable===!1&&(this.writable=!1),m.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h))))):new a(m)}function h(){this._writableState.ended||o.nextTick(E,this)}function E(m){m.end()}var A=Object.keys||function(m){var D=[];for(var f in m)D.push(f);return D};s.exports=a;var l=i("./_stream_readable"),u=i("./_stream_writable");i("inherits")(a,l);for(var g,y=A(u.prototype),b=0;b<y.length;b++)g=y[b],a.prototype[g]||(a.prototype[g]=u.prototype[g]);Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=m,this._writableState.destroyed=m)}})}).call(this)}).call(this,i("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(i,s){"use strict";function o(h){return this instanceof o?void a.call(this,h):new o(h)}s.exports=o;var a=i("./_stream_transform");i("inherits")(o,a),o.prototype._transform=function(h,E,A){A(null,h)}},{"./_stream_transform":19,inherits:10}],18:[function(i,s){(function(o,a){(function(){"use strict";function h(e){return W.from(e)}function E(e){return W.isBuffer(e)||e instanceof V}function A(e,r,c){return typeof e.prependListener=="function"?e.prependListener(r,c):void(e._events&&e._events[r]?Array.isArray(e._events[r])?e._events[r].unshift(c):e._events[r]=[c,e._events[r]]:e.on(r,c))}function l(e,r,c){st=st||i("./_stream_duplex"),e=e||{},typeof c!="boolean"&&(c=r instanceof st),this.objectMode=!!e.objectMode,c&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=vt(this,e,"readableHighWaterMark",c),this.buffer=new Nt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(!At&&(At=i("string_decoder/").StringDecoder),this.decoder=new At(e.encoding),this.encoding=e.encoding)}function u(e){if(st=st||i("./_stream_duplex"),!(this instanceof u))return new u(e);var r=this instanceof st;this._readableState=new l(e,this,r),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),ht.call(this)}function g(e,r,c,p,N){J("readableAddChunk",r);var v=e._readableState;if(r===null)v.reading=!1,f(e,v);else{var L;if(N||(L=b(v,r)),L)x(e,L);else if(!(v.objectMode||r&&0<r.length))p||(v.reading=!1,S(e,v));else if(typeof r=="string"||v.objectMode||Object.getPrototypeOf(r)===W.prototype||(r=h(r)),p)v.endEmitted?x(e,new O):y(e,v,r,!0);else if(v.ended)x(e,new T);else{if(v.destroyed)return!1;v.reading=!1,v.decoder&&!c?(r=v.decoder.write(r),v.objectMode||r.length!==0?y(e,v,r,!1):S(e,v)):y(e,v,r,!1)}}return!v.ended&&(v.length<v.highWaterMark||v.length===0)}function y(e,r,c,p){r.flowing&&r.length===0&&!r.sync?(r.awaitDrain=0,e.emit("data",c)):(r.length+=r.objectMode?1:c.length,p?r.buffer.unshift(c):r.buffer.push(c),r.needReadable&&B(e)),S(e,r)}function b(e,r){var c;return E(r)||typeof r=="string"||r===void 0||e.objectMode||(c=new mt("chunk",["string","Buffer","Uint8Array"],r)),c}function m(e){return 1073741824<=e?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function D(e,r){return 0>=e||r.length===0&&r.ended?0:r.objectMode?1:e===e?(e>r.highWaterMark&&(r.highWaterMark=m(e)),e<=r.length?e:r.ended?r.length:(r.needReadable=!0,0)):r.flowing&&r.length?r.buffer.head.data.length:r.length}function f(e,r){if(J("onEofChunk"),!r.ended){if(r.decoder){var c=r.decoder.end();c&&c.length&&(r.buffer.push(c),r.length+=r.objectMode?1:c.length)}r.ended=!0,r.sync?B(e):(r.needReadable=!1,!r.emittedReadable&&(r.emittedReadable=!0,C(e)))}}function B(e){var r=e._readableState;J("emitReadable",r.needReadable,r.emittedReadable),r.needReadable=!1,r.emittedReadable||(J("emitReadable",r.flowing),r.emittedReadable=!0,o.nextTick(C,e))}function C(e){var r=e._readableState;J("emitReadable_",r.destroyed,r.length,r.ended),!r.destroyed&&(r.length||r.ended)&&(e.emit("readable"),r.emittedReadable=!1),r.needReadable=!r.flowing&&!r.ended&&r.length<=r.highWaterMark,M(e)}function S(e,r){r.readingMore||(r.readingMore=!0,o.nextTick(Q,e,r))}function Q(e,r){for(;!r.reading&&!r.ended&&(r.length<r.highWaterMark||r.flowing&&r.length===0);){var c=r.length;if(J("maybeReadMore read 0"),e.read(0),c===r.length)break}r.readingMore=!1}function R(e){return function(){var r=e._readableState;J("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&ot(e,"data")&&(r.flowing=!0,M(e))}}function F(e){var r=e._readableState;r.readableListening=0<e.listenerCount("readable"),r.resumeScheduled&&!r.paused?r.flowing=!0:0<e.listenerCount("data")&&e.resume()}function w(e){J("readable nexttick read 0"),e.read(0)}function _(e,r){r.resumeScheduled||(r.resumeScheduled=!0,o.nextTick(U,e,r))}function U(e,r){J("resume",r.reading),r.reading||e.read(0),r.resumeScheduled=!1,e.emit("resume"),M(e),r.flowing&&!r.reading&&e.read(0)}function M(e){var r=e._readableState;for(J("flow",r.flowing);r.flowing&&e.read()!==null;);}function H(e,r){if(r.length===0)return null;var c;return r.objectMode?c=r.buffer.shift():!e||e>=r.length?(c=r.decoder?r.buffer.join(""):r.buffer.length===1?r.buffer.first():r.buffer.concat(r.length),r.buffer.clear()):c=r.buffer.consume(e,r.decoder),c}function Y(e){var r=e._readableState;J("endReadable",r.endEmitted),r.endEmitted||(r.ended=!0,o.nextTick(K,r,e))}function K(e,r){if(J("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,r.readable=!1,r.emit("end"),e.autoDestroy)){var c=r._writableState;(!c||c.autoDestroy&&c.finished)&&r.destroy()}}function j(e,r){for(var c=0,p=e.length;c<p;c++)if(e[c]===r)return c;return-1}s.exports=u;var st;u.ReadableState=l;var J,Rt=i("events").EventEmitter,ot=function(e,r){return e.listeners(r).length},ht=i("./internal/streams/stream"),W=i("buffer").Buffer,V=a.Uint8Array||function(){},It=i("util");J=It&&It.debuglog?It.debuglog("stream"):function(){};var At,wt,et,Nt=i("./internal/streams/buffer_list"),St=i("./internal/streams/destroy"),jt=i("./internal/streams/state"),vt=jt.getHighWaterMark,Et=i("../errors").codes,mt=Et.ERR_INVALID_ARG_TYPE,T=Et.ERR_STREAM_PUSH_AFTER_EOF,k=Et.ERR_METHOD_NOT_IMPLEMENTED,O=Et.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i("inherits")(u,ht);var x=St.errorOrDestroy,G=["error","close","destroy","pause","resume"];Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),u.prototype.destroy=St.destroy,u.prototype._undestroy=St.undestroy,u.prototype._destroy=function(e,r){r(e)},u.prototype.push=function(e,r){var c,p=this._readableState;return p.objectMode?c=!0:typeof e=="string"&&(r=r||p.defaultEncoding,r!==p.encoding&&(e=W.from(e,r),r=""),c=!0),g(this,e,r,!1,c)},u.prototype.unshift=function(e){return g(this,e,null,!0,!1)},u.prototype.isPaused=function(){return this._readableState.flowing===!1},u.prototype.setEncoding=function(e){At||(At=i("string_decoder/").StringDecoder);var r=new At(e);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var c=this._readableState.buffer.head,p="";c!==null;)p+=r.write(c.data),c=c.next;return this._readableState.buffer.clear(),p!==""&&this._readableState.buffer.push(p),this._readableState.length=p.length,this},u.prototype.read=function(e){J("read",e),e=parseInt(e,10);var r=this._readableState,c=e;if(e!==0&&(r.emittedReadable=!1),e===0&&r.needReadable&&((r.highWaterMark===0?0<r.length:r.length>=r.highWaterMark)||r.ended))return J("read: emitReadable",r.length,r.ended),r.length===0&&r.ended?Y(this):B(this),null;if(e=D(e,r),e===0&&r.ended)return r.length===0&&Y(this),null;var p=r.needReadable;J("need readable",p),(r.length===0||r.length-e<r.highWaterMark)&&(p=!0,J("length less than watermark",p)),r.ended||r.reading?(p=!1,J("reading or ended",p)):p&&(J("do read"),r.reading=!0,r.sync=!0,r.length===0&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,!r.reading&&(e=D(c,r)));var N;return N=0<e?H(e,r):null,N===null?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),r.length===0&&(!r.ended&&(r.needReadable=!0),c!==e&&r.ended&&Y(this)),N!==null&&this.emit("data",N),N},u.prototype._read=function(){x(this,new k("_read()"))},u.prototype.pipe=function(e,r){function c(se,Ae){J("onunpipe"),se===Z&&Ae&&Ae.hasUnpiped===!1&&(Ae.hasUnpiped=!0,N())}function p(){J("onend"),e.end()}function N(){J("cleanup"),e.removeListener("close",q),e.removeListener("finish",rt),e.removeListener("drain",ie),e.removeListener("error",L),e.removeListener("unpipe",c),Z.removeListener("end",p),Z.removeListener("end",$),Z.removeListener("data",v),Nn=!0,z.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&ie()}function v(se){J("ondata");var Ae=e.write(se);J("dest.write",Ae),Ae===!1&&((z.pipesCount===1&&z.pipes===e||1<z.pipesCount&&j(z.pipes,e)!==-1)&&!Nn&&(J("false write response, pause",z.awaitDrain),z.awaitDrain++),Z.pause())}function L(se){J("onerror",se),$(),e.removeListener("error",L),ot(e,"error")===0&&x(e,se)}function q(){e.removeListener("finish",rt),$()}function rt(){J("onfinish"),e.removeListener("close",q),$()}function $(){J("unpipe"),Z.unpipe(e)}var Z=this,z=this._readableState;switch(z.pipesCount){case 0:z.pipes=e;break;case 1:z.pipes=[z.pipes,e];break;default:z.pipes.push(e)}z.pipesCount+=1,J("pipe count=%d opts=%j",z.pipesCount,r);var re=(!r||r.end!==!1)&&e!==o.stdout&&e!==o.stderr,ce=re?p:$;z.endEmitted?o.nextTick(ce):Z.once("end",ce),e.on("unpipe",c);var ie=R(Z);e.on("drain",ie);var Nn=!1;return Z.on("data",v),A(e,"error",L),e.once("close",q),e.once("finish",rt),e.emit("pipe",Z),z.flowing||(J("pipe resume"),Z.resume()),e},u.prototype.unpipe=function(e){var r=this._readableState,c={hasUnpiped:!1};if(r.pipesCount===0)return this;if(r.pipesCount===1)return e&&e!==r.pipes?this:(e||(e=r.pipes),r.pipes=null,r.pipesCount=0,r.flowing=!1,e&&e.emit("unpipe",this,c),this);if(!e){var p=r.pipes,N=r.pipesCount;r.pipes=null,r.pipesCount=0,r.flowing=!1;for(var v=0;v<N;v++)p[v].emit("unpipe",this,{hasUnpiped:!1});return this}var L=j(r.pipes,e);return L===-1?this:(r.pipes.splice(L,1),r.pipesCount-=1,r.pipesCount===1&&(r.pipes=r.pipes[0]),e.emit("unpipe",this,c),this)},u.prototype.on=function(e,r){var c=ht.prototype.on.call(this,e,r),p=this._readableState;return e==="data"?(p.readableListening=0<this.listenerCount("readable"),p.flowing!==!1&&this.resume()):e=="readable"&&!p.endEmitted&&!p.readableListening&&(p.readableListening=p.needReadable=!0,p.flowing=!1,p.emittedReadable=!1,J("on readable",p.length,p.reading),p.length?B(this):!p.reading&&o.nextTick(w,this)),c},u.prototype.addListener=u.prototype.on,u.prototype.removeListener=function(e,r){var c=ht.prototype.removeListener.call(this,e,r);return e==="readable"&&o.nextTick(F,this),c},u.prototype.removeAllListeners=function(e){var r=ht.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&o.nextTick(F,this),r},u.prototype.resume=function(){var e=this._readableState;return e.flowing||(J("resume"),e.flowing=!e.readableListening,_(this,e)),e.paused=!1,this},u.prototype.pause=function(){return J("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(J("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},u.prototype.wrap=function(e){var r=this,c=this._readableState,p=!1;for(var N in e.on("end",function(){if(J("wrapped end"),c.decoder&&!c.ended){var L=c.decoder.end();L&&L.length&&r.push(L)}r.push(null)}),e.on("data",function(L){if(J("wrapped data"),c.decoder&&(L=c.decoder.write(L)),!(c.objectMode&&L==null)&&(c.objectMode||L&&L.length)){var q=r.push(L);q||(p=!0,e.pause())}}),e)this[N]===void 0&&typeof e[N]=="function"&&(this[N]=(function(L){return function(){return e[L].apply(e,arguments)}})(N));for(var v=0;v<G.length;v++)e.on(G[v],this.emit.bind(this,G[v]));return this._read=function(L){J("wrapped _read",L),p&&(p=!1,e.resume())},this},typeof Symbol=="function"&&(u.prototype[Symbol.asyncIterator]=function(){return wt===void 0&&(wt=i("./internal/streams/async_iterator")),wt(this)}),Object.defineProperty(u.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(u.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(u.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),u._fromList=H,Object.defineProperty(u.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(u.from=function(e,r){return et===void 0&&(et=i("./internal/streams/from")),et(u,e,r)})}).call(this)}).call(this,i("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(i,s){"use strict";function o(m,D){var f=this._transformState;f.transforming=!1;var B=f.writecb;if(B===null)return this.emit("error",new u);f.writechunk=null,f.writecb=null,D!=null&&this.push(D),B(m);var C=this._readableState;C.reading=!1,(C.needReadable||C.length<C.highWaterMark)&&this._read(C.highWaterMark)}function a(m){return this instanceof a?(b.call(this,m),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,m&&(typeof m.transform=="function"&&(this._transform=m.transform),typeof m.flush=="function"&&(this._flush=m.flush)),void this.on("prefinish",h)):new a(m)}function h(){var m=this;typeof this._flush!="function"||this._readableState.destroyed?E(this,null,null):this._flush(function(D,f){E(m,D,f)})}function E(m,D,f){if(D)return m.emit("error",D);if(f!=null&&m.push(f),m._writableState.length)throw new y;if(m._transformState.transforming)throw new g;return m.push(null)}s.exports=a;var A=i("../errors").codes,l=A.ERR_METHOD_NOT_IMPLEMENTED,u=A.ERR_MULTIPLE_CALLBACK,g=A.ERR_TRANSFORM_ALREADY_TRANSFORMING,y=A.ERR_TRANSFORM_WITH_LENGTH_0,b=i("./_stream_duplex");i("inherits")(a,b),a.prototype.push=function(m,D){return this._transformState.needTransform=!1,b.prototype.push.call(this,m,D)},a.prototype._transform=function(m,D,f){f(new l("_transform()"))},a.prototype._write=function(m,D,f){var B=this._transformState;if(B.writecb=f,B.writechunk=m,B.writeencoding=D,!B.transforming){var C=this._readableState;(B.needTransform||C.needReadable||C.length<C.highWaterMark)&&this._read(C.highWaterMark)}},a.prototype._read=function(){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},a.prototype._destroy=function(m,D){b.prototype._destroy.call(this,m,function(f){D(f)})}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(i,s){(function(o,a){(function(){"use strict";function h(T){var k=this;this.next=null,this.entry=null,this.finish=function(){Y(k,T)}}function E(T){return J.from(T)}function A(T){return J.isBuffer(T)||T instanceof Rt}function l(){}function u(T,k,O){K=K||i("./_stream_duplex"),T=T||{},typeof O!="boolean"&&(O=k instanceof K),this.objectMode=!!T.objectMode,O&&(this.objectMode=this.objectMode||!!T.writableObjectMode),this.highWaterMark=W(this,T,"writableHighWaterMark",O),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var x=T.decodeStrings===!1;this.decodeStrings=!x,this.defaultEncoding=T.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(G){S(k,G)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=T.emitClose!==!1,this.autoDestroy=!!T.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new h(this)}function g(T){K=K||i("./_stream_duplex");var k=this instanceof K;return k||mt.call(g,this)?(this._writableState=new u(T,this,k),this.writable=!0,T&&(typeof T.write=="function"&&(this._write=T.write),typeof T.writev=="function"&&(this._writev=T.writev),typeof T.destroy=="function"&&(this._destroy=T.destroy),typeof T.final=="function"&&(this._final=T.final)),void st.call(this)):new g(T)}function y(T,k){var O=new jt;Et(T,O),o.nextTick(k,O)}function b(T,k,O,x){var G;return O===null?G=new St:typeof O!="string"&&!k.objectMode&&(G=new It("chunk",["string","Buffer"],O)),!G||(Et(T,G),o.nextTick(x,G),!1)}function m(T,k,O){return T.objectMode||T.decodeStrings===!1||typeof k!="string"||(k=J.from(k,O)),k}function D(T,k,O,x,G,e){if(!O){var r=m(k,x,G);x!==r&&(O=!0,G="buffer",x=r)}var c=k.objectMode?1:x.length;k.length+=c;var p=k.length<k.highWaterMark;if(p||(k.needDrain=!0),k.writing||k.corked){var N=k.lastBufferedRequest;k.lastBufferedRequest={chunk:x,encoding:G,isBuf:O,callback:e,next:null},N?N.next=k.lastBufferedRequest:k.bufferedRequest=k.lastBufferedRequest,k.bufferedRequestCount+=1}else f(T,k,!1,c,x,G,e);return p}function f(T,k,O,x,G,e,r){k.writelen=x,k.writecb=r,k.writing=!0,k.sync=!0,k.destroyed?k.onwrite(new Nt("write")):O?T._writev(G,k.onwrite):T._write(G,e,k.onwrite),k.sync=!1}function B(T,k,O,x,G){--k.pendingcb,O?(o.nextTick(G,x),o.nextTick(M,T,k),T._writableState.errorEmitted=!0,Et(T,x)):(G(x),T._writableState.errorEmitted=!0,Et(T,x),M(T,k))}function C(T){T.writing=!1,T.writecb=null,T.length-=T.writelen,T.writelen=0}function S(T,k){var O=T._writableState,x=O.sync,G=O.writecb;if(typeof G!="function")throw new wt;if(C(O),k)B(T,O,x,k,G);else{var e=w(O)||T.destroyed;e||O.corked||O.bufferProcessing||!O.bufferedRequest||F(T,O),x?o.nextTick(Q,T,O,e,G):Q(T,O,e,G)}}function Q(T,k,O,x){O||R(T,k),k.pendingcb--,x(),M(T,k)}function R(T,k){k.length===0&&k.needDrain&&(k.needDrain=!1,T.emit("drain"))}function F(T,k){k.bufferProcessing=!0;var O=k.bufferedRequest;if(T._writev&&O&&O.next){var x=k.bufferedRequestCount,G=Array(x),e=k.corkedRequestsFree;e.entry=O;for(var r=0,c=!0;O;)G[r]=O,O.isBuf||(c=!1),O=O.next,r+=1;G.allBuffers=c,f(T,k,!0,k.length,G,"",e.finish),k.pendingcb++,k.lastBufferedRequest=null,e.next?(k.corkedRequestsFree=e.next,e.next=null):k.corkedRequestsFree=new h(k),k.bufferedRequestCount=0}else{for(;O;){var p=O.chunk,N=O.encoding,v=O.callback,L=k.objectMode?1:p.length;if(f(T,k,!1,L,p,N,v),O=O.next,k.bufferedRequestCount--,k.writing)break}O===null&&(k.lastBufferedRequest=null)}k.bufferedRequest=O,k.bufferProcessing=!1}function w(T){return T.ending&&T.length===0&&T.bufferedRequest===null&&!T.finished&&!T.writing}function _(T,k){T._final(function(O){k.pendingcb--,O&&Et(T,O),k.prefinished=!0,T.emit("prefinish"),M(T,k)})}function U(T,k){k.prefinished||k.finalCalled||(typeof T._final!="function"||k.destroyed?(k.prefinished=!0,T.emit("prefinish")):(k.pendingcb++,k.finalCalled=!0,o.nextTick(_,T,k)))}function M(T,k){var O=w(k);if(O&&(U(T,k),k.pendingcb===0&&(k.finished=!0,T.emit("finish"),k.autoDestroy))){var x=T._readableState;(!x||x.autoDestroy&&x.endEmitted)&&T.destroy()}return O}function H(T,k,O){k.ending=!0,M(T,k),O&&(k.finished?o.nextTick(O):T.once("finish",O)),k.ended=!0,T.writable=!1}function Y(T,k,O){var x=T.entry;for(T.entry=null;x;){var G=x.callback;k.pendingcb--,G(O),x=x.next}k.corkedRequestsFree.next=T}s.exports=g;var K;g.WritableState=u;var j={deprecate:i("util-deprecate")},st=i("./internal/streams/stream"),J=i("buffer").Buffer,Rt=a.Uint8Array||function(){},ot=i("./internal/streams/destroy"),ht=i("./internal/streams/state"),W=ht.getHighWaterMark,V=i("../errors").codes,It=V.ERR_INVALID_ARG_TYPE,At=V.ERR_METHOD_NOT_IMPLEMENTED,wt=V.ERR_MULTIPLE_CALLBACK,et=V.ERR_STREAM_CANNOT_PIPE,Nt=V.ERR_STREAM_DESTROYED,St=V.ERR_STREAM_NULL_VALUES,jt=V.ERR_STREAM_WRITE_AFTER_END,vt=V.ERR_UNKNOWN_ENCODING,Et=ot.errorOrDestroy;i("inherits")(g,st),u.prototype.getBuffer=function(){for(var T=this.bufferedRequest,k=[];T;)k.push(T),T=T.next;return k},(function(){try{Object.defineProperty(u.prototype,"buffer",{get:j.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var mt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(mt=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(T){return!!mt.call(this,T)||this===g&&T&&T._writableState instanceof u}})):mt=function(T){return T instanceof this},g.prototype.pipe=function(){Et(this,new et)},g.prototype.write=function(T,k,O){var x=this._writableState,G=!1,e=!x.objectMode&&A(T);return e&&!J.isBuffer(T)&&(T=E(T)),typeof k=="function"&&(O=k,k=null),e?k="buffer":!k&&(k=x.defaultEncoding),typeof O!="function"&&(O=l),x.ending?y(this,O):(e||b(this,x,T,O))&&(x.pendingcb++,G=D(this,x,e,T,k,O)),G},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var T=this._writableState;T.corked&&(T.corked--,!T.writing&&!T.corked&&!T.bufferProcessing&&T.bufferedRequest&&F(this,T))},g.prototype.setDefaultEncoding=function(T){if(typeof T=="string"&&(T=T.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((T+"").toLowerCase())))throw new vt(T);return this._writableState.defaultEncoding=T,this},Object.defineProperty(g.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(T,k,O){O(new At("_write()"))},g.prototype._writev=null,g.prototype.end=function(T,k,O){var x=this._writableState;return typeof T=="function"?(O=T,T=null,k=null):typeof k=="function"&&(O=k,k=null),T!=null&&this.write(T,k),x.corked&&(x.corked=1,this.uncork()),x.ending||H(this,x,O),this},Object.defineProperty(g.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(g.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(T){this._writableState&&(this._writableState.destroyed=T)}}),g.prototype.destroy=ot.destroy,g.prototype._undestroy=ot.undestroy,g.prototype._destroy=function(T,k){k(T)}}).call(this)}).call(this,i("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(i,s){(function(o){(function(){"use strict";function a(R,F,w){return F in R?Object.defineProperty(R,F,{value:w,enumerable:!0,configurable:!0,writable:!0}):R[F]=w,R}function h(R,F){return{value:R,done:F}}function E(R){var F=R[y];if(F!==null){var w=R[C].read();w!==null&&(R[f]=null,R[y]=null,R[b]=null,F(h(w,!1)))}}function A(R){o.nextTick(E,R)}function l(R,F){return function(w,_){R.then(function(){return F[D]?void w(h(void 0,!0)):void F[B](w,_)},_)}}var u,g=i("./end-of-stream"),y=Symbol("lastResolve"),b=Symbol("lastReject"),m=Symbol("error"),D=Symbol("ended"),f=Symbol("lastPromise"),B=Symbol("handlePromise"),C=Symbol("stream"),S=Object.getPrototypeOf(function(){}),Q=Object.setPrototypeOf((u={get stream(){return this[C]},next:function(){var R=this,F=this[m];if(F!==null)return Promise.reject(F);if(this[D])return Promise.resolve(h(void 0,!0));if(this[C].destroyed)return new Promise(function(M,H){o.nextTick(function(){R[m]?H(R[m]):M(h(void 0,!0))})});var w,_=this[f];if(_)w=new Promise(l(_,this));else{var U=this[C].read();if(U!==null)return Promise.resolve(h(U,!1));w=new Promise(this[B])}return this[f]=w,w}},a(u,Symbol.asyncIterator,function(){return this}),a(u,"return",function(){var R=this;return new Promise(function(F,w){R[C].destroy(null,function(_){return _?void w(_):void F(h(void 0,!0))})})}),u),S);s.exports=function(R){var F,w=Object.create(Q,(F={},a(F,C,{value:R,writable:!0}),a(F,y,{value:null,writable:!0}),a(F,b,{value:null,writable:!0}),a(F,m,{value:null,writable:!0}),a(F,D,{value:R._readableState.endEmitted,writable:!0}),a(F,B,{value:function(_,U){var M=w[C].read();M?(w[f]=null,w[y]=null,w[b]=null,_(h(M,!1))):(w[y]=_,w[b]=U)},writable:!0}),F));return w[f]=null,g(R,function(_){if(_&&_.code!=="ERR_STREAM_PREMATURE_CLOSE"){var U=w[b];return U!==null&&(w[f]=null,w[y]=null,w[b]=null,U(_)),void(w[m]=_)}var M=w[y];M!==null&&(w[f]=null,w[y]=null,w[b]=null,M(h(void 0,!0))),w[D]=!0}),R.on("readable",A.bind(null,w)),w}}).call(this)}).call(this,i("_process"))},{"./end-of-stream":24,_process:12}],22:[function(i,s){"use strict";function o(f,B){var C=Object.keys(f);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(f);B&&(S=S.filter(function(Q){return Object.getOwnPropertyDescriptor(f,Q).enumerable})),C.push.apply(C,S)}return C}function a(f){for(var B,C=1;C<arguments.length;C++)B=arguments[C]==null?{}:arguments[C],C%2?o(Object(B),!0).forEach(function(S){h(f,S,B[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(B)):o(Object(B)).forEach(function(S){Object.defineProperty(f,S,Object.getOwnPropertyDescriptor(B,S))});return f}function h(f,B,C){return B in f?Object.defineProperty(f,B,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[B]=C,f}function E(f,B){if(!(f instanceof B))throw new TypeError("Cannot call a class as a function")}function A(f,B){for(var C,S=0;S<B.length;S++)C=B[S],C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(f,C.key,C)}function l(f,B,C){return B&&A(f.prototype,B),C&&A(f,C),f}function u(f,B,C){y.prototype.copy.call(f,B,C)}var g=i("buffer"),y=g.Buffer,b=i("util"),m=b.inspect,D=m&&m.custom||"inspect";s.exports=(function(){function f(){E(this,f),this.head=null,this.tail=null,this.length=0}return l(f,[{key:"push",value:function(B){var C={data:B,next:null};0<this.length?this.tail.next=C:this.head=C,this.tail=C,++this.length}},{key:"unshift",value:function(B){var C={data:B,next:this.head};this.length===0&&(this.tail=C),this.head=C,++this.length}},{key:"shift",value:function(){if(this.length!==0){var B=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,B}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(B){if(this.length===0)return"";for(var C=this.head,S=""+C.data;C=C.next;)S+=B+C.data;return S}},{key:"concat",value:function(B){if(this.length===0)return y.alloc(0);for(var C=y.allocUnsafe(B>>>0),S=this.head,Q=0;S;)u(S.data,C,Q),Q+=S.data.length,S=S.next;return C}},{key:"consume",value:function(B,C){var S;return B<this.head.data.length?(S=this.head.data.slice(0,B),this.head.data=this.head.data.slice(B)):B===this.head.data.length?S=this.shift():S=C?this._getString(B):this._getBuffer(B),S}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(B){var C=this.head,S=1,Q=C.data;for(B-=Q.length;C=C.next;){var R=C.data,F=B>R.length?R.length:B;if(Q+=F===R.length?R:R.slice(0,B),B-=F,B===0){F===R.length?(++S,this.head=C.next?C.next:this.tail=null):(this.head=C,C.data=R.slice(F));break}++S}return this.length-=S,Q}},{key:"_getBuffer",value:function(B){var C=y.allocUnsafe(B),S=this.head,Q=1;for(S.data.copy(C),B-=S.data.length;S=S.next;){var R=S.data,F=B>R.length?R.length:B;if(R.copy(C,C.length-B,0,F),B-=F,B===0){F===R.length?(++Q,this.head=S.next?S.next:this.tail=null):(this.head=S,S.data=R.slice(F));break}++Q}return this.length-=Q,C}},{key:D,value:function(B,C){return m(this,a({},C,{depth:0,customInspect:!1}))}}]),f})()},{buffer:3,util:2}],23:[function(i,s){(function(o){(function(){"use strict";function a(A,l){E(A,l),h(A)}function h(A){A._writableState&&!A._writableState.emitClose||A._readableState&&!A._readableState.emitClose||A.emit("close")}function E(A,l){A.emit("error",l)}s.exports={destroy:function(A,l){var u=this,g=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return g||y?(l?l(A):A&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,o.nextTick(E,this,A)):o.nextTick(E,this,A)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(A||null,function(b){!l&&b?u._writableState?u._writableState.errorEmitted?o.nextTick(h,u):(u._writableState.errorEmitted=!0,o.nextTick(a,u,b)):o.nextTick(a,u,b):l?(o.nextTick(h,u),l(b)):o.nextTick(h,u)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(A,l){var u=A._readableState,g=A._writableState;u&&u.autoDestroy||g&&g.autoDestroy?A.destroy(l):A.emit("error",l)}}}).call(this)}).call(this,i("_process"))},{_process:12}],24:[function(i,s){"use strict";function o(l){var u=!1;return function(){if(!u){u=!0;for(var g=arguments.length,y=Array(g),b=0;b<g;b++)y[b]=arguments[b];l.apply(this,y)}}}function a(){}function h(l){return l.setHeader&&typeof l.abort=="function"}function E(l,u,g){if(typeof u=="function")return E(l,null,u);u||(u={}),g=o(g||a);var y=u.readable||u.readable!==!1&&l.readable,b=u.writable||u.writable!==!1&&l.writable,m=function(){l.writable||f()},D=l._writableState&&l._writableState.finished,f=function(){b=!1,D=!0,y||g.call(l)},B=l._readableState&&l._readableState.endEmitted,C=function(){y=!1,B=!0,b||g.call(l)},S=function(F){g.call(l,F)},Q=function(){var F;return y&&!B?(l._readableState&&l._readableState.ended||(F=new A),g.call(l,F)):b&&!D?(l._writableState&&l._writableState.ended||(F=new A),g.call(l,F)):void 0},R=function(){l.req.on("finish",f)};return h(l)?(l.on("complete",f),l.on("abort",Q),l.req?R():l.on("request",R)):b&&!l._writableState&&(l.on("end",m),l.on("close",m)),l.on("end",C),l.on("finish",f),u.error!==!1&&l.on("error",S),l.on("close",Q),function(){l.removeListener("complete",f),l.removeListener("abort",Q),l.removeListener("request",R),l.req&&l.req.removeListener("finish",f),l.removeListener("end",m),l.removeListener("close",m),l.removeListener("finish",f),l.removeListener("end",C),l.removeListener("error",S),l.removeListener("close",Q)}}var A=i("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;s.exports=E},{"../../../errors":15}],25:[function(i,s){s.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(i,s){"use strict";function o(D){var f=!1;return function(){f||(f=!0,D.apply(void 0,arguments))}}function a(D){if(D)throw D}function h(D){return D.setHeader&&typeof D.abort=="function"}function E(D,f,B,C){C=o(C);var S=!1;D.on("close",function(){S=!0}),g===void 0&&(g=i("./end-of-stream")),g(D,{readable:f,writable:B},function(R){return R?C(R):(S=!0,void C())});var Q=!1;return function(R){if(!S)return Q?void 0:(Q=!0,h(D)?D.abort():typeof D.destroy=="function"?D.destroy():void C(R||new m("pipe")))}}function A(D){D()}function l(D,f){return D.pipe(f)}function u(D){return D.length&&typeof D[D.length-1]=="function"?D.pop():a}var g,y=i("../../../errors").codes,b=y.ERR_MISSING_ARGS,m=y.ERR_STREAM_DESTROYED;s.exports=function(){for(var D=arguments.length,f=Array(D),B=0;B<D;B++)f[B]=arguments[B];var C=u(f);if(Array.isArray(f[0])&&(f=f[0]),2>f.length)throw new b("streams");var S,Q=f.map(function(R,F){var w=F<f.length-1;return E(R,w,0<F,function(_){S||(S=_),_&&Q.forEach(A),w||(Q.forEach(A),C(S))})});return f.reduce(l)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(i,s){"use strict";function o(h,E,A){return h.highWaterMark==null?E?h[A]:null:h.highWaterMark}var a=i("../../../errors").codes.ERR_INVALID_OPT_VALUE;s.exports={getHighWaterMark:function(h,E,A,l){var u=o(E,l,A);if(u!=null){if(!(isFinite(u)&&I(u)===u)||0>u){var g=l?A:"highWaterMark";throw new a(g,u)}return I(u)}return h.objectMode?16:16384}}},{"../../../errors":15}],28:[function(i,s){s.exports=i("events").EventEmitter},{events:7}],29:[function(i,s,o){o=s.exports=i("./lib/_stream_readable.js"),o.Stream=o,o.Readable=o,o.Writable=i("./lib/_stream_writable.js"),o.Duplex=i("./lib/_stream_duplex.js"),o.Transform=i("./lib/_stream_transform.js"),o.PassThrough=i("./lib/_stream_passthrough.js"),o.finished=i("./lib/internal/streams/end-of-stream.js"),o.pipeline=i("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(i,s,o){function a(l,u){for(var g in l)u[g]=l[g]}function h(l,u,g){return A(l,u,g)}var E=i("buffer"),A=E.Buffer;A.from&&A.alloc&&A.allocUnsafe&&A.allocUnsafeSlow?s.exports=E:(a(E,o),o.Buffer=h),h.prototype=Object.create(A.prototype),a(A,h),h.from=function(l,u,g){if(typeof l=="number")throw new TypeError("Argument must not be a number");return A(l,u,g)},h.alloc=function(l,u,g){if(typeof l!="number")throw new TypeError("Argument must be a number");var y=A(l);return u===void 0?y.fill(0):typeof g=="string"?y.fill(u,g):y.fill(u),y},h.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return A(l)},h.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return E.SlowBuffer(l)}},{buffer:3}],31:[function(i,s,o){"use strict";function a(Q){if(!Q)return"utf8";for(var R;;)switch(Q){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Q;default:if(R)return;Q=(""+Q).toLowerCase(),R=!0}}function h(Q){var R=a(Q);if(typeof R!="string"&&(C.isEncoding===S||!S(Q)))throw new Error("Unknown encoding: "+Q);return R||Q}function E(Q){this.encoding=h(Q);var R;switch(this.encoding){case"utf16le":this.text=y,this.end=b,R=4;break;case"utf8":this.fillLast=g,R=4;break;case"base64":this.text=m,this.end=D,R=3;break;default:return this.write=f,void(this.end=B)}this.lastNeed=0,this.lastTotal=0,this.lastChar=C.allocUnsafe(R)}function A(Q){return 127>=Q?0:Q>>5==6?2:Q>>4==14?3:Q>>3==30?4:Q>>6==2?-1:-2}function l(Q,R,F){var w=R.length-1;if(w<F)return 0;var _=A(R[w]);return 0<=_?(0<_&&(Q.lastNeed=_-1),_):--w<F||_===-2?0:(_=A(R[w]),0<=_?(0<_&&(Q.lastNeed=_-2),_):--w<F||_===-2?0:(_=A(R[w]),0<=_?(0<_&&(_===2?_=0:Q.lastNeed=_-3),_):0))}function u(Q,R){if((192&R[0])!=128)return Q.lastNeed=0,"\uFFFD";if(1<Q.lastNeed&&1<R.length){if((192&R[1])!=128)return Q.lastNeed=1,"\uFFFD";if(2<Q.lastNeed&&2<R.length&&(192&R[2])!=128)return Q.lastNeed=2,"\uFFFD"}}function g(Q){var R=this.lastTotal-this.lastNeed,F=u(this,Q,R);return F===void 0?this.lastNeed<=Q.length?(Q.copy(this.lastChar,R,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(Q.copy(this.lastChar,R,0,Q.length),void(this.lastNeed-=Q.length)):F}function y(Q,R){if((Q.length-R)%2==0){var F=Q.toString("utf16le",R);if(F){var w=F.charCodeAt(F.length-1);if(55296<=w&&56319>=w)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Q[Q.length-2],this.lastChar[1]=Q[Q.length-1],F.slice(0,-1)}return F}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Q[Q.length-1],Q.toString("utf16le",R,Q.length-1)}function b(Q){var R=Q&&Q.length?this.write(Q):"";if(this.lastNeed){var F=this.lastTotal-this.lastNeed;return R+this.lastChar.toString("utf16le",0,F)}return R}function m(Q,R){var F=(Q.length-R)%3;return F==0?Q.toString("base64",R):(this.lastNeed=3-F,this.lastTotal=3,F==1?this.lastChar[0]=Q[Q.length-1]:(this.lastChar[0]=Q[Q.length-2],this.lastChar[1]=Q[Q.length-1]),Q.toString("base64",R,Q.length-F))}function D(Q){var R=Q&&Q.length?this.write(Q):"";return this.lastNeed?R+this.lastChar.toString("base64",0,3-this.lastNeed):R}function f(Q){return Q.toString(this.encoding)}function B(Q){return Q&&Q.length?this.write(Q):""}var C=i("safe-buffer").Buffer,S=C.isEncoding||function(Q){switch(Q=""+Q,Q&&Q.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};o.StringDecoder=E,E.prototype.write=function(Q){if(Q.length===0)return"";var R,F;if(this.lastNeed){if(R=this.fillLast(Q),R===void 0)return"";F=this.lastNeed,this.lastNeed=0}else F=0;return F<Q.length?R?R+this.text(Q,F):this.text(Q,F):R||""},E.prototype.end=function(Q){var R=Q&&Q.length?this.write(Q):"";return this.lastNeed?R+"\uFFFD":R},E.prototype.text=function(Q,R){var F=l(this,Q,R);if(!this.lastNeed)return Q.toString("utf8",R);this.lastTotal=F;var w=Q.length-(F-this.lastNeed);return Q.copy(this.lastChar,0,w),Q.toString("utf8",R,w)},E.prototype.fillLast=function(Q){return this.lastNeed<=Q.length?(Q.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(Q.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Q.length),void(this.lastNeed-=Q.length))}},{"safe-buffer":30}],32:[function(i,s){(function(o){(function(){function a(h){try{if(!o.localStorage)return!1}catch{return!1}var E=o.localStorage[h];return E!=null&&(E+"").toLowerCase()==="true"}s.exports=function(h,E){function A(){if(!l){if(a("throwDeprecation"))throw new Error(E);a("traceDeprecation")?console.trace(E):console.warn(E),l=!0}return h.apply(this,arguments)}if(a("noDeprecation"))return h;var l=!1;return A}}).call(this)}).call(this,typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{}],"/":[function(i,s){function o(D){return D.replace(/a=ice-options:trickle\s\n/g,"")}function a(D){console.warn(D)}let h=i("debug")("simple-peer"),E=i("get-browser-rtc"),A=i("randombytes"),l=i("readable-stream"),u=i("queue-microtask"),g=i("err-code"),{Buffer:y}=i("buffer"),b=65536;class m extends l.Duplex{constructor(f){if(f=Object.assign({allowHalfOpen:!1},f),super(f),this._id=A(4).toString("hex").slice(0,7),this._debug("new peer %o",f),this.channelName=f.initiator?f.channelName||A(20).toString("hex"):null,this.initiator=f.initiator||!1,this.channelConfig=f.channelConfig||m.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},m.config,f.config),this.offerOptions=f.offerOptions||{},this.answerOptions=f.answerOptions||{},this.sdpTransform=f.sdpTransform||(B=>B),this.streams=f.streams||(f.stream?[f.stream]:[]),this.trickle=f.trickle===void 0||f.trickle,this.allowHalfTrickle=f.allowHalfTrickle!==void 0&&f.allowHalfTrickle,this.iceCompleteTimeout=f.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=f.wrtc&&typeof f.wrtc=="object"?f.wrtc:E(),!this._wrtc)throw g(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(B){return void this.destroy(g(B,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=B=>{this._onIceCandidate(B)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(B=>{this.destroy(g(B,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=B=>{this._setupData(B)},this.streams&&this.streams.forEach(B=>{this.addStream(B)}),this._pc.ontrack=B=>{this._onTrack(B)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(f){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof f=="string")try{f=JSON.parse(f)}catch{f={}}this._debug("signal()"),f.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),f.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(f.transceiverRequest.kind,f.transceiverRequest.init)),f.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(f.candidate):this._pendingCandidates.push(f.candidate)),f.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(f)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(B=>{this._addIceCandidate(B)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(B=>{this.destroy(g(B,"ERR_SET_REMOTE_DESCRIPTION"))}),f.sdp||f.candidate||f.renegotiate||f.transceiverRequest||this.destroy(g(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(f){let B=new this._wrtc.RTCIceCandidate(f);this._pc.addIceCandidate(B).catch(C=>{!B.address||B.address.endsWith(".local")?a("Ignoring unsupported ICE candidate."):this.destroy(g(C,"ERR_ADD_ICE_CANDIDATE"))})}send(f){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(f)}}addTransceiver(f,B){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(f,B),this._needsNegotiation()}catch(C){this.destroy(g(C,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:f,init:B}})}}addStream(f){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),f.getTracks().forEach(B=>{this.addTrack(B,f)})}}addTrack(f,B){if(this.destroying)return;if(this.destroyed)throw g(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");let C=this._senderMap.get(f)||new Map,S=C.get(B);if(!S)S=this._pc.addTrack(f,B),C.set(B,S),this._senderMap.set(f,C),this._needsNegotiation();else throw S.removed?g(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):g(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(f,B,C){if(this.destroying)return;if(this.destroyed)throw g(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");let S=this._senderMap.get(f),Q=S?S.get(C):null;if(!Q)throw g(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");B&&this._senderMap.set(B,S),Q.replaceTrack==null?this.destroy(g(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):Q.replaceTrack(B)}removeTrack(f,B){if(this.destroying)return;if(this.destroyed)throw g(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");let C=this._senderMap.get(f),S=C?C.get(B):null;if(!S)throw g(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{S.removed=!0,this._pc.removeTrack(S)}catch(Q){Q.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(S):this.destroy(g(Q,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(f){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),f.getTracks().forEach(B=>{this.removeTrack(B,f)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,u(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(f){this._destroy(f,()=>{})}_destroy(f,B){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",f&&(f.message||f)),u(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",f&&(f.message||f)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,f&&this.emit("error",f),this.emit("close"),B()}))}_setupData(f){if(!f.channel)return this.destroy(g(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=f.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=b),this.channelName=this._channel.label,this._channel.onmessage=C=>{this._onChannelMessage(C)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=C=>{let S=C.error instanceof Error?C.error:new Error(`Datachannel error: ${C.message} ${C.filename}:${C.lineno}:${C.colno}`);this.destroy(g(S,"ERR_DATA_CHANNEL"))};let B=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(B&&this._onChannelClose(),B=!0):B=!1},5e3)}_read(){}_write(f,B,C){if(this.destroyed)return C(g(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(f)}catch(S){return this.destroy(g(S,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>b?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=C):C(null)}else this._debug("write before connect"),this._chunk=f,this._cb=C}_onFinish(){if(!this.destroyed){let f=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?f():this.once("connect",f)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(f=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(f.sdp=o(f.sdp)),f.sdp=this.sdpTransform(f.sdp);let B=()=>{if(!this.destroyed){let C=this._pc.localDescription||f;this._debug("signal"),this.emit("signal",{type:C.type,sdp:C.sdp})}};this._pc.setLocalDescription(f).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?B():this.once("_iceComplete",B))}).catch(C=>{this.destroy(g(C,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(f=>{this.destroy(g(f,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(f=>{f.mid||!f.sender.track||f.requested||(f.requested=!0,this.addTransceiver(f.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(f=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(f.sdp=o(f.sdp)),f.sdp=this.sdpTransform(f.sdp);let B=()=>{if(!this.destroyed){let C=this._pc.localDescription||f;this._debug("signal"),this.emit("signal",{type:C.type,sdp:C.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(f).then(()=>{this.destroyed||(this.trickle||this._iceComplete?B():this.once("_iceComplete",B))}).catch(C=>{this.destroy(g(C,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(f=>{this.destroy(g(f,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(g(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;let f=this._pc.iceConnectionState,B=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",f,B),this.emit("iceStateChange",f,B),(f==="connected"||f==="completed")&&(this._pcReady=!0,this._maybeReady()),f==="failed"&&this.destroy(g(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),f==="closed"&&this.destroy(g(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(f){let B=C=>(Object.prototype.toString.call(C.values)==="[object Array]"&&C.values.forEach(S=>{Object.assign(C,S)}),C);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(C=>{let S=[];C.forEach(Q=>{S.push(B(Q))}),f(null,S)},C=>f(C)):0<this._pc.getStats.length?this._pc.getStats(C=>{if(this.destroyed)return;let S=[];C.result().forEach(Q=>{let R={};Q.names().forEach(F=>{R[F]=Q.stat(F)}),R.id=Q.id,R.type=Q.type,R.timestamp=Q.timestamp,S.push(B(R))}),f(null,S)},C=>f(C)):f(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;let f=()=>{this.destroyed||this.getStats((B,C)=>{if(this.destroyed)return;B&&(C=[]);let S={},Q={},R={},F=!1;C.forEach(_=>{(_.type==="remotecandidate"||_.type==="remote-candidate")&&(S[_.id]=_),(_.type==="localcandidate"||_.type==="local-candidate")&&(Q[_.id]=_),(_.type==="candidatepair"||_.type==="candidate-pair")&&(R[_.id]=_)});let w=_=>{F=!0;let U=Q[_.localCandidateId];U&&(U.ip||U.address)?(this.localAddress=U.ip||U.address,this.localPort=+U.port):U&&U.ipAddress?(this.localAddress=U.ipAddress,this.localPort=+U.portNumber):typeof _.googLocalAddress=="string"&&(U=_.googLocalAddress.split(":"),this.localAddress=U[0],this.localPort=+U[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let M=S[_.remoteCandidateId];M&&(M.ip||M.address)?(this.remoteAddress=M.ip||M.address,this.remotePort=+M.port):M&&M.ipAddress?(this.remoteAddress=M.ipAddress,this.remotePort=+M.portNumber):typeof _.googRemoteAddress=="string"&&(M=_.googRemoteAddress.split(":"),this.remoteAddress=M[0],this.remotePort=+M[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(C.forEach(_=>{_.type==="transport"&&_.selectedCandidatePairId&&w(R[_.selectedCandidatePairId]),(_.type==="googCandidatePair"&&_.googActiveConnection==="true"||(_.type==="candidatepair"||_.type==="candidate-pair")&&_.selected)&&w(_)}),!F&&(!Object.keys(R).length||Object.keys(Q).length))return void setTimeout(f,100);if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(U){return this.destroy(g(U,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');let _=this._cb;this._cb=null,_(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};f()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>b)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(f=>{this._pc.removeTrack(f),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(f){this.destroyed||(f.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:f.candidate.candidate,sdpMLineIndex:f.candidate.sdpMLineIndex,sdpMid:f.candidate.sdpMid}}):!f.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),f.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(f){if(this.destroyed)return;let B=f.data;B instanceof ArrayBuffer&&(B=y.from(B)),this.push(B)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);let f=this._cb;this._cb=null,f(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(f){this.destroyed||f.streams.forEach(B=>{this._debug("on track"),this.emit("track",f.track,B),this._remoteTracks.push({track:f.track,stream:B}),this._remoteStreams.some(C=>C.id===B.id)||(this._remoteStreams.push(B),u(()=>{this._debug("on stream"),this.emit("stream",B)}))})}_debug(){let f=[].slice.call(arguments);f[0]="["+this._id+"] "+f[0],h.apply(null,f)}}m.WEBRTC_SUPPORT=!!E(),m.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},m.channelConfig={},s.exports=m},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")})});var Mn=Tn((Ni,Un)=>{"use strict";Un.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var Qe,nt,Ct,gt,Ft,X,Bt,tt,at,ft,it,Gn,_t=xt(async()=>{xn();Qe=typeof window>"u";Qe||(await Promise.resolve().then(()=>vn(kn(),1))).default;nt=pe.instance,Ct={AVOID_INTERVALS:!1,USE_TEST_TRANSPORTS:!1,ICE_DELAY:{min:250,max:3e3},ICE_OFFER_FAILURE_RATE:.2,ICE_ANSWER_FAILURE_RATE:.15,AVOID_FOLLOWERS_NODES:!1,AUTO_START:!0,PUBLIC_PEERS_COUNT:100,PEERS_COUNT:1860,BOOTSTRAPS_PER_PEER:10,DELAY_BETWEEN_INIT:10,RANDOM_UNICAST_PER_SEC:0,RANDOM_GOSSIP_PER_SEC:0,DIFFUSION_TEST_DELAY:1e4},gt={DEFAULT_VERBOSE:1,CONNECTION_UPGRADE_TIMEOUT:15e3,IS_BROWSER:!Qe},Ft={PORT:8080,AUTO_KICK_DELAY:6e4,AUTO_KICK_DURATION:3e4,MAX_WS_IN_CONNS:20},X={DIFFICULTY:0,ARGON2_MEM:2**16,ARE_IDS_HEX:!0,PUBLIC_PREFIX:"0",STANDARD_PREFIX:"1",ID_LENGTH:16,PUBKEY_LENGTH:32,PRIVATEKEY_LENGTH:32,SIGNATURE_LENGTH:64},Bt={MAX_SDP_OFFERS:2,ICE_COMPLETE_TIMEOUT:1e3,SIGNAL_CREATION_TIMEOUT:8e3,SDP_OFFER_EXPIRATION:4e4,WS_CLIENT:WebSocket,WS_SERVER:Qe?(await Promise.resolve().then(()=>vn(Mn(),1))).WebSocketServer:null,PEER:Qe?(await import("simple-peer")).default:window.SimplePeer},tt={PEER_LINK_DELAY:1e4,PEER_LINK_EXPIRATION:6e4,LOOP_DELAY:2500,TARGET_NEIGHBORS_COUNT:5,ON_CONNECT_DISPATCH:{DELAY:0,BROADCAST_EVENT:!1,OVER_NEIGHBORED:!0,SHARE_HISTORY:!1},ON_DISCONNECT_DISPATCH:{DELAY:0,BROADCAST_EVENT:!1},ON_UNICAST:{DIGEST_TRAVELED_ROUTE:!0}},at={MAX_HOPS:8,MAX_NODES:256,MAX_ROUTES:5,MARKERS_BYTES:{message:0,0:"message",handshake:1,1:"handshake",signal_answer:2,2:"signal_answer",signal_offer:3,3:"signal_offer"}},ft={EXPIRATION:1e4,CACHE_DURATION:2e4,HOPS:{default:20,signal_offer:6,diffusion_test:100,over_neighbored:6},TRANSMISSION_RATE:{MIN_NEIGHBOURS_TO_APPLY_PONDERATION:2,NEIGHBOURS_PONDERATION:5,Default:1,signal_offer:.618},MARKERS_BYTES:{gossip:128,128:"gossip",signal_offer:129,129:"signal_offer",peer_connected:130,130:"peer_connected",peer_disconnected:131,131:"peer_disconnected",diffusion_test:132,132:"diffusion_test",over_neighbored:133,133:"over_neighbored"}},it={SIMULATOR:"color: yellow; font-weight: bold;",ARBITER:"color: white;",CRYPTO_CODEX:"color: green;",GOSSIP:"color: fuchsia;",UNICAST:"color: cyan;",PEER_STORE:"color: orange;",SERVICE:"color: teal;",PUNISHER:{BAN:"color: red; font-weight: bold;",KICK:"color: darkorange; font-weight: bold;"}},Gn={CLOCK:nt,SIMULATION:Ct,NODE:gt,TRANSPORTS:Bt,DISCOVERY:tt,IDENTITY:X,UNICAST:at,GOSSIP:ft,LOG_CSS:it}});var me,Se,On=xt(async()=>{await _t();me=class{sandbox;SIGNAL_OFFER_TIMEOUT=3e4;SIGNAL_ANSWER_TIMEOUT=1e4;PENDING_OFFERS={};PENDING_ANSWERS={};sdpToBuild=[];signalsToDigest=[];constructor(t){this.sandbox=t}tick(){let t=Date.now();this.#e(t);let n=this.sdpToBuild;this.sdpToBuild=[];for(let{transportId:s,type:o,time:a}of n){if(a>t){this.sdpToBuild.push({transportId:s,type:o,time:a});continue}let h=this.sandbox.transportInstances[s];if(!h||h.destroying||h.destroyed)continue;let{success:E,signalData:A,reason:l}=this.#t(s,o);!E||!A?h.dispatchError(l||`Failed to build SDP for peer: ${this.id}`):h.callbacks.signal?.forEach(u=>u(A))}let i=this.signalsToDigest;this.signalsToDigest=[];for(let{signalData:s,receiverId:o}of i){let a=this.sandbox.transportInstances[o];if(!a||a.destroying||a.destroyed)continue;let{success:h,reason:E}=this.#n(s,o);h||a.dispatchError(E||`Failed to digest signal for peer: ${this.id}`)}}#e(t=Date.now()){for(let n in this.PENDING_OFFERS)for(let i in this.PENDING_OFFERS[n])t>this.PENDING_OFFERS[n][i].expiration&&delete this.PENDING_OFFERS[n][i];for(let n in this.PENDING_ANSWERS){let i=this.PENDING_ANSWERS[n];t>i.expiration&&delete this.PENDING_ANSWERS[n]}}#t(t,n){if(n!=="offer"&&n!=="answer")return{success:!1,signalData:null,reason:`Invalid signal type: ${n}.`};if(n==="answer"&&this.PENDING_ANSWERS[t])return{success:!1,signalData:null,reason:`There is already a pending answer for transport ID: ${t}`};let i=n==="offer"?this.SIGNAL_OFFER_TIMEOUT:this.SIGNAL_ANSWER_TIMEOUT||1e4,s=Math.random().toString(36).substring(2),o={transportId:t,expiration:Date.now()+i,type:n,sdp:{id:s,v:"0",o:`- ${Math.random().toString(36).substring(2)} ${Math.floor(Math.random()*1e6)} 2 IN IP4 127.0.0.1\r
`,s:"-",t:"0 0",a:["group:BUNDLE..."]}};return n==="offer"&&this.PENDING_OFFERS[t]?.[s]?{success:!1,signalData:null,reason:`There is already a pending offer with the same SDP ID for transport ID: ${t} (extreme case)`}:(n==="offer"&&!this.PENDING_OFFERS[t]&&(this.PENDING_OFFERS[t]={}),n==="offer"&&(this.PENDING_OFFERS[t][s]=o),n==="answer"&&(this.PENDING_ANSWERS[t]=o),{success:!0,signalData:o,reason:"na"})}#n(t,n){let{transportId:i,type:s,sdp:o}=t;if(i===void 0)return{success:!1,reason:"Missing transportId in signal data."};if(s!=="offer"&&s!=="answer")return{success:!1,reason:`Invalid signal type: ${s}.`};if(s==="offer"&&(!this.PENDING_OFFERS[i]||!this.PENDING_OFFERS[i][o.id]))return{success:!1,reason:`No pending offer found for transport ID: ${i} with SDP ID: ${o.id}`};if(s==="answer"&&(!this.PENDING_ANSWERS[i]||this.PENDING_ANSWERS[i].sdp.id!==o.id))return{success:!1,reason:`No pending answer found for transport ID: ${i} with SDP ID: ${o.id}`};if(s==="offer"&&Math.random()<Ct.ICE_OFFER_FAILURE_RATE)return{success:!1,reason:`Simulated failure for 'offer' signal from ${i} to ${n}`};if(s==="answer"&&Math.random()<Ct.ICE_ANSWER_FAILURE_RATE)return{success:!1,reason:`Simulated failure for 'answer' signal from ${i} to ${n}`};if(s==="offer")return this.buildSDP(n,"answer"),{success:!0,reason:"na"};delete this.PENDING_OFFERS[n],delete this.PENDING_ANSWERS[i];let a=this.sandbox.linkInstances(n,i);return{success:!a,reason:a||"na"}}buildSDP(t,n){let i={min:Ct.ICE_DELAY.min,max:Ct.ICE_DELAY.max},s=Math.floor(Math.random()*(i.max-i.min+1))+i.min;this.sdpToBuild.push({transportId:t,type:n,time:Date.now()+s})}digestSignal(t,n){this.signalsToDigest.push({signalData:t,receiverId:n})}},Se=class{verbose=gt.DEFAULT_VERBOSE;wsGlobalIndex=1;tGlobalIndex=1;transportInstances={};wsConnections={};publicWsServers={};inscribeWebSocketServer(t,n){this.publicWsServers[t]=n}removeWebSocketServer(t){delete this.publicWsServers[t]}inscribeWsConnection(t){let n=(this.wsGlobalIndex++).toString();t.id=n,this.wsConnections[n]=t,this.verbose>3&&console.log(`[SANDBOX] Inscribed wsConnection: ${t.id}`)}connectToWebSocketServer(t,n,i){let s=this.wsConnections[n],o=this.publicWsServers[t];if(!s||!o||o.closing||o.clients.size>=o.maxClients)return;let a=new i(o,n);o.clients.add(a),a.init(s.id),o.callbacks.connection.forEach(h=>h(a)),s.init(a.id)}inscribeInstance(t){let n=(this.tGlobalIndex++).toString();t.id=n,this.transportInstances[n]=t,this.verbose>3&&console.log(`[SANDBOX] Inscribed transport: ${n}`)}linkInstances(t,n){let[i,s]=[this.transportInstances[t],this.transportInstances[n]];if(!i||!s)return`Missing transport instances: ${t}=>${!!i}, ${n}=>${!!s}`;if(i.initiator&&s.initiator)return`Both transport instances cannot be initiators: ${t}, ${n}`;if(i.destroying||s.destroying)return`One of the transport instances is destroying: ${t}=>${i.destroying}, ${n}=>${s.destroying}`;if(i.destroyed||s.destroyed)return`One of the transport instances is destroyed: ${t}=>${i.destroyed}, ${n}=>${s.destroyed}`;if(i.remoteId)return`Transport instance tA: ${t} is already linked to remoteId: ${i.remoteId}`;if(s.remoteId)return`Transport instance tB: ${n} is already linked to remoteId: ${s.remoteId}`;i.remoteId=n,s.remoteId=t,this.verbose>2&&console.log(`[SANDBOX] Linked transports: ${t} <-> ${n}`),i.callbacks.connect.forEach(o=>o()),s.callbacks.connect.forEach(o=>o())}sendData(t,n,i){if(t===void 0)return{success:!1,reason:`Cannot send message from id: ${t}`};if(n===void 0)return{success:!1,reason:`Cannot send message to id: ${n}`};let s=this.transportInstances[t];if(!s)return{success:!1,reason:`No transport instance found for id: ${t}`};if(!s.remoteId)return{success:!1,reason:`Transport instance ${t} is not linked to any remoteId`};if(s.id!==t)return{success:!1,reason:`Wrong id for senderInstance ${t} !== ${s.id}`};if(s.remoteId!==n)return{success:!1,reason:`Transport instance ${t} is not linked to remoteId: ${n}`};let o=this.transportInstances[n];return o?o.remoteId?o.id!==n?{success:!1,reason:`Wrong id for remoteInstance ${t} !== ${n}`}:o.remoteId!==t?{success:!1,reason:`Transport instance ${t} is not linked to remoteId: ${n}`}:(this.enqueueTransportData(t,n,i),{success:!0,reason:"na"}):{success:!1,reason:`Transport instance ${n} is not linked to any remoteId`}:{success:!1,reason:`No transport instance found for id: ${n}`}}destroyTransportAndAssociatedTransport(t){let n=this.transportInstances[t];if(!n)return;let i=n.remoteId,s=i?this.transportInstances[i]:null;this.verbose>3&&console.log(`[SANDBOX] Destroying transports: ${t}`),n&&s&&(this.verbose>2&&console.log(`[SANDBOX] Destroying linked transports: ${t} & ${i}`),delete this.transportInstances[i],s.destroy(`Remote transport instance ${t} closed the connection.`)),delete this.transportInstances[t],n.close()}batchSize=2500;messageQueueSync=[];queueIndex=0;messageQueue=new Array(1e5);queueStart=0;queueEnd=0;queueCount=0;processMessageQueueSync(){let t=this.messageQueueSync.length;if(t===0)return;let n=this.batchSize;t>this.batchSize*3&&(n=this.batchSize*1.5),t>this.batchSize*5&&(n=this.batchSize*2),t>this.batchSize*10&&(n=this.batchSize*3),t>this.batchSize*20&&(n=this.batchSize*5),n=Math.round(n);let i=Math.min(this.queueIndex+n,t);for(let o=this.queueIndex;o<i;o++){let[a,h,E,A]=this.messageQueueSync[o];a==="transport_data"?this.#e(h,E,A):a==="ws_message"&&this.#t(h,E,A)}if(this.queueIndex=i,this.queueIndex<5e3)return;let s=this.messageQueueSync.length>5e4;s&&console.warn(`[SANDBOX] Message queue is very long: ${this.messageQueueSync.length} messages pending.`),s&&(this.queueIndex+=this.batchSize),this.messageQueueSync=this.messageQueueSync.slice(this.queueIndex),this.queueIndex=0}async processMessageQueue(){if(this.queueCount===0)return;let t=this.batchSize;this.queueCount>this.batchSize*3&&(t=this.batchSize*1.5),this.queueCount>this.batchSize*5&&(t=this.batchSize*2),this.queueCount>this.batchSize*10&&(t=this.batchSize*3),this.queueCount>this.batchSize*20&&(t=this.batchSize*5);let n=Math.min(t,this.queueCount);for(let i=0;i<n;i++){let s=this.messageQueue[this.queueStart];this.queueStart=(this.queueStart+1)%this.messageQueue.length;let[o,a,h,E]=s;o==="transport_data"?this.#e(a,h,E):o==="ws_message"&&this.#t(a,h,E)}await new Promise(i=>setTimeout(i,0)),this.queueCount-=n}#e(t,n,i){let[s,o]=[this.transportInstances[t],this.transportInstances[n]];if(!s||!o||s.destroying||o.destroying){s?.close(),o?.close();return}if(s.destroyed){o.close();return}if(o.destroyed){s.close();return}for(let a of o.callbacks.data)a(i)}#t(t,n,i){let[s,o]=[this.wsConnections[t],this.wsConnections[n]];if(!o||!s||o.readyState!==1||s.readyState!==1){o?.close(),s?.close();return}if(o.onmessage)o.onmessage({data:i});else for(let a of o.callbacks.message)a(i)}enqueueTransportDataSync(t,n,i){this.messageQueueSync.push(["transport_data",t,n,i])}enqueueWsMessageSync(t,n,i){this.messageQueueSync.push(["ws_message",t,n,i])}enqueueTransportData(t,n,i){this.messageQueue[this.queueEnd]=["transport_data",t,n,i],this.queueEnd=(this.queueEnd+1)%this.messageQueue.length,this.queueCount++,this.queueCount===this.messageQueue.length&&(console.error("[SANDBOX] Message queue overflow, dropping oldest messages."),this.queueStart=(this.queueStart+this.batchSize)%this.messageQueue.length,this.queueCount-=this.batchSize)}enqueueWsMessage(t,n,i){this.messageQueue[this.queueEnd]=["ws_message",t,n,i],this.queueEnd=(this.queueEnd+1)%this.messageQueue.length,this.queueCount++,this.queueCount===this.messageQueue.length&&(console.error("[SANDBOX] Message queue overflow, dropping oldest messages."),this.queueStart=(this.queueStart+this.batchSize)%this.messageQueue.length,this.queueCount-=this.batchSize)}}});var De={};Be(De,{ICE_CANDIDATE_EMITTER:()=>An,SANDBOX:()=>pt,TEST_WS_EVENT_MANAGER:()=>_e,TestTransport:()=>sn,TestWsConnection:()=>Re,TestWsServer:()=>rn});var nn,Re,rn,sn,pt,An,_e,Ne=xt(async()=>{await _t();await On();nn=class{toInit=[];toClose=[];toError=[];initTick(){if(this.toInit.length<=0)return;let t=Date.now(),n=this.toInit;this.toInit=[];for(let{connId:i,time:s}of n)s>t?this.toInit.push({connId:i,time:s}):this.#e(i)}closeTick(){if(this.toClose.length<=0)return;let t=Date.now(),n=this.toClose;this.toClose=[];for(let{wsId:i,remoteWsId:s,time:o}of n)o>t?this.toClose.push({wsId:i,remoteWsId:s,time:o}):this.#t(i,s)}cleanerTick(){let t=Date.now();for(let n of Object.values(pt.publicWsServers))for(let i of n.clients)i.readyState===3&&n.clients.delete(i)}errorTick(){if(this.toError.length<=0)return;let t=Date.now(),n=this.toError;this.toError=[];for(let{wsId:i,error:s,time:o}of n)o>t?this.toError.push({wsId:i,error:s,time:o}):pt.wsConnections[i]?.dispatchError(s)}#e(t){let n=pt.wsConnections[t];n&&pt.connectToWebSocketServer(n.url,n.id,Re)}#t(t,n){let i=pt.wsConnections[t],s=pt.wsConnections[n];i?.onclose?.(),s?.onclose?.();for(let o of i?.callbacks?.close||[])o();for(let o of s?.callbacks?.close||[])o()}scheduleInit(t,n=500){this.toInit.push({connId:t,time:Date.now()+n})}scheduleClose(t,n,i=100){this.toClose.push({wsId:t,remoteWsId:n,time:Date.now()+i})}scheduleError(t,n,i=100){this.toError.push({wsId:t,error:n,time:Date.now()+i})}},Re=class{id;isTestTransport=!0;remoteWsId=null;remoteId=!1;delayBeforeConnectionTry=500;readyState=0;url;callbacks={message:[],close:[],error:[]};onmessage;onopen;onclose;onerror;constructor(t="ws://...",n){pt.inscribeWsConnection(this),!n&&(this.url=t,_e.scheduleInit(this.id,this.delayBeforeConnectionTry))}init(t){if(!this.readyState===3||this.remoteWsId){this.close(),console.error(`WebSocket instance already closed or connected: ${this.id}`),_e.scheduleError(this.id,`Failed to connect to WebSocket server at ${this.url}`,1e3);return}this.remoteWsId=t,this.readyState=1,this.onopen&&this.onopen()}on(t,n){if(!this.callbacks[t])return console.error(`Unknown event: ${t}`);this.callbacks[t].push(n)}close(){if(this.readyState===3)return;this.readyState=3;let t=pt.wsConnections[this.remoteWsId];t&&(t.readyState=3),this.remoteWsId&&_e.scheduleClose(this.id,this.remoteWsId,100)}send(t){if(!this.remoteWsId){console.error(`No WebSocket server found for URL: ${this.url}`),this.close();return}pt.enqueueWsMessage(this.id,this.remoteWsId,t)}dispatchError(t){this.callbacks.error.forEach(n=>n(t)),this.onerror&&this.onerror(t)}},rn=class{url;clients=new Set;maxClients=Ft.MAX_WS_IN_CONNS||20;callbacks={connection:[],close:[],error:[]};constructor(t={port,host:domain}){this.url=`ws://${t.host}:${t.port}`,pt.inscribeWebSocketServer(this.url,this)}on(t,n){if(!this.callbacks[t])return console.error(`Unknown event: ${t}`);this.callbacks[t].push(n)}close(){if(!this.closing){this.closing=!0,pt.removeWebSocketServer(this.url);for(let t of this.callbacks.close)t()}}},sn=class{destroying;destroyed;id=null;isTestTransport=!0;remoteId=null;remoteWsId=!1;callbacks={connect:[],close:[],data:[],signal:[],error:[]};initiator;trickle;wrtc;constructor(t={initiator:!1,trickle:!0,wrtc:null,timeout:5e3}){pt.inscribeInstance(this),this.initiator=t.initiator,this.trickle=t.trickle,this.wrtc=t.wrtc,this.initiator&&An.buildSDP(this.id,"offer")}on(t,n){this.callbacks[t]&&this.callbacks[t].push(n)}dispatchError(t){this.callbacks.error.forEach(n=>n(new Error(t)))}signal(t){if(!this.destroying){if(this.destroyed)throw new Error(`Transport instance already destroyed: ${this.id}`);if(this.remoteId)return this.dispatchError(`Transport instance already connected to a remote ID: ${this.remoteId}`);if(!t.sdp||!t.sdp.id)return this.dispatchError("Invalid remote SDP:",t);if(t.type==="answer"&&!this.initiator)return this.dispatchError("Invalid remote SDP type: expecting an answer.");if(t.type==="offer"&&this.initiator)return this.dispatchError("Invalid remote SDP type: expecting an offer.");An.digestSignal(t,this.id)}}send(t){let{success:n,reason:i}=pt.sendData(this.id,this.remoteId,t);n||this.destroy(i)}close(){this.destroy()}destroy(t=null){this.destroying||(this.destroying=!0,t&&this.dispatchError(t),this.callbacks.close?.forEach(n=>n()),pt.destroyTransportAndAssociatedTransport(this.id),this.destroyed=!0,this.destroying=!1)}},pt=new Se,An=new me(pt),_e=new nn});var hr={};Be(hr,{Point:()=>Gt,etc:()=>ri,getPublicKey:()=>ir,getPublicKeyAsync:()=>rr,hash:()=>Xr,hashes:()=>yn,keygen:()=>ii,keygenAsync:()=>si,sign:()=>ti,signAsync:()=>zr,utils:()=>Ai,verify:()=>ni,verifyAsync:()=>ei});var Wn,Qt,Me,Hn,Pn,cn,hn,Jr,Mt,fe,Kr,ct,qr,Wr,jr,Dt,He,jn,Vn,ln,Ht,Yn,dn,Xn,Vr,$t,$n,Ge,Xt,P,Zn,zn,tr,Xr,gn,fn,Gt,Jt,oe,er,In,Ut,$r,Jn,Zr,Le,En,Cn,nr,Bn,pn,rr,ir,sr,Ar,or,zr,ti,Qn,ar,ei,ni,ri,yn,bn,ii,si,Ai,Oe,oi,cr,un,ai,Kn,qn,ci,gr=xt(()=>{Wn={p:0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,n:0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3edn,h:8n,a:0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffecn,d:0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3n,Gx:0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,Gy:0x6666666666666666666666666666666666666666666666666666666666666658n},{p:Qt,n:Me,Gx:Hn,Gy:Pn,a:cn,d:hn,h:Jr}=Wn,Mt=32,fe=64,Kr=(...I)=>{"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...I)},ct=(I="")=>{let t=new Error(I);throw Kr(t,ct),t},qr=I=>typeof I=="bigint",Wr=I=>typeof I=="string",jr=I=>I instanceof Uint8Array||ArrayBuffer.isView(I)&&I.constructor.name==="Uint8Array",Dt=(I,t,n="")=>{let i=jr(I),s=I?.length,o=t!==void 0;if(!i||o&&s!==t){let a=n&&`"${n}" `,h=o?` of length ${t}`:"",E=i?`length=${s}`:`type=${typeof I}`;ct(a+"expected Uint8Array"+h+", got "+E)}return I},He=I=>new Uint8Array(I),jn=I=>Uint8Array.from(I),Vn=(I,t)=>I.toString(16).padStart(t,"0"),ln=I=>Array.from(Dt(I)).map(t=>Vn(t,2)).join(""),Ht={_0:48,_9:57,A:65,F:70,a:97,f:102},Yn=I=>{if(I>=Ht._0&&I<=Ht._9)return I-Ht._0;if(I>=Ht.A&&I<=Ht.F)return I-(Ht.A-10);if(I>=Ht.a&&I<=Ht.f)return I-(Ht.a-10)},dn=I=>{let t="hex invalid";if(!Wr(I))return ct(t);let n=I.length,i=n/2;if(n%2)return ct(t);let s=He(i);for(let o=0,a=0;o<i;o++,a+=2){let h=Yn(I.charCodeAt(a)),E=Yn(I.charCodeAt(a+1));if(h===void 0||E===void 0)return ct(t);s[o]=h*16+E}return s},Xn=()=>globalThis?.crypto,Vr=()=>Xn()?.subtle??ct("crypto.subtle must be defined, consider polyfill"),$t=(...I)=>{let t=He(I.reduce((i,s)=>i+Dt(s).length,0)),n=0;return I.forEach(i=>{t.set(i,n),n+=i.length}),t},$n=(I=Mt)=>Xn().getRandomValues(He(I)),Ge=BigInt,Xt=(I,t,n,i="bad number: out of range")=>qr(I)&&t<=I&&I<n?I:ct(i),P=(I,t=Qt)=>{let n=I%t;return n>=0n?n:t+n},Zn=I=>P(I,Me),zn=(I,t)=>{(I===0n||t<=0n)&&ct("no inverse n="+I+" mod="+t);let n=P(I,t),i=t,s=0n,o=1n,a=1n,h=0n;for(;n!==0n;){let E=i/n,A=i%n,l=s-a*E,u=o-h*E;i=n,n=A,s=a,o=h,a=l,h=u}return i===1n?P(s,t):ct("no inverse")},tr=I=>{let t=yn[I];return typeof t!="function"&&ct("hashes."+I+" not set"),t},Xr=I=>tr("sha512")(I),gn=I=>I instanceof Gt?I:ct("Point expected"),fn=2n**256n,Gt=class I{static BASE;static ZERO;X;Y;Z;T;constructor(t,n,i,s){let o=fn;this.X=Xt(t,0n,o),this.Y=Xt(n,0n,o),this.Z=Xt(i,1n,o),this.T=Xt(s,0n,o),Object.freeze(this)}static CURVE(){return Wn}static fromAffine(t){return new I(t.x,t.y,1n,P(t.x*t.y))}static fromBytes(t,n=!1){let i=hn,s=jn(Dt(t,Mt)),o=t[31];s[31]=o&-129;let a=In(s);Xt(a,0n,n?fn:Qt);let E=P(a*a),A=P(E-1n),l=P(i*E+1n),{isValid:u,value:g}=Zr(A,l);u||ct("bad point: y not sqrt");let y=(g&1n)===1n,b=(o&128)!==0;return!n&&g===0n&&b&&ct("bad point: x==0, isLastByteOdd"),b!==y&&(g=P(-g)),new I(g,a,1n,P(g*a))}static fromHex(t,n){return I.fromBytes(dn(t),n)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}assertValidity(){let t=cn,n=hn,i=this;if(i.is0())return ct("bad point: ZERO");let{X:s,Y:o,Z:a,T:h}=i,E=P(s*s),A=P(o*o),l=P(a*a),u=P(l*l),g=P(E*t),y=P(l*P(g+A)),b=P(u+P(n*P(E*A)));if(y!==b)return ct("bad point: equation left != right (1)");let m=P(s*o),D=P(a*h);return m!==D?ct("bad point: equation left != right (2)"):this}equals(t){let{X:n,Y:i,Z:s}=this,{X:o,Y:a,Z:h}=gn(t),E=P(n*h),A=P(o*s),l=P(i*h),u=P(a*s);return E===A&&l===u}is0(){return this.equals(oe)}negate(){return new I(P(-this.X),this.Y,this.Z,P(-this.T))}double(){let{X:t,Y:n,Z:i}=this,s=cn,o=P(t*t),a=P(n*n),h=P(2n*P(i*i)),E=P(s*o),A=t+n,l=P(P(A*A)-o-a),u=E+a,g=u-h,y=E-a,b=P(l*g),m=P(u*y),D=P(l*y),f=P(g*u);return new I(b,m,f,D)}add(t){let{X:n,Y:i,Z:s,T:o}=this,{X:a,Y:h,Z:E,T:A}=gn(t),l=cn,u=hn,g=P(n*a),y=P(i*h),b=P(o*u*A),m=P(s*E),D=P((n+i)*(a+h)-g-y),f=P(m-b),B=P(m+b),C=P(y-l*g),S=P(D*f),Q=P(B*C),R=P(D*C),F=P(f*B);return new I(S,Q,F,R)}subtract(t){return this.add(gn(t).negate())}multiply(t,n=!0){if(!n&&(t===0n||this.is0()))return oe;if(Xt(t,1n,Me),t===1n)return this;if(this.equals(Jt))return ci(t).p;let i=oe,s=Jt;for(let o=this;t>0n;o=o.double(),t>>=1n)t&1n?i=i.add(o):n&&(s=s.add(o));return i}multiplyUnsafe(t){return this.multiply(t,!1)}toAffine(){let{X:t,Y:n,Z:i}=this;if(this.equals(oe))return{x:0n,y:1n};let s=zn(i,Qt);P(i*s)!==1n&&ct("invalid inverse");let o=P(t*s),a=P(n*s);return{x:o,y:a}}toBytes(){let{x:t,y:n}=this.assertValidity().toAffine(),i=er(n);return i[31]|=t&1n?128:0,i}toHex(){return ln(this.toBytes())}clearCofactor(){return this.multiply(Ge(Jr),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let t=this.multiply(Me/2n,!1).double();return Me%2n&&(t=t.add(this)),t.is0()}},Jt=new Gt(Hn,Pn,1n,P(Hn*Pn)),oe=new Gt(0n,1n,1n,0n);Gt.BASE=Jt;Gt.ZERO=oe;er=I=>dn(Vn(Xt(I,0n,fn),fe)).reverse(),In=I=>Ge("0x"+ln(jn(Dt(I)).reverse())),Ut=(I,t)=>{let n=I;for(;t-- >0n;)n*=n,n%=Qt;return n},$r=I=>{let n=I*I%Qt*I%Qt,i=Ut(n,2n)*n%Qt,s=Ut(i,1n)*I%Qt,o=Ut(s,5n)*s%Qt,a=Ut(o,10n)*o%Qt,h=Ut(a,20n)*a%Qt,E=Ut(h,40n)*h%Qt,A=Ut(E,80n)*E%Qt,l=Ut(A,80n)*E%Qt,u=Ut(l,10n)*o%Qt;return{pow_p_5_8:Ut(u,2n)*I%Qt,b2:n}},Jn=0x2b8324804fc1df0b2b4d00993dfbd7a72f431806ad2fe478c4ee1b274a0ea0b0n,Zr=(I,t)=>{let n=P(t*t*t),i=P(n*n*t),s=$r(I*i).pow_p_5_8,o=P(I*n*s),a=P(t*o*o),h=o,E=P(o*Jn),A=a===I,l=a===P(-I),u=a===P(-I*Jn);return A&&(o=h),(l||u)&&(o=E),(P(o)&1n)===1n&&(o=P(-o)),{isValid:A||l,value:o}},Le=I=>Zn(In(I)),En=(...I)=>yn.sha512Async($t(...I)),Cn=(...I)=>tr("sha512")($t(...I)),nr=I=>{let t=I.slice(0,Mt);t[0]&=248,t[31]&=127,t[31]|=64;let n=I.slice(Mt,fe),i=Le(t),s=Jt.multiply(i),o=s.toBytes();return{head:t,prefix:n,scalar:i,point:s,pointBytes:o}},Bn=I=>En(Dt(I,Mt)).then(nr),pn=I=>nr(Cn(Dt(I,Mt))),rr=I=>Bn(I).then(t=>t.pointBytes),ir=I=>pn(I).pointBytes,sr=I=>En(I.hashable).then(I.finish),Ar=I=>I.finish(Cn(I.hashable)),or=(I,t,n)=>{let{pointBytes:i,scalar:s}=I,o=Le(t),a=Jt.multiply(o).toBytes();return{hashable:$t(a,i,n),finish:A=>{let l=Zn(o+Le(A)*s);return Dt($t(a,er(l)),fe)}}},zr=async(I,t)=>{let n=Dt(I),i=await Bn(t),s=await En(i.prefix,n);return sr(or(i,s,n))},ti=(I,t)=>{let n=Dt(I),i=pn(t),s=Cn(i.prefix,n);return Ar(or(i,s,n))},Qn={zip215:!0},ar=(I,t,n,i=Qn)=>{I=Dt(I,fe),t=Dt(t),n=Dt(n,Mt);let{zip215:s}=i,o,a,h,E,A=Uint8Array.of();try{o=Gt.fromBytes(n,s),a=Gt.fromBytes(I.slice(0,Mt),s),h=In(I.slice(Mt,fe)),E=Jt.multiply(h,!1),A=$t(a.toBytes(),o.toBytes(),t)}catch{}return{hashable:A,finish:u=>{if(E==null||!s&&o.isSmallOrder())return!1;let g=Le(u);return a.add(o.multiply(g,!1)).add(E.negate()).clearCofactor().is0()}}},ei=async(I,t,n,i=Qn)=>sr(ar(I,t,n,i)),ni=(I,t,n,i=Qn)=>Ar(ar(I,t,n,i)),ri={bytesToHex:ln,hexToBytes:dn,concatBytes:$t,mod:P,invert:zn,randomBytes:$n},yn={sha512Async:async I=>{let t=Vr(),n=$t(I);return He(await t.digest("SHA-512",n.buffer))},sha512:void 0},bn=(I=$n(Mt))=>I,ii=I=>{let t=bn(I),n=ir(t);return{secretKey:t,publicKey:n}},si=async I=>{let t=bn(I),n=await rr(t);return{secretKey:t,publicKey:n}},Ai={getExtendedPublicKeyAsync:Bn,getExtendedPublicKey:pn,randomSecretKey:bn},Oe=8,oi=256,cr=Math.ceil(oi/Oe)+1,un=2**(Oe-1),ai=()=>{let I=[],t=Jt,n=t;for(let i=0;i<cr;i++){n=t,I.push(n);for(let s=1;s<un;s++)n=n.add(t),I.push(n);t=n.double()}return I},qn=(I,t)=>{let n=t.negate();return I?n:t},ci=I=>{let t=Kn||(Kn=ai()),n=oe,i=Jt,s=2**Oe,o=s,a=Ge(s-1),h=Ge(Oe);for(let E=0;E<cr;E++){let A=Number(I&a);I>>=h,A>un&&(A-=o,I+=1n);let l=E*un,u=l,g=l+Math.abs(A)-1,y=E%2!==0,b=A<0;A===0?i=i.add(qn(y,t[u])):n=n.add(qn(b,t[g]))}return I!==0n&&ct("invalid wnaf"),{p:n,f:i}}});function hi(I){return I instanceof Uint8Array||ArrayBuffer.isView(I)&&I.constructor.name==="Uint8Array"}function wn(I,t,n=""){let i=hi(I),s=I?.length,o=t!==void 0;if(!i||o&&s!==t){let a=n&&`"${n}" `,h=o?` of length ${t}`:"",E=i?`length=${s}`:`type=${typeof I}`;throw new Error(a+"expected Uint8Array"+h+", got "+E)}return I}function mn(I,t=!0){if(I.destroyed)throw new Error("Hash instance has been destroyed");if(t&&I.finished)throw new Error("Hash#digest() has already been called")}function fr(I,t){wn(I,void 0,"digestInto() output");let n=t.outputLen;if(I.length<n)throw new Error('"digestInto() output" expected to be of length >='+n)}function Zt(...I){for(let t=0;t<I.length;t++)I[t].fill(0)}function Pe(I){return new DataView(I.buffer,I.byteOffset,I.byteLength)}function Tt(I,t){return I<<32-t|I>>>t}function zt(I,t={}){let n=(s,o)=>I(o).update(s).digest(),i=I(void 0);return n.outputLen=i.outputLen,n.blockLen=i.blockLen,n.create=s=>I(s),Object.assign(n,t),Object.freeze(n)}var te,Sn=xt(()=>{te=I=>({oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,I])})});function ur(I,t,n){return I&t^~I&n}function lr(I,t,n){return I&t^I&n^t&n}var ue,Pt,Yt,lt,dt,dr=xt(()=>{Sn();ue=class{blockLen;outputLen;padOffset;isLE;buffer;view;finished=!1;length=0;pos=0;destroyed=!1;constructor(t,n,i,s){this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=s,this.buffer=new Uint8Array(t),this.view=Pe(this.buffer)}update(t){mn(this),wn(t);let{view:n,buffer:i,blockLen:s}=this,o=t.length;for(let a=0;a<o;){let h=Math.min(s-this.pos,o-a);if(h===s){let E=Pe(t);for(;s<=o-a;a+=s)this.process(E,a);continue}i.set(t.subarray(a,a+h),this.pos),this.pos+=h,a+=h,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){mn(this),fr(t,this),this.finished=!0;let{buffer:n,view:i,blockLen:s,isLE:o}=this,{pos:a}=this;n[a++]=128,Zt(this.buffer.subarray(a)),this.padOffset>s-a&&(this.process(i,0),a=0);for(let u=a;u<s;u++)n[u]=0;i.setBigUint64(s-8,BigInt(this.length*8),o),this.process(i,0);let h=Pe(t),E=this.outputLen;if(E%4)throw new Error("_sha2: outputLen must be aligned to 32bit");let A=E/4,l=this.get();if(A>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<A;u++)h.setUint32(4*u,l[u],o)}digest(){let{buffer:t,outputLen:n}=this;this.digestInto(t);let i=t.slice(0,n);return this.destroy(),i}_cloneInto(t){t||=new this.constructor,t.set(...this.get());let{blockLen:n,buffer:i,length:s,finished:o,destroyed:a,pos:h}=this;return t.destroyed=a,t.finished=o,t.length=s,t.pos=h,s%n&&t.buffer.set(i),t}clone(){return this._cloneInto()}},Pt=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yt=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),lt=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),dt=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});function gi(I,t=!1){return t?{h:Number(I&Ye),l:Number(I>>Ir&Ye)}:{h:Number(I>>Ir&Ye)|0,l:Number(I&Ye)|0}}function Er(I,t=!1){let n=I.length,i=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){let{h:a,l:h}=gi(I[o],t);[i[o],s[o]]=[a,h]}return[i,s]}function Lt(I,t,n,i){let s=(t>>>0)+(i>>>0);return{h:I+n+(s/2**32|0)|0,l:s|0}}var Ye,Ir,_n,Rn,ee,ne,le,de,Cr,Br,pr,Qr,yr,br,wr=xt(()=>{Ye=BigInt(4294967295),Ir=BigInt(32);_n=(I,t,n)=>I>>>n,Rn=(I,t,n)=>I<<32-n|t>>>n,ee=(I,t,n)=>I>>>n|t<<32-n,ne=(I,t,n)=>I<<32-n|t>>>n,le=(I,t,n)=>I<<64-n|t>>>n-32,de=(I,t,n)=>I>>>n-32|t<<64-n;Cr=(I,t,n)=>(I>>>0)+(t>>>0)+(n>>>0),Br=(I,t,n,i)=>t+n+i+(I/2**32|0)|0,pr=(I,t,n,i)=>(I>>>0)+(t>>>0)+(n>>>0)+(i>>>0),Qr=(I,t,n,i,s)=>t+n+i+s+(I/2**32|0)|0,yr=(I,t,n,i,s)=>(I>>>0)+(t>>>0)+(n>>>0)+(i>>>0)+(s>>>0),br=(I,t,n,i,s,o)=>t+n+i+s+o+(I/2**32|0)|0});var Sr={};Be(Sr,{_SHA224:()=>qe,_SHA256:()=>Ke,_SHA384:()=>je,_SHA512:()=>We,_SHA512_224:()=>Ve,_SHA512_256:()=>Xe,sha224:()=>Ei,sha256:()=>Ii,sha384:()=>Bi,sha512:()=>Ci,sha512_224:()=>Qi,sha512_256:()=>pi});var ui,Kt,Je,Ke,qe,mr,li,di,qt,Wt,ae,We,je,yt,bt,Ve,Xe,Ii,Ei,Ci,Bi,pi,Qi,_r=xt(()=>{dr();wr();Sn();ui=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Kt=new Uint32Array(64),Je=class extends ue{constructor(t){super(64,t,8,!1)}get(){let{A:t,B:n,C:i,D:s,E:o,F:a,G:h,H:E}=this;return[t,n,i,s,o,a,h,E]}set(t,n,i,s,o,a,h,E){this.A=t|0,this.B=n|0,this.C=i|0,this.D=s|0,this.E=o|0,this.F=a|0,this.G=h|0,this.H=E|0}process(t,n){for(let u=0;u<16;u++,n+=4)Kt[u]=t.getUint32(n,!1);for(let u=16;u<64;u++){let g=Kt[u-15],y=Kt[u-2],b=Tt(g,7)^Tt(g,18)^g>>>3,m=Tt(y,17)^Tt(y,19)^y>>>10;Kt[u]=m+Kt[u-7]+b+Kt[u-16]|0}let{A:i,B:s,C:o,D:a,E:h,F:E,G:A,H:l}=this;for(let u=0;u<64;u++){let g=Tt(h,6)^Tt(h,11)^Tt(h,25),y=l+g+ur(h,E,A)+ui[u]+Kt[u]|0,m=(Tt(i,2)^Tt(i,13)^Tt(i,22))+lr(i,s,o)|0;l=A,A=E,E=h,h=a+y|0,a=o,o=s,s=i,i=y+m|0}i=i+this.A|0,s=s+this.B|0,o=o+this.C|0,a=a+this.D|0,h=h+this.E|0,E=E+this.F|0,A=A+this.G|0,l=l+this.H|0,this.set(i,s,o,a,h,E,A,l)}roundClean(){Zt(Kt)}destroy(){this.set(0,0,0,0,0,0,0,0),Zt(this.buffer)}},Ke=class extends Je{A=Pt[0]|0;B=Pt[1]|0;C=Pt[2]|0;D=Pt[3]|0;E=Pt[4]|0;F=Pt[5]|0;G=Pt[6]|0;H=Pt[7]|0;constructor(){super(32)}},qe=class extends Je{A=Yt[0]|0;B=Yt[1]|0;C=Yt[2]|0;D=Yt[3]|0;E=Yt[4]|0;F=Yt[5]|0;G=Yt[6]|0;H=Yt[7]|0;constructor(){super(28)}},mr=Er(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(I=>BigInt(I))),li=mr[0],di=mr[1],qt=new Uint32Array(80),Wt=new Uint32Array(80),ae=class extends ue{constructor(t){super(128,t,16,!1)}get(){let{Ah:t,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:h,Dl:E,Eh:A,El:l,Fh:u,Fl:g,Gh:y,Gl:b,Hh:m,Hl:D}=this;return[t,n,i,s,o,a,h,E,A,l,u,g,y,b,m,D]}set(t,n,i,s,o,a,h,E,A,l,u,g,y,b,m,D){this.Ah=t|0,this.Al=n|0,this.Bh=i|0,this.Bl=s|0,this.Ch=o|0,this.Cl=a|0,this.Dh=h|0,this.Dl=E|0,this.Eh=A|0,this.El=l|0,this.Fh=u|0,this.Fl=g|0,this.Gh=y|0,this.Gl=b|0,this.Hh=m|0,this.Hl=D|0}process(t,n){for(let C=0;C<16;C++,n+=4)qt[C]=t.getUint32(n),Wt[C]=t.getUint32(n+=4);for(let C=16;C<80;C++){let S=qt[C-15]|0,Q=Wt[C-15]|0,R=ee(S,Q,1)^ee(S,Q,8)^_n(S,Q,7),F=ne(S,Q,1)^ne(S,Q,8)^Rn(S,Q,7),w=qt[C-2]|0,_=Wt[C-2]|0,U=ee(w,_,19)^le(w,_,61)^_n(w,_,6),M=ne(w,_,19)^de(w,_,61)^Rn(w,_,6),H=pr(F,M,Wt[C-7],Wt[C-16]),Y=Qr(H,R,U,qt[C-7],qt[C-16]);qt[C]=Y|0,Wt[C]=H|0}let{Ah:i,Al:s,Bh:o,Bl:a,Ch:h,Cl:E,Dh:A,Dl:l,Eh:u,El:g,Fh:y,Fl:b,Gh:m,Gl:D,Hh:f,Hl:B}=this;for(let C=0;C<80;C++){let S=ee(u,g,14)^ee(u,g,18)^le(u,g,41),Q=ne(u,g,14)^ne(u,g,18)^de(u,g,41),R=u&y^~u&m,F=g&b^~g&D,w=yr(B,Q,F,di[C],Wt[C]),_=br(w,f,S,R,li[C],qt[C]),U=w|0,M=ee(i,s,28)^le(i,s,34)^le(i,s,39),H=ne(i,s,28)^de(i,s,34)^de(i,s,39),Y=i&o^i&h^o&h,K=s&a^s&E^a&E;f=m|0,B=D|0,m=y|0,D=b|0,y=u|0,b=g|0,{h:u,l:g}=Lt(A|0,l|0,_|0,U|0),A=h|0,l=E|0,h=o|0,E=a|0,o=i|0,a=s|0;let j=Cr(U,H,K);i=Br(j,_,M,Y),s=j|0}({h:i,l:s}=Lt(this.Ah|0,this.Al|0,i|0,s|0)),{h:o,l:a}=Lt(this.Bh|0,this.Bl|0,o|0,a|0),{h,l:E}=Lt(this.Ch|0,this.Cl|0,h|0,E|0),{h:A,l}=Lt(this.Dh|0,this.Dl|0,A|0,l|0),{h:u,l:g}=Lt(this.Eh|0,this.El|0,u|0,g|0),{h:y,l:b}=Lt(this.Fh|0,this.Fl|0,y|0,b|0),{h:m,l:D}=Lt(this.Gh|0,this.Gl|0,m|0,D|0),{h:f,l:B}=Lt(this.Hh|0,this.Hl|0,f|0,B|0),this.set(i,s,o,a,h,E,A,l,u,g,y,b,m,D,f,B)}roundClean(){Zt(qt,Wt)}destroy(){Zt(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},We=class extends ae{Ah=dt[0]|0;Al=dt[1]|0;Bh=dt[2]|0;Bl=dt[3]|0;Ch=dt[4]|0;Cl=dt[5]|0;Dh=dt[6]|0;Dl=dt[7]|0;Eh=dt[8]|0;El=dt[9]|0;Fh=dt[10]|0;Fl=dt[11]|0;Gh=dt[12]|0;Gl=dt[13]|0;Hh=dt[14]|0;Hl=dt[15]|0;constructor(){super(64)}},je=class extends ae{Ah=lt[0]|0;Al=lt[1]|0;Bh=lt[2]|0;Bl=lt[3]|0;Ch=lt[4]|0;Cl=lt[5]|0;Dh=lt[6]|0;Dl=lt[7]|0;Eh=lt[8]|0;El=lt[9]|0;Fh=lt[10]|0;Fl=lt[11]|0;Gh=lt[12]|0;Gl=lt[13]|0;Hh=lt[14]|0;Hl=lt[15]|0;constructor(){super(48)}},yt=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),bt=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]),Ve=class extends ae{Ah=yt[0]|0;Al=yt[1]|0;Bh=yt[2]|0;Bl=yt[3]|0;Ch=yt[4]|0;Cl=yt[5]|0;Dh=yt[6]|0;Dl=yt[7]|0;Eh=yt[8]|0;El=yt[9]|0;Fh=yt[10]|0;Fl=yt[11]|0;Gh=yt[12]|0;Gl=yt[13]|0;Hh=yt[14]|0;Hl=yt[15]|0;constructor(){super(28)}},Xe=class extends ae{Ah=bt[0]|0;Al=bt[1]|0;Bh=bt[2]|0;Bl=bt[3]|0;Ch=bt[4]|0;Cl=bt[5]|0;Dh=bt[6]|0;Dl=bt[7]|0;Eh=bt[8]|0;El=bt[9]|0;Fh=bt[10]|0;Fl=bt[11]|0;Gh=bt[12]|0;Gl=bt[13]|0;Hh=bt[14]|0;Hl=bt[15]|0;constructor(){super(32)}},Ii=zt(()=>new Ke,te(1)),Ei=zt(()=>new qe,te(4)),Ci=zt(()=>new We,te(3)),Bi=zt(()=>new je,te(2)),pi=zt(()=>new Xe,te(6)),Qi=zt(()=>new Ve,te(5))});var Rr={};Be(Rr,{default:()=>bi});var yi,bi,Dr=xt(()=>{yi=(()=>{var I,t,n={773(o,a,h){var E,A=typeof self<"u"&&self.Module!==void 0?self.Module:{},l={};for(E in A)A.hasOwnProperty(E)&&(l[E]=A[E]);var u,g,y,b,m=[];u=typeof window=="object",g=typeof importScripts=="function",y=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",b=!u&&!y&&!g;var D,f,B,C,S,Q="";y?(Q=g?h(967).dirname(Q)+"/":"//",D=function(x,G){return C||(C=h(145)),S||(S=h(967)),x=S.normalize(x),C.readFileSync(x,G?null:"utf8")},B=function(x){var G=D(x,!0);return G.buffer||(G=new Uint8Array(G)),U(G.buffer),G},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),m=process.argv.slice(2),o.exports=A,process.on("uncaughtException",function(x){if(!(x instanceof k))throw x}),process.on("unhandledRejection",V),A.inspect=function(){return"[Emscripten Module object]"}):b?(typeof read<"u"&&(D=function(x){return read(x)}),B=function(x){var G;return typeof readbuffer=="function"?new Uint8Array(readbuffer(x)):(U(typeof(G=read(x,"binary"))=="object"),G)},typeof scriptArgs<"u"?m=scriptArgs:arguments!==void 0&&(m=arguments),typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)):(u||g)&&(g?Q=self.location.href:typeof document<"u"&&document.currentScript&&(Q=document.currentScript.src),Q=Q.indexOf("blob:")!==0?Q.substr(0,Q.lastIndexOf("/")+1):"",D=function(x){var G=new XMLHttpRequest;return G.open("GET",x,!1),G.send(null),G.responseText},g&&(B=function(x){var G=new XMLHttpRequest;return G.open("GET",x,!1),G.responseType="arraybuffer",G.send(null),new Uint8Array(G.response)}),f=function(x,G,e){var r=new XMLHttpRequest;r.open("GET",x,!0),r.responseType="arraybuffer",r.onload=function(){r.status==200||r.status==0&&r.response?G(r.response):e()},r.onerror=e,r.send(null)}),A.print||console.log.bind(console);var R,F,w=A.printErr||console.warn.bind(console);for(E in l)l.hasOwnProperty(E)&&(A[E]=l[E]);l=null,A.arguments&&(m=A.arguments),A.thisProgram&&A.thisProgram,A.quit&&A.quit,A.wasmBinary&&(R=A.wasmBinary),A.noExitRuntime,typeof WebAssembly!="object"&&V("no native wasm support detected");var _=!1;function U(x,G){x||V("Assertion failed: "+G)}var M,H,Y=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function K(x){M=x,A.HEAP8=new Int8Array(x),A.HEAP16=new Int16Array(x),A.HEAP32=new Int32Array(x),A.HEAPU8=H=new Uint8Array(x),A.HEAPU16=new Uint16Array(x),A.HEAPU32=new Uint32Array(x),A.HEAPF32=new Float32Array(x),A.HEAPF64=new Float64Array(x)}A.INITIAL_MEMORY;var j,st=[],J=[],Rt=[],ot=0,ht=null,W=null;function V(x){throw A.onAbort&&A.onAbort(x),w(x+=""),_=!0,x="abort("+x+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(x)}function It(x){return x.startsWith("data:application/octet-stream;base64,")}function At(x){return x.startsWith("file://")}A.preloadedImages={},A.preloadedAudios={};var wt,et="argon2.wasm";function Nt(x){try{if(x==et&&R)return new Uint8Array(R);if(B)return B(x);throw"both async and sync fetching of the wasm failed"}catch(G){V(G)}}function St(x){for(;x.length>0;){var G=x.shift();if(typeof G!="function"){var e=G.func;typeof e=="number"?G.arg===void 0?j.get(e)():j.get(e)(G.arg):e(G.arg===void 0?null:G.arg)}else G(A)}}function jt(x){try{return F.grow(x-M.byteLength+65535>>>16),K(F.buffer),1}catch{}}It(et)||(wt=et,et=A.locateFile?A.locateFile(wt,Q):Q+wt);var vt,Et={a:function(x,G,e){H.copyWithin(x,G,G+e)},b:function(x){var G,e=H.length;if((x>>>=0)>2147418112)return!1;for(var r=1;r<=4;r*=2){var c=e*(1+.2/r);if(c=Math.min(c,x+100663296),jt(Math.min(2147418112,((G=Math.max(x,c))%65536>0&&(G+=65536-G%65536),G))))return!0}return!1}},mt=((function(){var x={a:Et};function G(c,p){var N,v=c.exports;A.asm=v,K((F=A.asm.c).buffer),j=A.asm.k,N=A.asm.d,J.unshift(N),(function(L){if(ot--,A.monitorRunDependencies&&A.monitorRunDependencies(ot),ot==0&&(ht!==null&&(clearInterval(ht),ht=null),W)){var q=W;W=null,q()}})()}function e(c){G(c.instance)}function r(c){return(function(){if(!R&&(u||g)){if(typeof fetch=="function"&&!At(et))return fetch(et,{credentials:"same-origin"}).then(function(p){if(!p.ok)throw"failed to load wasm binary file at '"+et+"'";return p.arrayBuffer()}).catch(function(){return Nt(et)});if(f)return new Promise(function(p,N){f(et,function(v){p(new Uint8Array(v))},N)})}return Promise.resolve().then(function(){return Nt(et)})})().then(function(p){return WebAssembly.instantiate(p,x)}).then(c,function(p){w("failed to asynchronously prepare wasm: "+p),V(p)})}if(ot++,A.monitorRunDependencies&&A.monitorRunDependencies(ot),A.instantiateWasm)try{return A.instantiateWasm(x,G)}catch(c){return w("Module.instantiateWasm callback failed with error: "+c),!1}R||typeof WebAssembly.instantiateStreaming!="function"||It(et)||At(et)||typeof fetch!="function"?r(e):fetch(et,{credentials:"same-origin"}).then(function(c){return WebAssembly.instantiateStreaming(c,x).then(e,function(p){return w("wasm streaming compile failed: "+p),w("falling back to ArrayBuffer instantiation"),r(e)})})})(),A.___wasm_call_ctors=function(){return(A.___wasm_call_ctors=A.asm.d).apply(null,arguments)},A._argon2_hash=function(){return(A._argon2_hash=A.asm.e).apply(null,arguments)},A._malloc=function(){return(mt=A._malloc=A.asm.f).apply(null,arguments)}),T=(A._free=function(){return(A._free=A.asm.g).apply(null,arguments)},A._argon2_verify=function(){return(A._argon2_verify=A.asm.h).apply(null,arguments)},A._argon2_error_message=function(){return(A._argon2_error_message=A.asm.i).apply(null,arguments)},A._argon2_encodedlen=function(){return(A._argon2_encodedlen=A.asm.j).apply(null,arguments)},A._argon2_hash_ext=function(){return(A._argon2_hash_ext=A.asm.l).apply(null,arguments)},A._argon2_verify_ext=function(){return(A._argon2_verify_ext=A.asm.m).apply(null,arguments)},A.stackAlloc=function(){return(T=A.stackAlloc=A.asm.n).apply(null,arguments)});function k(x){this.name="ExitStatus",this.message="Program terminated with exit("+x+")",this.status=x}function O(x){function G(){vt||(vt=!0,A.calledRun=!0,_||(St(J),A.onRuntimeInitialized&&A.onRuntimeInitialized(),(function(){var e;if(A.postRun)for(typeof A.postRun=="function"&&(A.postRun=[A.postRun]);A.postRun.length;)e=A.postRun.shift(),Rt.unshift(e);St(Rt)})()))}x=x||m,ot>0||((function(){var e;if(A.preRun)for(typeof A.preRun=="function"&&(A.preRun=[A.preRun]);A.preRun.length;)e=A.preRun.shift(),st.unshift(e);St(st)})(),ot>0||(A.setStatus?(A.setStatus("Running..."),setTimeout(function(){setTimeout(function(){A.setStatus("")},1),G()},1)):G()))}if(A.allocate=function(x,G){var e;return e=G==1?T(x.length):mt(x.length),x.subarray||x.slice?H.set(x,e):H.set(new Uint8Array(x),e),e},A.UTF8ToString=function(x,G){return x?(function(e,r,c){for(var p=r+c,N=r;e[N]&&!(N>=p);)++N;if(N-r>16&&e.subarray&&Y)return Y.decode(e.subarray(r,N));for(var v="";r<N;){var L=e[r++];if(128&L){var q=63&e[r++];if((224&L)!=192){var rt=63&e[r++];if((L=(240&L)==224?(15&L)<<12|q<<6|rt:(7&L)<<18|q<<12|rt<<6|63&e[r++])<65536)v+=String.fromCharCode(L);else{var $=L-65536;v+=String.fromCharCode(55296|$>>10,56320|1023&$)}}else v+=String.fromCharCode((31&L)<<6|q)}else v+=String.fromCharCode(L)}return v})(H,x,G):""},A.ALLOC_NORMAL=0,W=function x(){vt||O(),vt||(W=x)},A.run=O,A.preInit)for(typeof A.preInit=="function"&&(A.preInit=[A.preInit]);A.preInit.length>0;)A.preInit.pop()();O(),o.exports=A,A.unloadRuntime=function(){typeof self<"u"&&delete self.Module,A=F=j=M=H=void 0,delete o.exports}},631:function(o,a,h){var E,A;typeof self<"u",(A=typeof(E=function(){let l=typeof self<"u"?self:this,u={Argon2d:0,Argon2i:1,Argon2id:2};function g(f){if(g._promise)return g._promise;if(g._module)return Promise.resolve(g._module);let B;return B=l.process&&l.process.versions&&l.process.versions.node?y().then(C=>new Promise(S=>{C.postRun=()=>S(C)})):(l.loadArgon2WasmBinary?l.loadArgon2WasmBinary():Promise.resolve(h(721)).then(C=>(function(S){let Q=atob(S),R=new Uint8Array(new ArrayBuffer(Q.length));for(let F=0;F<Q.length;F++)R[F]=Q.charCodeAt(F);return R})(C))).then(C=>{var S,Q;return S=C,Q=f?(function(R){let F=32767;return new WebAssembly.Memory({initial:Math.min(Math.max(Math.ceil(1024*R/65536),256)+256,F),maximum:F})})(f):void 0,new Promise(R=>(l.Module={wasmBinary:S,wasmMemory:Q,postRun(){R(Module)}},y()))}),g._promise=B,B.then(C=>(g._module=C,delete g._promise,C))}function y(){return l.loadArgon2WasmModule?l.loadArgon2WasmModule():Promise.resolve(h(773))}function b(f,B){return f.allocate(B,"i8",f.ALLOC_NORMAL)}function m(f,B){return b(f,new Uint8Array([...B,0]))}function D(f){if(typeof f!="string")return f;if(typeof TextEncoder=="function")return new TextEncoder().encode(f);if(typeof Buffer=="function")return Buffer.from(f);throw Error("Don't know how to encode UTF8")}return{ArgonType:u,hash:function(f){let B=f.mem||1024;return g(B).then(C=>{let S=f.time||1,Q=f.parallelism||1,R=D(f.pass),F=m(C,R),w=R.length,_=D(f.salt),U=m(C,_),M=_.length,H=f.type||u.Argon2d,Y=C.allocate(Array(f.hashLen||24),"i8",C.ALLOC_NORMAL),K=f.secret?b(C,f.secret):0,j=f.secret?f.secret.byteLength:0,st=f.ad?b(C,f.ad):0,J=f.ad?f.ad.byteLength:0,Rt=f.hashLen||24,ot=C._argon2_encodedlen(S,B,Q,M,Rt,H),ht=C.allocate(Array(ot+1),"i8",C.ALLOC_NORMAL),W,V,It;try{V=C._argon2_hash_ext(S,B,Q,F,w,U,M,Y,Rt,ht,ot,H,K,j,st,J,19)}catch(At){W=At}if(V!==0||W){try{W||(W=C.UTF8ToString(C._argon2_error_message(V)))}catch{}It={message:W,code:V}}else{let At="",wt=new Uint8Array(Rt);for(let et=0;et<Rt;et++){let Nt=C.HEAP8[Y+et];wt[et]=Nt,At+=("0"+(255&Nt).toString(16)).slice(-2)}It={hash:wt,hashHex:At,encoded:C.UTF8ToString(ht)}}try{C._free(F),C._free(U),C._free(Y),C._free(ht),st&&C._free(st),K&&C._free(K)}catch{}if(W)throw It;return It})},verify:function(f){return g().then(B=>{let C=D(f.pass),S=m(B,C),Q=C.length,R=f.secret?b(B,f.secret):0,F=f.secret?f.secret.byteLength:0,w=f.ad?b(B,f.ad):0,_=f.ad?f.ad.byteLength:0,U=m(B,D(f.encoded)),M,H,Y,K=f.type;if(K===void 0){let j=f.encoded.split("$")[1];j&&(K=u[j=j.replace("a","A")]||u.Argon2d)}try{H=B._argon2_verify_ext(U,S,Q,R,F,w,_,K)}catch(j){M=j}if(H||M){try{M||(M=B.UTF8ToString(B._argon2_error_message(H)))}catch{}Y={message:M,code:H}}try{B._free(S),B._free(U)}catch{}if(M)throw Y;return Y})},unloadRuntime:function(){g._module&&(g._module.unloadRuntime(),delete g._promise,delete g._module)}}})=="function"?E.apply(a,[]):E)===void 0||(o.exports=A)},721:function(o,a){o.exports="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DwtBixEPC0GeEyEBCyABC48DAQF/IwBBgANrIgQkACAEQQA2AowBIARBjAFqIAEQBwJAIAFBwABNBEAgBEGQAWogARAYQQBIDQEgBEGQAWogBEGMAWpBBBAGQQBIDQEgBEGQAWogAiADEAZBAEgNASAEQZABaiAAIAEQEhoMAQsgBEGQAWpBwAAQGEEASA0AIARBkAFqIARBjAFqQQQQBkEASA0AIARBkAFqIAIgAxAGQQBIDQAgBEGQAWogBEFAa0HAABASQQBIDQAgACAEKQNANwAAIAAgBCkDSDcACCAAIAQpA1g3ABggACAEKQNQNwAQIABBIGohACABQSBrIgJBwQBPBEADQCAEIARBQGtBwAAQBSIBQUBrQcAAIAEQMUEASA0CIAAgASkDQDcAACAAIAEpA0g3AAggACAEKQNYNwAYIAAgBCkDUDcAECAAQSBqIQAgAkEgayICQcAASw0ACwsgBCAEQUBrQcAAEAUiAUFAayACIAEQMUEASA0AIAAgAUFAayACEAUaCyAEQZABakHwARAEIARBgANqJAALAwABC5kCACAARQRAQQAPCwJ/AkAgAAR/IAFB/wBNDQECQEGgHigCACgCAEUEQCABQYB/cUGAvwNGDQMMAQsgAUH/D00EQCAAIAFBP3FBgAFyOgABIAAgAUEGdkHAAXI6AABBAgwECyABQYCwA09BACABQYBAcUGAwANHG0UEQCAAIAFBP3FBgAFyOgACIAAgAUEMdkHgAXI6AAAgACABQQZ2QT9xQYABcjoAAUEDDAQLIAFBgIAEa0H//z9NBEAgACABQT9xQYABcjoAAyAAIAFBEnZB8AFyOgAAIAAgAUEGdkE/cUGAAXI6AAIgACABQQx2QT9xQYABcjoAAUEEDAQLC0HcHkEZNgIAQX8FQQELDAELIAAgAToAAEEBCwtQAQN/AkAgACgCACwAABAPRQRADAELA0AgACgCACICLAAAIQMgACACQQFqNgIAIAEgA2pBMGshASACLAABEA9FDQEgAUEKbCEBDAALAAsgAQu7AgACQCABQRRLDQACQAJAAkACQAJAAkACQAJAAkACQCABQQlrDgoAAQIDBAUGBwgJCgsgAiACKAIAIgFBBGo2AgAgACABKAIANgIADwsgAiACKAIAIgFBBGo2AgAgACABNAIANwMADwsgAiACKAIAIgFB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AUHjFEEDEBANACABQQNqIANBDGoQFSIBRQ0AIAAgAygCDDYCKCABQecUQQMQEA0AIAFBA2ogA0EMahAVIgFFDQAgACADKAIMIgQ2AjAgACAENgI0IAEtAABBJEcNACADIAc2AgwgACgCECADQQxqIAFBAWoQLCIBRQ0AIAAgAygCDDYCFCABLQAAQSRHDQAgAyAGNgIMIAAoAgAgA0EMaiABQQFqECwiAUUNACAAIAMoAgw2AgQgAEEANgJEIABCADcCPCAAQgA3AhggAEIANwIgIAAQHCICDQBBYEEAIAEtAAAbIQILIANBEGokACACCykBAn8DQCAAIAJBA3QiA2ogASADaikAADcDACACQQFqIgJBgAFHDQALCwwAIABBAEGACBALGgtlAQJ/IAAgAhAeIgIEfyACBUFdQQACfyAAKAIAIQRBACECIAAoAgQiAAR/A0AgAyACIARqLQAAIAEgAmotAABzciEDIAJBAWoiAiAARw0ACyADQQFrQQh2QQFxQQFrBUEACwsbCwtdAQJ/IwBB8AFrIgMkAEF/IQQCQCACRSAARSABRXJyIAFBwABLcg0AIAMgARAYQQBIDQAgAyACQcAAEAZBAEgNACADIAAgARASIQQLIANB8AEQBCADQfABaiQAIAQLCQAgACABNwAACxAAIwAgAGtBcHEiACQAIAALMwEBfyAAKAIUIgMgASACIAAoAhAgA2siASABIAJLGyIBEAUaIAAgACgCFCABajYCFCACC9oBAQR/IwBB0ABrIggkAAJAIABFBEBBYCEADAELIAggABAKIgk2AgwgCCAJNgIcIAggCRAJIgo2AhggCCAJEAkiCzYCCEEAIQkCQAJAIApFIAtFcg0AIAggAjYCFCAIIAE2AhAgCEEIaiAAIAcQLSIADQEgCCgCCCEJIAggCCgCDBAJIgA2AgggAEUNACAIIAY2AiwgCCAFNgIoIAggBDYCJCAIIAM2AiAgCEEIaiAJIAcQMCEADAELQWohAAsgCCgCGBAIIAgoAggQCCAJEAgLIAhB0ABqJAAgAAuQAgEDfyMAQdAAayIRJABBfiETAkAgCEEESQ0AIAgQCSISRQRAQWohEwwBCyARQQA2AkwgEUIANwJEIBEgAjYCPCARIAI2AjggESABNgI0IBEgADYCMCARIA82AiwgESAONgIoIBEgDTYCJCARIAw2AiAgESAGNgIcIBEgBTYCGCARIAQ2AhQgESADNgIQIBEgCDYCDCARIBI2AgggESAQNgJAAkAgEUEIaiALEB4iEwRAIBIgCBAEDAELIAcEQCAHIBIgCBAFGgsCQCAJRSAKRXINACAJIAogEUEIaiALECpFDQAgEiAIEAQgCSAKEARBYSETDAELIBIgCBAEQQAhEwsgEhAICyARQdAAaiQAIBMLDQAgAEHwARAEIAAQJQspACAFEB8QCiAAEBRqIAEQFGogAhAUaiADECdqIAQQJ2pBExAUakEQagsfACAAQSNqIgBBI00EQCAAQQJ0QewWaigCAA8LQYsTC74BAQR/IwBB0ABrIgQkAAJAIABFBEBBYCEADAELIAQgABAKIgU2AgwgBCAFNgIcIAQgBRAJIgY2AhggBCAFEAkiBzYCCEEAIQUCQAJAIAZFIAdFcg0AIAQgAjYCFCAEIAE2AhAgBEEIaiAAIAMQLSIADQEgBCgCCCEFIAQgBCgCDBAJIgA2AgggAEUNACAEQQhqIAUgAxAwIQAMAQtBaiEACyAEKAIYEAggBCgCCBAIIAUQCAsgBEHQAGokACAAC4ICAQN/IwBB0ABrIg0kAEF+IQ8CQCAIQQRJDQAgCBAJIg5FBEBBaiEPDAELIA1CADcDKCANQgA3AyAgDSAGNgIcIA0gBTYCGCANIAQ2AhQgDSADNgIQIA0gCDYCDCANIA42AgggDUEANgJMIA1CADcCRCANIAI2AjwgDSACNgI4IA0gATYCNCANIAA2AjAgDSAMNgJAAkAgDUEIaiALEB4iDwRAIA4gCBAEDAELIAcEQCAHIA4gCBAFGgsCQCAJRSAKRXINACAJIAogDUEIaiALECpFDQAgDiAIEAQgCSAKEARBYSEPDAELIA4gCBAEQQAhDwsgDhAICyANQdAAaiQAIA8LYgEDfyABRSAARXIEf0F/BSAAQUBrQQBBsAEQCxogAEGACEHAABAFGgNAIAAgAkEDdCIDaiIEIAEgA2opAAAgBCkDAIU3AwAgAkEBaiICQQhHDQALIAAgAS0AADYC5AFBAAsLC/ISFABBgAgLuQUIybzzZ+YJajunyoSFrme7K/iU/nLzbjzxNh1fOvVPpdGC5q1/Ug5RH2w+K4xoBZtrvUH7q9mDH3khfhMZzeBbAAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAAA4AAAAKAAAABAAAAAgAAAAJAAAADwAAAA0AAAAGAAAAAQAAAAwAAAAAAAAAAgAAAAsAAAAHAAAABQAAAAMAAAALAAAACAAAAAwAAAAAAAAABQAAAAIAAAAPAAAADQAAAAoAAAAOAAAAAwAAAAYAAAAHAAAAAQAAAAkAAAAEAAAABwAAAAkAAAADAAAAAQAAAA0AAAAMAAAACwAAAA4AAAACAAAABgAAAAUAAAAKAAAABAAAAAAAAAAPAAAACAAAAAkAAAAAAAAABQAAAAcAAAACAAAABAAAAAoAAAAPAAAADgAAAAEAAAALAAAADAAAAAYAAAAIAAAAAwAAAA0AAAACAAAADAAAAAYAAAAKAAAAAAAAAAsAAAAIAAAAAwAAAAQAAAANAAAABwAAAAUAAAAPAAAADgAAAAEAAAAJAAAADAAAAAUAAAABAAAADwAAAA4AAAANAAAABAAAAAoAAAAAAAAABwAAAAYAAAADAAAACQAAAAIAAAAIAAAACwAAAA0AAAALAAAABwAAAA4AAAAMAAAAAQAAAAMAAAAJAAAABQAAAAAAAAAPAAAABAAAAAgAAAAGAAAAAgAAAAoAAAAGAAAADwAAAA4AAAAJAAAACwAAAAMAAAAAAAAACAAAAAwAAAACAAAADQAAAAcAAAABAAAABAAAAAoAAAAFAAAACgAAAAIAAAAIAAAABAAAAAcAAAAGAAAAAQAAAAUAAAAPAAAACwAAAAkAAAAOAAAAAwAAAAwAAAANAEHEDQu5CgEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAAA4AAAAKAAAABAAAAAgAAAAJAAAADwAAAA0AAAAGAAAAAQAAAAwAAAAAAAAAAgAAAAsAAAAHAAAABQAAAAMAAAAtKyAgIDBYMHgAJWx1AE91dHB1dCBpcyB0b28gc2hvcnQAU2FsdCBpcyB0b28gc2hvcnQAU2VjcmV0IGlzIHRvbyBzaG9ydABQYXNzd29yZCBpcyB0b28gc2hvcnQAQXNzb2NpYXRlZCBkYXRhIGlzIHRvbyBzaG9ydABTb21lIG9mIGVuY29kZWQgcGFyYW1ldGVycyBhcmUgdG9vIGxvbmcgb3IgdG9vIHNob3J0AE1pc3NpbmcgYXJndW1lbnRzAFRvbyBtYW55IGxhbmVzAFRvbyBmZXcgbGFuZXMAVG9vIG1hbnkgdGhyZWFkcwBOb3QgZW5vdWdoIHRocmVhZHMATWVtb3J5IGFsbG9jYXRpb24gZXJyb3IATWVtb3J5IGNvc3QgaXMgdG9vIHNtYWxsAFRpbWUgY29zdCBpcyB0b28gc21hbGwAYXJnb24yaQBBcmdvbjJpAFRoZSBwYXNzd29yZCBkb2VzIG5vdCBtYXRjaCB0aGUgc3VwcGxpZWQgaGFzaABPdXRwdXQgcG9pbnRlciBtaXNtYXRjaABPdXRwdXQgaXMgdG9vIGxvbmcAU2FsdCBpcyB0b28gbG9uZwBTZWNyZXQgaXMgdG9vIGxvbmcAUGFzc3dvcmQgaXMgdG9vIGxvbmcAQXNzb2NpYXRlZCBkYXRhIGlzIHRvbyBsb25nAFRocmVhZGluZyBmYWlsdXJlAE1lbW9yeSBjb3N0IGlzIHRvbyBsYXJnZQBUaW1lIGNvc3QgaXMgdG9vIGxhcmdlAFVua25vd24gZXJyb3IgY29kZQBhcmdvbjJpZABBcmdvbjJpZABFbmNvZGluZyBmYWlsZWQARGVjb2RpbmcgZmFpbGVkAGFyZ29uMmQAQXJnb24yZABBcmdvbjJfQ29udGV4dCBjb250ZXh0IGlzIE5VTEwAT3V0cHV0IHBvaW50ZXIgaXMgTlVMTABUaGUgYWxsb2NhdGUgbWVtb3J5IGNhbGxiYWNrIGlzIE5VTEwAVGhlIGZyZWUgbWVtb3J5IGNhbGxiYWNrIGlzIE5VTEwAT0sAJHY9ACx0PQAscD0AJG09AFRoZXJlIGlzIG5vIHN1Y2ggdmVyc2lvbiBvZiBBcmdvbjIAU2FsdCBwb2ludGVyIGlzIE5VTEwsIGJ1dCBzYWx0IGxlbmd0aCBpcyBub3QgMABTZWNyZXQgcG9pbnRlciBpcyBOVUxMLCBidXQgc2VjcmV0IGxlbmd0aCBpcyBub3QgMABQYXNzd29yZCBwb2ludGVyIGlzIE5VTEwsIGJ1dCBwYXNzd29yZCBsZW5ndGggaXMgbm90IDAAQXNzb2NpYXRlZCBkYXRhIHBvaW50ZXIgaXMgTlVMTCwgYnV0IGFkIGxlbmd0aCBpcyBub3QgMAAobnVsbCkAAACbCAAAuwcAAEkJAADACQAAsAkAAPAHAAAfCAAAMAgAAMkIAABvCgAA4AkAABYKAAA7CgAAQwgAACsLAADBCgAAkgoAAPQKAAACCAAAEQgAAFsJAABbCAAAdAkAAHQIAAAFCQAAdAcAAC0JAACeBwAA9AgAAGIHAAAYCQAAiAcAAOEIAABOBwAA/wkAAFwKAAABAEGkGAsBAgBByxgLBf//////AEGQGQtBEQAKABEREQAAAAAFAAAAAAAACQAAAAALAAAAAAAAAAARAA8KERERAwoHAAEACQsLAAAJBgsAAAsABhEAAAAREREAQeEZCyELAAAAAAAAAAARAAoKERERAAoAAAIACQsAAAAJAAsAAAsAQZsaCwEMAEGnGgsVDAAAAAAMAAAAAAkMAAAAAAAMAAAMAEHVGgsBDgBB4RoLFQ0AAAAEDQAAAAAJDgAAAAAADgAADgBBjxsLARAAQZsbCx4PAAAAAA8AAAAACRAAAAAAABAAABAAABIAAAASEhIAQdIbCw4SAAAAEhISAAAAAAAACQBBgxwLAQsAQY8cCxUKAAAAAAoAAAAACQsAAAAAAAsAAAsAQb0cCwEMAEHJHAsnDAAAAAAMAAAAAAkMAAAAAAAMAAAMAAAwMTIzNDU2Nzg5QUJDREVGAEHwHAsBAQBBoB4LAogPAEHYHgsDkBFQ"},145(){},967(){}},i={};function s(o){var a=i[o];if(a!==void 0)return a.exports;var h=i[o]={exports:{}};return n[o].call(h.exports,h,h.exports,s),h.exports}return s(631)})(),bi=yi});await _t();await _t();var Gr=1e4,Lr=1e6,Or=36e5,ut={VALID_SIGNATURE:1e4,VALID_POW:3e5,UNICAST_RELAYED:5e3,WRONG_SIGNATURE:-6e5,WRONG_POW:-1e8,WRONG_SERIALIZATION:-6e4,GOSSIP_FLOOD:-6e4,UNICAST_FLOOD:-3e4,HOPS_EXCEEDED:-3e5,UNICAST_INVALID_ROUTE:-6e4,FAILED_HANDSHAKE:-6e5,WRONG_LENGTH:-6e5},ye=class{id;cryptoCodex;verbose;trustBalances={};bytesCounters={gossip:0,unicast:0};bytesCounterResetIn=0;constructor(t,n,i=0){this.id=t,this.cryptoCodex=n,this.verbose=i}tick(){for(let t in this.trustBalances){let n=this.trustBalances[t];n!==0&&(n=n<0?Math.min(0,n+1e3):Math.max(0,n-100))}this.bytesCounterResetIn-1e3>0||(this.bytesCounterResetIn=Gr,this.bytesCounters={gossip:0,unicast:0})}countPeerAction(t,n){if(ut[n])return this.adjustTrust(t,ut[n])}adjustTrust(t,n,i="na"){t!==this.id&&(n&&(this.trustBalances[t]=Math.min(Or,(this.trustBalances[t]||0)+n)),n&&this.verbose>2&&console.log(`%c(Arbiter: ${this.id}) ${t} +${n}ms (${i}). Updated: ${this.trustBalances[t]}ms.`,it.ARBITER),this.isBanished(t)&&this.verbose>1&&console.log(`%c(Arbiter: ${this.id}) Peer ${t} is now banished.`,it.ARBITER))}isBanished(t="toto"){return(this.trustBalances[t]||0)<0}countMessageBytes(t,n,i){return this.bytesCounters[i]||(this.bytesCounters[i]=0),this.bytesCounters[i]+=n,this.bytesCounters[i]<Lr?!0:this.adjustTrust(t,i==="gossip"?ut.GOSSIP_FLOOD:ut.UNICAST_FLOOD,"Message flood detected")}async digestMessage(t,n,i,s=.01){let{senderId:o,pubkey:a,topic:h,expectedEnd:E}=n;this.#t(t,n,i),this.#e(h?"gossip":"unicast",i,E)&&(h?this.#n(t,n):this.#r(t,n),!(this.isBanished(t)||this.isBanished(o))&&(this.trustBalances[o]>ut.VALID_POW||Math.random()<s&&await this.#i(o,a)))}#e(t,n,i){if(!i||n.length===i)return!0;this.adjustTrust(from,ut.WRONG_LENGTH,`${t} message length mismatch`)}#t(t,n,i){let{pubkey:s,signature:o,signatureStart:a}=n,h=i.subarray(0,a);this.cryptoCodex.verifySignature(s,o,h)?this.adjustTrust(t,ut.VALID_SIGNATURE,"Gossip signature valid"):this.adjustTrust(t,ut.WRONG_SIGNATURE,"Gossip signature invalid")}#n(t,n){n.HOPS<=(ft.HOPS[n.topic]||ft.HOPS.default)||this.adjustTrust(t,ut.HOPS_EXCEEDED,"Gossip HOPS exceeded")}#r(t,n){n.route.length<=at.MAX_HOPS||this.adjustTrust(t,ut.HOPS_EXCEEDED,"Unicast HOPS exceeded")}async#i(t,n){await this.cryptoCodex.pubkeyDifficultyCheck(n)?this.adjustTrust(t,ut.VALID_POW,"Gossip PoW valid"):this.adjustTrust(t,ut.WRONG_POW,"Gossip PoW invalid")}};await _t();var Hr;function be(I,t=0){let n=typeof I=="string"?(Hr??=new TextEncoder).encode(I):I,i=n,s=t+374761393&4294967295,o=0;if(i.length>=16){let h=[t+2654435761+2246822519&4294967295,t+2246822519&4294967295,t+0&4294967295,t-2654435761&4294967295],E=n,A=E.length-16,l=0;for(o=0;(o&4294967280)<=A;o+=4){let u=o,g=E[u+0]+(E[u+1]<<8),y=E[u+2]+(E[u+3]<<8),b=g*2246822519+(y*2246822519<<16),m=h[l]+b&4294967295;m=m<<13|m>>>19;let D=m&65535,f=m>>>16;h[l]=D*2654435761+(f*2654435761<<16)&4294967295,l=l+1&3}s=(h[0]<<1|h[0]>>>31)+(h[1]<<7|h[1]>>>25)+(h[2]<<12|h[2]>>>20)+(h[3]<<18|h[3]>>>14)&4294967295}s=s+n.length&4294967295;let a=n.length-4;for(;o<=a;o+=4){let h=o,E=i[h+0]+(i[h+1]<<8),A=i[h+2]+(i[h+3]<<8),l=E*3266489917+(A*3266489917<<16);s=s+l&4294967295,s=s<<17|s>>>15,s=(s&65535)*668265263+((s>>>16)*668265263<<16)&4294967295}for(;o<i.length;++o){let h=i[o];s=s+h*374761393,s=s<<11|s>>>21,s=(s&65535)*2654435761+((s>>>16)*2654435761<<16)&4294967295}return s=s^s>>>15,s=((s&65535)*2246822519&4294967295)+((s>>>16)*2246822519<<16),s=s^s>>>13,s=((s&65535)*3266489917&4294967295)+((s>>>16)*3266489917<<16),s=s^s>>>16,s<0?s+4294967296:s}async function Pr(){if(!(typeof globalThis.RTCPeerConnection<"u"))return(await import("wrtc")).default}var Ln=await Pr(),we=class{id;verbose;stunUrls;constructor(t,n,i=0){this.id=t,this.verbose=i,this.stunUrls=n}onSignalAnswer=null;onConnect=null;offerInstanceByExpiration={};creatingOffer=!1;offerCreationTimeout=null;offersToCreate=Bt.MAX_SDP_OFFERS;offers={};tick(){let t=nt.time;for(let o in this.offerInstanceByExpiration){let a=this.offerInstanceByExpiration[o];t<o||(a?.destroy(),delete this.offerInstanceByExpiration[o],this.creatingOffer=!1)}for(let o in this.offers){let a=this.offers[o];if(a.offererInstance.destroyed){delete this.offers[o];continue}if(a.isUsed){delete this.offers[o];continue}a.timestamp+Bt.SDP_OFFER_EXPIRATION>t||(a.offererInstance?.destroy(),delete this.offers[o])}let n=0;for(let o in this.offers){n++;let a=this.offers[o];if(a.isDigestingOneAnswer){a.isDigestingOneAnswer=!1;continue}if(a.offererInstance.destroyed)continue;let h=a.answers.filter(l=>!l.used);if(!h.length)continue;let E=h.reduce((l,u)=>l.timestamp>u.timestamp?l:u);if(!E)continue;E.used=!0;let A=t-E.timestamp;A>gt.CONNECTION_UPGRADE_TIMEOUT/2||(a.offererInstance.signal(E.signal),a.isDigestingOneAnswer=!0,this.verbose>2&&console.log(`(${this.id}) Using answer from ${E.peerId} for offer ${o} (received since ${A} ms)`))}if(this.creatingOffer||n>=this.offersToCreate)return;this.creatingOffer=!0;let i=t+(Bt.SIGNAL_CREATION_TIMEOUT||8e3),s=this.#e(i);this.offerInstanceByExpiration[i]=s}#e(t){let n=Bt.ICE_COMPLETE_TIMEOUT||1e3,i=new Bt.PEER({initiator:!0,trickle:!1,iceCompleteTimeout:n,wrtc:Ln,config:{iceServers:this.stunUrls}});return i.on("error",s=>this.#n(s)),i.on("signal",s=>{let{candidate:o,type:a}=s;if(!s||o)throw new Error("Unexpected signal data from offerer instance: "+JSON.stringify(s));if(a!=="offer")throw new Error("Unexpected signal type from offerer instance: "+a);delete this.offerInstanceByExpiration[t];let h=be(JSON.stringify(s));i.on("connect",()=>{this.offers[h]&&(this.offers[h].isUsed=!0),this.onConnect(void 0,i)}),this.offers[h]={timestamp:nt.time,sentCounter:0,signal:s,offererInstance:i,answers:[],answerers:{},isUsed:!1},this.creatingOffer=!1}),i}#t(t,n="",i=2,s="includes"){return s[0]==="i"&&!t.message.includes(n)?!1:t.message.startsWith(n)?(this.verbose>=i&&console.info(`%cOfferManager => ${t.message}`,it.PEER_STORE),!0):!1}#n=t=>{this.verbose<1||this.#t(t,"Ice connection failed",2)||this.#t(t,"Connection failed",2)||this.#t(t,"Remote transport instance",3,"startsWith")||this.#t(t,"Simulated failure",4,"startsWith")||this.#t(t,"No peer found",4,"startsWith")||this.#t(t,"Missing transport instance",2,"startsWith")||this.#t(t,"Failed to create answer",2,"startsWith")||this.#t(t,"Transport instance",3,"startsWith")||this.#t(t,"cannot signal after peer is destroyed",3,"startsWith")||this.#t(t,"No pending",3)||this.#t(t,"is already linked",3)||this.#t(t,"There is already a pending",3)||this.#t(t,"closed the connection",3)||this.#t(t,"No transport instance found for id:",3)||this.verbose>0&&console.error("transportInstance ERROR => ",t.stack)};addSignalAnswer(t,n,i,s){!n||n.type!=="answer"||!i||!this.offers[i]||this.offers[i].answerers[t]||(this.offers[i].answerers[t]=!0,this.offers[i].answers.push({peerId:t,signal:n,timestamp:s}),this.verbose>3&&console.log(`(OfferManager) Added answer from ${t} for offer ${i}`))}getTransportInstanceForSignal(t,n,i){try{if(!n||!n.type||!n.sdp)throw new Error("Wrong remote SDP provided");let{type:s,sdp:o}=n;if(s!=="offer"&&s!=="answer")throw new Error("Invalid remote SDP type");if(s==="offer"&&!o)throw new Error("No SDP in the remote SDP offer");if(s==="answer"&&!o)throw new Error("No SDP in the remote SDP answer");if(s==="answer"){let E=i?this.offers[i]?.offererInstance:null;if(!E)throw new Error("No pending offer found for the given offer hash to accept the answer");return E}let a=Bt.ICE_COMPLETE_TIMEOUT||1e3,h=new Bt.PEER({initiator:!1,trickle:!1,iceCompleteTimeout:a,wrtc:Ln,config:{iceServers:this.stunUrls}});return h.on("error",E=>this.#n(E)),h.on("signal",E=>this.onSignalAnswer(t,E,i)),h.on("connect",()=>this.onConnect(t,h)),h}catch(s){if(s.message.startsWith("No pending offer found")&&this.verbose<2)return null;if(this.verbose>1&&s.message.startsWith("No pending offer found"))return console.info(`%c${s.message}`,it.PEER_STORE);this.verbose>0&&console.error(s.stack)}}destroy(){for(let t in this.offers)this.offers[t].offererInstance?.destroy()}};await _t();var{SANDBOX:qi,ICE_CANDIDATE_EMITTER:Wi,TEST_WS_EVENT_MANAGER:ji}=Ct.ENABLED?await Ne().then(()=>De):{},on=class{neighbors;connectionsCount;constructor(t={}){this.neighbors=t,this.connectionsCount=Object.keys(t).length}setNeighbor(t,n=nt.time){this.neighbors[t]||this.connectionsCount++,this.neighbors[t]=n}unsetNeighbor(t){this.neighbors[t]&&this.connectionsCount--,delete this.neighbors[t]}},Vt=class{peerId;transportInstance;isWebSocket;direction;pendingUntil;connStartTime;constructor(t,n,i,s=!1){this.peerId=t,this.transportInstance=n,this.isWebSocket=s,this.direction=i,this.pendingUntil=nt.time+gt.CONNECTION_UPGRADE_TIMEOUT}setConnected(){this.connStartTime=nt.time,this.pendingUntil=0}getConnectionDuration(){return this.connStartTime?nt.time-this.connStartTime:0}close(){this.isWebSocket?this.transportInstance?.close():this.transportInstance?.destroy()}},Te=class{id;cryptoCodex;offerManager;arbiter;verbose;isDestroy=!1;neighborsList=[];connecting={};connected={};known={};knownCount=0;kick={};callbacks={connect:[(t,n)=>this.#e(t,n)],disconnect:[(t,n)=>this.#t(t,n)],signal:[],data:[]};constructor(t,n,i,s,o=0){this.id=t,this.cryptoCodex=n,this.offerManager=i,this.arbiter=s,this.verbose=o,this.offerManager.onSignalAnswer=(a,h,E)=>{if(!(this.isDestroy||this.isKicked(a)||this.arbiter.isBanished(a)))for(let A of this.callbacks.signal)A(a,{signal:h,offerHash:E})},this.offerManager.onConnect=(a,h)=>{if(this.isDestroy)return h?.destroy();if(a===this.id)throw new Error(`Refusing to connect to self (${this.id}).`);let E=a;if(h.on("close",()=>{if(E)for(let A of this.callbacks.disconnect)A(E,h.initiator?"out":"in")}),h.on("data",A=>{if(E)for(let l of this.callbacks.data)l(E,A);else{let l=new Uint8Array(A);if(l[0]>127)return;let{route:u,type:g,neighborsList:y}=n.readUnicastMessage(l)||{};if(g!=="handshake"||u.length!==2||u[1]!==this.id)return;E=u[0],this.digestPeerNeighbors(E,y);for(let b of this.callbacks.connect)b(E,"out")}}),a)for(let A of this.callbacks.connect)A(a,"in")}}get publicNeighborsList(){return this.neighborsList.filter(t=>this.cryptoCodex.isPublicNode(t))}get standardNeighborsList(){return this.neighborsList.filter(t=>!this.cryptoCodex.isPublicNode(t))}#e(t,n){if(!this.connecting[t]?.[n])return this.verbose>=3?console.info(`%cPeer with ID ${t} is not connecting.`,it.PEER_STORE):null;let i=this.connecting[t][n];if(this.#n(t,"connecting",n),this.isKicked(t))return this.verbose>=3&&console.info(`%c(${this.id}) Connect => Peer with ID ${t} is kicked. => close()`,it.PEER_STORE),i.close();if(this.connected[t])return this.verbose>1&&console.warn(`%c(${this.id}) Connect => Peer with ID ${t} is already connected. => close()`,it.PEER_STORE),i.close();i.setConnected(),this.connected[t]=i,this.neighborsList.push(t),this.#r(this.id,t)}#t(t,n){this.#n(t,"connected",n)}#n(t,n="both",i="both"){if(!t&&t===this.id)return;let[s,o]=[this.connecting[t],this.connected[t]];if(!s&&!o||(n!=="connecting"&&(o?.direction===i||i==="both")&&(o?.close(),delete this.connected[t],this.neighborsList=Object.keys(this.connected),this.#i(this.id,t)),n==="connected"))return;let a=i==="both"?["out","in"]:[i];for(let h of a)delete s?.[h];this.connecting[t]?.in||this.connecting[t]?.out||delete this.connecting[t]}#r(t="toto",n="tutu"){for(let i of[t,n])this.known[i]||(this.known[i]=new on,this.knownCount++),this.known[i].setNeighbor(i===t?n:t)}#i(t="toto",n="tutu"){for(let i of[t,n])this.known[i]&&(this.known[i].unsetNeighbor(i===t?n:t),!(this.known[i].connectionsCount>0)&&(delete this.known[i],this.knownCount--))}cleanupExpired(t=!0){let n=nt.time;for(let i of["in","out"])for(let s in this.connecting){if(!this.connecting[s][i])continue;let o=this.connected[s]?1e4:0;this.connecting[s][i].pendingUntil+o>n||(this.verbose>=4&&!this.connected[s]&&console.info(`%c(${this.id}) Pending ${i} connection to peer ${s} expired.`,it.PEER_STORE),this.verbose>0&&this.connected[s]?.direction===i&&console.info(`%c(${this.id}) Pending ${i} connection to peer ${s} expired (already connected WARNING!).`,"color: white;"),this.connecting[s]?.out?.isWebSocket&&this.connecting[s].out.close(),this.connecting[s]?.in?.close(),this.#n(s,"connecting",i))}t&&(this.neighborsList=Object.keys(this.connected),this.digestPeerNeighbors(this.id,this.neighborsList))}on(t,n){if(!this.callbacks[t])throw new Error(`Unknown callback type: ${t}`);this.callbacks[t].push(n)}getUpdatedPeerConnectionsCount(t,n=!0){let i=nt.time,s=0,o=this.known[t]?.neighbors||{};for(let a in o){if(a!==this.id&&i-o[a]>tt.PEER_LINK_EXPIRATION){this.#i(t,a);continue}n?s++:this.cryptoCodex.isPublicNode(a)||s++}return s}addConnectingPeer(t,n,i){if(t===this.id)throw new Error(`Refusing to connect to self (${this.id}).`);let s=n.type==="offer"?"in":"out";if(this.connecting[t]?.[s])return;let o=this.offerManager.getTransportInstanceForSignal(t,n,i);return o?(this.connecting[t]||(this.connecting[t]={}),this.connecting[t][s]=new Vt(t,o,s),!0):this.verbose>3?console.info(`%cFailed to get transport instance for signal from ${t}.`,it.PEER_STORE):null}assignSignal(t,n,i,s){let o=this.connecting[t]?.[n.type==="offer"?"in":"out"];try{if(o?.isWebSocket)throw new Error(`Cannot assign signal for ID ${t}. (WebSocket)`);n.type==="answer"?this.offerManager.addSignalAnswer(t,n,i,s):o.transportInstance.signal(n)}catch(a){console.error(`Error signaling ${n?.type} for ${t}:`,a.stack)}}kickPeer(t,n=6e4,i){n&&(this.kick[t]=nt.time+n),this.#n(t,"both"),this.verbose>1&&console.log(`%c(${this.id}) Kicked peer ${t} for ${n/1e3}s. ${i?"| Reason: "+i:""}`,"color: green;")}isKicked(t){return this.kick[t]&&this.kick[t]>nt.time}digestValidRoute(t=[]){for(let n=1;n<t.length;n++)this.#r(t[n-1],t[n])}digestPeerNeighbors(t,n=[]){if(!(!t||!Array.isArray(n))){for(let i in this.known[t]?.neighbors||{})n.includes(i)||this.#i(t,i);for(let i of n)this.#r(t,i)}}destroy(){this.isDestroy=!0;for(let[t,n]of Object.entries(this.connected))this.#n(t),n.close();for(let[t,n]of Object.entries(this.connecting))this.#n(t),n.in?.close(),n.out?.close();this.offerManager.destroy()}};await _t();var ve=class{cache={};peerStore;constructor(t,n){this.id=t,this.peerStore=n}buildRoutes(t,n=5,i=3,s=1728,o=!0,a=3){if(this.id===t)throw new Error("Cannot build route to self");if(this.peerStore.connected[t])return{routes:[{path:[this.id,t]}],success:!0,nodesExplored:1};if(!this.peerStore.known[t])return this.#n(t);if(this.cache[t]&&this.#e(this.cache[t]))return{routes:this.cache[t],success:!0,nodesExplored:0};let h=this.#r(t,i,s,a);if(!h.success)return{routes:[],success:!1,nodesExplored:h.nodesExplored};let A=this.#t(h.paths,o).slice(0,n);return this.cache[t]=A,{routes:A,success:!0,nodesExplored:h.nodesExplored}}#e(t){for(let{path:n}of t)for(let i=1;i<n.length;i++){let s=n[i-1],o=n[i];if(s===this.id){if(!this.peerStore.connected[o])return!1}else if(!this.peerStore.known[s]?.neighbors?.[o])return!1}return!0}#t(t,n){let i=[];for(let s of t)i.push({path:s,hops:s.length-1});return n&&i.sort((s,o)=>s.hops-o.hops),i}#n(t){let n=[],i=this.peerStore.neighborsList,s=[...Array(i.length).keys()].sort(()=>Math.random()-.5);for(let o of s)n.push({path:[this.id,i[o],t],hops:0,score:0});return n.length===0?{routes:[],success:!1,nodesExplored:0}:{routes:n,success:"blind",nodesExplored:n.length}}#r(t,n,i,s){let o=[],a=0,h=[{node:this.id,path:[this.id],pathSet:new Set([this.id]),depth:0}],E=new Map;E.set(this.id,[this.id]);let A=[{node:t,path:[t],pathSet:new Set([t]),depth:0}],l=new Map;l.set(t,[t]);let u=Math.ceil(n/2);for(;(h.length>0||A.length>0)&&a<i;){if(h.length>0){let g=this.#i(h,E,l,u);for(let y of g){let b=this.#s(E.get(y),l.get(y));if(o.push(b),!(b.length-1>s))return{success:!0,paths:o,nodesExplored:a}}a++}if(A.length>0){let g=this.#i(A,l,E,u);for(let y of g){let b=this.#s(E.get(y),l.get(y));if(o.push(b),!(b.length-1>s))return{success:!0,paths:o,nodesExplored:a}}a++}}return{success:o.length>0,paths:o,nodesExplored:a}}#i(t,n,i,s){if(t.length===0)return[];let{node:o,path:a,pathSet:h,depth:E}=t.shift();if(E>=s)return[];let A=[];function l(u){if(h.has(u))return;let g=E+1;if(i.has(u)&&A.push(u),n.has(u))return;let y=[...a,u],b=new Set(h).add(u);n.set(u,y),t.push({node:u,path:y,pathSet:b,depth:g})}if(o===this.id)for(let u of this.peerStore.neighborsList)l(u);else for(let u in this.peerStore.known[o]?.neighbors||{})l(u);return A}#s(t,n){let i=t.length+n.length-1,s=new Array(i),o=0;for(let a of t)s[o++]=a;for(let a=n.length-2;a>=0;a--)s[o++]=n[a];return s}};var{SANDBOX:ts,ICE_CANDIDATE_EMITTER:es,TEST_WS_EVENT_MANAGER:ns}=Ct.ENABLED?await Ne().then(()=>De):{},Yr=ve,ge=class{type="message";timestamp;neighborsList;route;pubkey;data;signature;signatureStart;expectedEnd;constructor(t,n,i,s,o,a,h,E,A){this.type=t,this.timestamp=n,this.neighborsList=i,this.route=s,this.pubkey=o,this.data=a,this.signature=h,this.signatureStart=E,this.expectedEnd=A}getSenderId(){return this.route[0]}getTargetId(){return this.route[this.route.length-1]}extractRouteInfo(t="toto"){let n=this.newRoute||this.route,i=[],s=-1;for(let A=0;A<n.length;A++)if(i.push(n[A]),n[A]===t){s=A;break}let o=n[0],a=n[n.length-1],h=s>0?n[s-1]:null,E=s!==-1?n[s+1]:null;return{traveledRoute:i,selfPosition:s,senderId:o,targetId:a,prevId:h,nextId:E,routeLength:n.length}}},xe=class extends ge{rerouterPubkey;newRoute;rerouterSignature;constructor(t,n,i,s,o,a,h,E,A){super(t,n,i,s,o,a),this.rerouterPubkey=h,this.newRoute=E,this.rerouterSignature=A}getRerouterId(){return this.newRoute[0]}},Fe=class{callbacks={message_handle:[]};id;cryptoCodex;arbiter;peerStore;verbose;pathFinder;maxHops=at.MAX_HOPS;maxRoutes=at.MAX_ROUTES;maxNodes=at.MAX_NODES;constructor(t,n,i,s,o=0){this.id=t,this.cryptoCodex=n,this.arbiter=i,this.peerStore=s,this.verbose=o,this.pathFinder=new Yr(this.id,this.peerStore)}on(t,n){this.callbacks[t]?this.callbacks[t].push(n):this.callbacks[t]=[n]}sendUnicast(t,n,i="message",s=1){if(t===this.id)return!1;let o=this.pathFinder.buildRoutes(t,this.maxRoutes,this.maxHops,this.maxNodes,!0);if(!o.success)return!1;let a=o.success==="blind"?1:s;for(let h=0;h<Math.min(a,o.routes.length);h++){let E=o.routes[h].path;if(E.length>at.MAX_HOPS){this.verbose>1&&console.warn(`Cannot send unicast message to ${t} as route exceeds maxHops (${at.MAX_HOPS}). BFS incurred.`);continue}let A=this.cryptoCodex.createUnicastMessage(i,n,E,this.peerStore.neighborsList);this.#e(E[1],A)}return!0}#e(t,n){if(this.id===t)return{success:!1,reason:"Cannot send message to self."};let i=this.peerStore.connected[t]?.transportInstance;if(!i)return{success:!1,reason:`Transport instance is not available for peer ${t}.`};try{return i.send(n),{success:!0}}catch(s){this.peerStore.kickPeer(t,0,"send-error"),this.verbose>0&&console.error(`Error sending message to ${t}:`,s.message)}return{success:!1,reason:`Error sending message to ${t}.`}}async handleDirectMessage(t,n){if(this.arbiter.isBanished(t))return this.verbose>=3?console.info(`%cReceived direct message from banned peer ${t}, ignoring.`,"color: red;"):null;if(!this.arbiter.countMessageBytes(t,n.byteLength,"unicast"))return;let i=this.cryptoCodex.readUnicastMessage(n);if(!i)return this.arbiter.countPeerAction(t,"WRONG_SERIALIZATION");if(await this.arbiter.digestMessage(t,i,n),this.arbiter.isBanished(t)||this.arbiter.isBanished(i.senderId))return;let{traveledRoute:s,selfPosition:o,senderId:a,targetId:h,prevId:E,nextId:A}=i.extractRouteInfo(this.id);if(t===a&&t===this.id)throw new Error("DirectMessage senderId and from are both self id !!");for(let g of this.callbacks.message_handle||[])g();if(o===-1)return this.arbiter.adjustTrust(t,ut.UNICAST_INVALID_ROUTE,"Self not in route");if(E&&t!==E)return this.arbiter.adjustTrust(t,ut.UNICAST_INVALID_ROUTE,"Previous hop id does not match actual from id");if(a===this.id)return this.arbiter.adjustTrust(t,ut.UNICAST_INVALID_ROUTE,"SenderId is self id");if(this.verbose>3&&console.log(a===t?`(${this.id}) Direct ${i.type} from ${a}: ${i.data}`:`(${this.id}) Direct ${i.type} from ${a} (lastRelay: ${t}): ${i.data}`),this.peerStore.digestPeerNeighbors(a,i.neighborsList),t!==a&&this.arbiter.adjustTrust(t,ut.UNICAST_RELAYED,"Relayed unicast message"),tt.ON_UNICAST.DIGEST_TRAVELED_ROUTE&&this.peerStore.digestValidRoute(s),this.id===h){for(let g of this.callbacks[i.type]||[])g(a,i.data);return}let{success:l,reason:u}=this.#e(A,n);if(!l&&!i.rerouterSignature){let g=this.pathFinder.buildRoutes(h,this.maxRoutes,this.maxHops,this.maxNodes,!0);if(!g.success)return;let y=g.routes[0].path;if(y.length>at.MAX_HOPS){this.verbose>1&&console.warn(`Cannot re-route unicast message to ${h} as new route exceeds maxHops (${at.MAX_HOPS}).`);return}let b=this.cryptoCodex.createReroutedUnicastMessage(n,y),m=y[o+1];this.#e(m,b)}}};await _t();var ke=class{topic="gossip";timestamp;neighborsList;HOPS;senderId;pubkey;data;signature;signatureStart;expectedEnd;constructor(t,n,i,s,o,a,h,E,A,l){this.topic=t,this.timestamp=n,this.neighborsList=i,this.HOPS=s,this.senderId=o,this.pubkey=a,this.data=h,this.signature=E,this.signatureStart=A,this.expectedEnd=l}},an=class{cryptoCodex;xxHash32UsageCount=0;seenTimeouts={};cache=[];cleanupFrequency=100;cleanupIn=100;cleanupDurationWarning=10;constructor(t){this.cryptoCodex=t}getGossipHistoryByTime(t="asc"){let n=this.cache.map(i=>({senderId:i.senderId,topic:i.topic,data:i.serializedMessage}));return t==="asc"?n:n.reverse()}addMessage(t){let n=nt.time,{marker:i,neighLength:s,timestamp:o,dataLength:a,pubkey:h,associatedId:E}=this.cryptoCodex.readBufferHeader(t);if(n-o>ft.EXPIRATION)return;let A=t.subarray(0,47+s+a),l=be(A);if(this.xxHash32UsageCount++,this.seenTimeouts[l])return;let u=ft.MARKERS_BYTES[i],g=E,y=n+ft.CACHE_DURATION;return this.cache.push({hash:l,senderId:g,topic:u,serializedMessage:t,timestamp:o,expiration:y}),this.seenTimeouts[l]=y,--this.cleanupIn<=0&&this.#e(n),{hash:l,isNew:!this.seenTimeouts[l]}}#e(t=nt.time){let n=-1;for(let i=0;i<this.cache.length;i++)this.cache[i].expiration<=t?delete this.seenTimeouts[this.cache[i].hash]:n===-1&&(n=i);n>0?this.cache=this.cache.slice(n):n===-1&&(this.cache=[]),this.cleanupIn=this.cleanupFrequency}},Ue=class{callbacks={message_handle:[]};id;cryptoCodex;arbiter;peerStore;verbose;bloomFilter;constructor(t,n,i,s,o=0){this.id=t,this.cryptoCodex=n,this.arbiter=i,this.peerStore=s,this.verbose=o,this.bloomFilter=new an(n)}on(t,n){this.callbacks[t]?this.callbacks[t].push(n):this.callbacks[t]=[n]}broadcastToAll(t,n="gossip",i){let s=i||ft.HOPS[n]||ft.HOPS.default,o=this.cryptoCodex.createGossipMessage(n,t,s,this.peerStore.neighborsList);if(this.bloomFilter.addMessage(o)){this.verbose>3&&console.log(`(${this.id}) Gossip ${n}, to ${JSON.stringify(this.peerStore.neighborsList)}: ${t}`);for(let a of this.peerStore.neighborsList)this.#e(a,o)}}#e(t,n){if(t===this.id)throw new Error(`Refusing to send a gossip message to self (${this.id}).`);let i=this.peerStore.connected[t]?.transportInstance;if(!i)return{success:!1,reason:`Transport instance is not available for peer ${t}.`};try{i.send(n)}catch{this.peerStore.connected[t]?.close()}}sendGossipHistoryToPeer(t){let n=this.bloomFilter.getGossipHistoryByTime("asc");for(let i of n)this.#e(t,i.data)}async handleGossipMessage(t,n){if(this.arbiter.isBanished(t))return this.verbose>=3?console.info(`%cReceived gossip message from banned peer ${t}, ignoring.`,"color: red;"):null;if(!this.arbiter.countMessageBytes(t,n.byteLength,"gossip"))return;for(let D of this.callbacks.message_handle||[])D(n);if(!this.bloomFilter.addMessage(n))return;let i=this.cryptoCodex.readGossipMessage(n);if(!i)return this.arbiter.countPeerAction(t,"WRONG_SERIALIZATION");if(await this.arbiter.digestMessage(t,i,n),this.arbiter.isBanished(t)||this.arbiter.isBanished(i.senderId))return;let{topic:s,timestamp:o,neighborsList:a,HOPS:h,senderId:E,data:A}=i;if(E===this.id)throw new Error(`#${this.id}#${t}# Received our own message back from peer ${t}.`);this.verbose>3&&console.log(E===t?`(${this.id}) Gossip ${s} from ${E}: ${A}`:`(${this.id}) Gossip ${s} from ${E} (by: ${t}): ${A}`),this.peerStore.digestPeerNeighbors(E,a);for(let D of this.callbacks[s]||[])D(E,A,h,i);if(h<1)return;let l=this.peerStore.neighborsList.length,u=Math.max(1,l/ft.TRANSMISSION_RATE.NEIGHBOURS_PONDERATION),g=ft.TRANSMISSION_RATE[s]||ft.TRANSMISSION_RATE.default,y=Math.pow(g,u),b=l<ft.TRANSMISSION_RATE.MIN_NEIGHBOURS_TO_APPLY_PONDERATION,m=this.cryptoCodex.decrementGossipHops(n);for(let D of this.peerStore.neighborsList)if(D!==t){if(!b&&Math.random()>y)continue;this.#e(D,m)}}};await _t();await _t();var kt=class I{IS_BROWSER=typeof window<"u";FROMBASE64_AVAILABLE=typeof Uint8Array.fromBase64=="function";textEncoder=new TextEncoder;textDecoder=new TextDecoder;buffer2=new ArrayBuffer(2);view2=new DataView(this.buffer2);buffer4=new ArrayBuffer(4);view4=new DataView(this.buffer4);buffer8=new ArrayBuffer(8);view8=new DataView(this.buffer8);hexMap={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};numberTo2Bytes(t){return this.view2.setUint16(0,t,!0),new Uint8Array(this.buffer2)}numberTo4Bytes(t){return this.view4.setUint32(0,t,!0),new Uint8Array(this.buffer4)}numberTo8Bytes(t){return this.view8.setBigUint64(0,BigInt(t),!0),new Uint8Array(this.buffer8)}stringToBytes(t="toto"){return this.textEncoder.encode(t)}hexToBytes(t){let n=t.length/2,i=new Uint8Array(n);for(let s=0,o=0;s<n;++s,o+=2)i[s]=(this.hexMap[t[o]]<<4)+this.hexMap[t[o+1]];return i}base64toBytes(t){if(!this.IS_BROWSER)return new Uint8Array(Buffer.from(t,"base64"));if(this.FROMBASE64_AVAILABLE)return Uint8Array.fromBase64(t);let n=atob(t),i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}bytes2ToNumber(t){for(let n=0;n<2;n++)this.view2.setUint8(n,t[n]);return this.view2.getUint16(0,!0)}bytes4ToNumber(t){for(let n=0;n<4;n++)this.view4.setUint8(n,t[n]);return this.view4.getUint32(0,!0)}bytes8ToNumber(t){for(let n=0;n<8;n++)this.view8.setUint8(n,t[n]);return Number(this.view8.getBigUint64(0,!0))}bytesToString(t){return this.textDecoder.decode(t)}static bytesToHex(t,n=0){let i="";for(let s of t)i+=s<16?`0${s.toString(16)}`:s.toString(16);return n>0&&(i=i.padStart(n,"0")),i}bytesToHex(t,n=0){return I.bytesToHex(t,n)}static hexToBits(t="ffffff",n="string"){let i=[];if(n==="arrayOfNumbers")for(let s=0;s<t.length;s++)i.push(...parseInt(t[s],16).toString(2).padStart(4,"0").split("").map(o=>parseInt(o,10)));else for(let s=0;s<t.length;s++)i.push(parseInt(t[s],16).toString(2).padStart(4,"0"));return n==="string"?i.join(""):i}static bytesToBits(t,n="string"){return this.hexToBits(this.bytesToHex(t),n)}static ipToInt(t="192.168.0.1"){return t.split(".").reduce((n,i)=>(n<<8)+parseInt(i,10),0)}};var Ie=typeof window<"u",[wi,{sha512:mi}]=await Promise.all([Ie?import("https://unpkg.com/@noble/ed25519@3.0.0/index.js"):Promise.resolve().then(()=>(gr(),hr)),Ie?import("https://unpkg.com/@noble/hashes@2.0.0/sha2.js"):Promise.resolve().then(()=>(_r(),Sr))]),Ee=wi;Ee.hashes.sha512=mi;var $e=class{converter=new kt;argon2;hash=async(t,n,i=2**16,s=1,o=1,a=2,h=32)=>{let E=this.#e(t,n,s,i,o,a,h),A=await this.getArgon2Lib(),l=Ie?await A.hash(E):await A.hash(t,E);if(!l)return!1;let u=l.encoded||l,g=this.#t(u);return g||!1};async getArgon2Lib(){if(this.argon2)return this.argon2;if(!Ie)try{let n=await import("argon2");this.argon2=n}catch{throw new Error("Please install argon2 package: npm install argon2")}if(this.argon2)return this.argon2;try{if(argon2)return console.log("Argon2 loaded as a global variable"),this.argon2=argon2,this.argon2}catch{}if(this.argon2)return this.argon2;console.log("trying import argon2 ES6 and inject in window");let t=await Promise.resolve().then(()=>(Dr(),Rr));return window.argon2=t.default,this.argon2=t.default,this.argon2}#e(t="averylongpassword123456",n="saltsaltsaltsaltsalt",i=1,s=2**10,o=1,a=2,h=32){let E=n.padEnd(20,"0").substring(0,16);return{type:a,pass:t,parallelism:o,time:i,timeCost:i,mem:s,memoryCost:s,hashLen:h,hashLength:h,salt:Ie?E:Buffer.from(E)}}#t(t="$argon2id$v=19$m=1048576,t=1,p=1$c2FsdHNhbHRzYWx0c2FsdHNhbHQ$UamPN/XTTX4quPewQNw4/s3y1JJeS22cRroh5l7OTMM"){let n=t.split("$").pop(),i=this.converter.base64toBytes(n),s=this.converter.bytesToHex(i),o=kt.hexToBits(s,"string");return o?{encoded:t,hash:i,hex:s,bitsString:o}:!1}};var Ot=class I{argon2=new $e;converter=new kt;AVOID_CRYPTO=!1;verbose=gt.DEFAULT_VERBOSE;id;publicKey;privateKey;constructor(t,n=gt.DEFAULT_VERBOSE){if(this.verbose=n,!t)return;this.AVOID_CRYPTO=!0,this.id=t.padEnd(X.ID_LENGTH," ").slice(0,X.ID_LENGTH),this.privateKey=new Uint8Array(32).fill(0),this.publicKey=new Uint8Array(32).fill(0);let i=new TextEncoder().encode(this.id);for(let s=0;s<X.ID_LENGTH;s++)this.publicKey[s]=i[s]}static async createCryptoCodex(t,n){let i=new I(void 0,this.verbose);return await i.generate(t,n),i}static isPublicNode(t){return(X.ARE_IDS_HEX?kt.hexToBits(t[0]):t).startsWith(X.PUBLIC_PREFIX)}get idLength(){return X.ARE_IDS_HEX?X.ID_LENGTH/2:X.ID_LENGTH}isPublicNode(t){return I.isPublicNode(t)}async generate(t,n){if(!this.nodeId&&(await this.#t(n,t),!this.id))throw new Error("Failed to generate identity")}async pubkeyDifficultyCheck(t){if(this.AVOID_CRYPTO||!X.DIFFICULTY)return!0;let{bitsString:n}=await this.argon2.hash(t,"HiveP2P",X.ARGON2_MEM)||{};if(n&&n.startsWith("0".repeat(X.DIFFICULTY)))return!0}#e(t){return X.ARE_IDS_HEX?this.converter.bytesToHex(t.slice(0,this.idLength),X.ID_LENGTH):this.converter.bytesToString(t.slice(0,X.ID_LENGTH))}async#t(t,n){let i=2**X.DIFFICULTY*100;for(let s=0;s<i;s++){let{secretKey:o,publicKey:a}=Ee.keygen(t),h=this.#e(a);if(!(n&&!this.isPublicNode(h))&&!(!n&&this.isPublicNode(h))&&await this.pubkeyDifficultyCheck(a)){this.id=h,this.privateKey=o,this.publicKey=a,this.verbose>2&&console.log(`%cNode generated id: ${this.id} (isPublic: ${n}, difficulty: ${X.DIFFICULTY}) after ${((s+1)/2).toFixed(1)} iterations`,it.CRYPTO_CODEX);return}}this.verbose>0&&console.log(`%cFAILED to generate id after ${i} iterations. Try lowering the difficulty.`,it.CRYPTO_CODEX)}signBufferViewAndAppendSignature(t,n,i=t.length-X.SIGNATURE_LENGTH){if(this.AVOID_CRYPTO)return;let s=t.subarray(0,i);t.set(Ee.sign(s,n),i)}createGossipMessage(t,n,i=3,s=[],o=nt.time){let a=ft.MARKERS_BYTES[t];if(a===void 0)throw new Error(`Failed to create gossip message: unknown topic '${t}'.`);let h=this.#n(s),{dataCode:E,dataBytes:A}=this.#r(n),l=47+h.length+A.length+X.SIGNATURE_LENGTH+1,u=new ArrayBuffer(l),g=new Uint8Array(u);return this.#i(g,a,E,s.length,o,A,this.publicKey),g.set(h,47),g.set(A,47+h.length),g.set([Math.min(255,i)],l-1),this.signBufferViewAndAppendSignature(g,this.privateKey,l-X.SIGNATURE_LENGTH-1),g}decrementGossipHops(t){let n=new Uint8Array(t),i=t[t.length-1];return n[t.length-1]=Math.max(0,i-1),n}createUnicastMessage(t,n,i,s=[],o=nt.time){let a=at.MARKERS_BYTES[t];if(a===void 0)throw new Error(`Failed to create unicast message: unknown type '${t}'.`);if(i.length<2)throw new Error("Failed to create unicast message: route must have at least 2 nodes (next hop and target).");if(i.length>at.MAX_HOPS)throw new Error(`Failed to create unicast message: route exceeds max hops (${at.MAX_HOPS}).`);let h=this.#n(s),{dataCode:E,dataBytes:A}=this.#r(n),l=this.#n(i),u=47+h.length+1+l.length+A.length+X.SIGNATURE_LENGTH,g=new ArrayBuffer(u),y=new Uint8Array(g);this.#i(y,a,E,s.length,o,A,this.publicKey);let b=h.length+A.length;return y.set(h,47),y.set(A,47+h.length),y.set([i.length],47+b),y.set(l,48+b),this.signBufferViewAndAppendSignature(y,this.privateKey,u-X.SIGNATURE_LENGTH),y}createReroutedUnicastMessage(t,n){if(n.length<2)throw new Error("Failed to create rerouted unicast message: route must have at least 2 nodes (next hop and target).");if(n.length>at.MAX_HOPS)throw new Error(`Failed to create rerouted unicast message: route exceeds max hops (${at.MAX_HOPS}).`);let i=n.map(h=>this.converter.stringToBytes(h)),s=t.length+32+X.ID_LENGTH*i.length+X.SIGNATURE_LENGTH,o=new ArrayBuffer(s),a=new Uint8Array(o);a.set(t,0),a.set(this.publicKey,t.length);for(let h=0;h<i.length;h++)a.set(i[h],t.length+32+h*X.ID_LENGTH);return this.signBufferViewAndAppendSignature(a,this.privateKey,s-X.SIGNATURE_LENGTH),a}#n(t){return X.ARE_IDS_HEX?this.converter.hexToBytes(t.join(""),X.ID_LENGTH*t.length):this.converter.stringToBytes(t.join(""))}#r(t){return typeof t=="string"?{dataCode:1,dataBytes:this.converter.stringToBytes(t)}:t instanceof Uint8Array?{dataCode:2,dataBytes:t}:{dataCode:3,dataBytes:this.converter.stringToBytes(JSON.stringify(t))}}#i(t,n,i,s,o,a,h){let E=this.converter.numberTo8Bytes(o),A=this.converter.numberTo4Bytes(a.length);t.set([n],0),t.set([i],1),t.set([s],2),t.set(E,3),t.set(A,11),t.set(h,15)}verifySignature(t,n,i){return this.AVOID_CRYPTO?!0:Ee.verify(n,i,t)}readBufferHeader(t,n=!0){let i=t[0],s=t[1],o=t[2],a=t.slice(3,11),h=t.slice(11,15),E=t.slice(15,47),A=n?this.#e(E):null,l=o*this.idLength,u=this.converter.bytes8ToNumber(a),g=this.converter.bytes4ToNumber(h);return{marker:i,dataCode:s,neighLength:l,timestamp:u,dataLength:g,pubkey:E,associatedId:A}}readGossipMessage(t){this.verbose>3&&console.log(`%creadGossipMessage ${t.byteLength} bytes`,it.CRYPTO_CODEX),this.verbose>3&&console.log(`%c${t}`,it.CRYPTO_CODEX);try{let{marker:n,dataCode:i,neighLength:s,timestamp:o,dataLength:a,pubkey:h,associatedId:E}=this.readBufferHeader(t),A=ft.MARKERS_BYTES[n];if(A===void 0)throw new Error(`Failed to deserialize gossip message: unknown marker byte ${d[0]}.`);let l=s+a,u=this.#s(t.slice(47,47+s)),g=this.#A(i,t.slice(47+s,47+l)),y=47+l,b=t.slice(y,y+X.SIGNATURE_LENGTH),m=t[t.length-1],D=y+X.SIGNATURE_LENGTH+1,f=E;return new ke(A,o,u,m,f,h,g,b,y,D)}catch(n){this.verbose>1&&console.warn(`Error deserializing ${topic||"unknown"} gossip message:`,n.stack)}return null}readUnicastMessage(t){this.verbose>3&&console.log(`%creadUnicastMessage ${t.byteLength} bytes`,it.CRYPTO_CODEX),this.verbose>3&&console.log(`%c${t}`,it.CRYPTO_CODEX);try{let{marker:n,dataCode:i,neighLength:s,timestamp:o,dataLength:a,pubkey:h}=this.readBufferHeader(t,!1),E=at.MARKERS_BYTES[n];if(E===void 0)throw new Error(`Failed to deserialize unicast message: unknown marker byte ${d[0]}.`);let A=s+a,l=this.#s(t.slice(47,47+s)),u=this.#A(i,t.slice(47+s,47+A)),y=t[47+A]*this.idLength,b=47+A+1+y,m=t.slice(47+A+1,b),D=this.#s(m),f=b+X.SIGNATURE_LENGTH,B=t.slice(b,f);if(!(t.length>f))return new ge(E,o,l,D,h,u,B,b,f);let S=t.slice(f,f+32),Q=this.#s(t.slice(f+32,t.length-X.SIGNATURE_LENGTH)),R=t.slice(t.length-X.SIGNATURE_LENGTH);return new xe(E,o,l,D,h,u,B,S,Q,R,t.length)}catch(n){this.verbose>1&&console.warn(`Error deserializing ${type||"unknown"} unicast message:`,n.stack)}return null}#s(t){let n=[],i=this.idLength;if(t.length%i!==0)throw new Error("Failed to parse ids: invalid serialized length.");for(let s=0;s<t.length/i;s++){let o=t.slice(s*i,(s+1)*i);X.ARE_IDS_HEX?n.push(this.converter.bytesToHex(o,X.ID_LENGTH)):n.push(this.converter.bytesToString(o))}return n}#A(t,n){if(t===1)return this.converter.bytesToString(n);if(t===2)return n;if(t===3)return JSON.parse(this.converter.bytesToString(n));throw new Error(`Failed to parse data: unknown data code '${t}'.`)}};var{SANDBOX:_s,ICE_CANDIDATE_EMITTER:Rs,TEST_WS_EVENT_MANAGER:Ds}=Ct.ENABLED?await Ne().then(()=>De):{},Dn=class{maxOffers=30;offers=[];orderingBy="neighborsCount";get size(){return this.offers.length}updateOrderingBy(t=!1){this.orderingBy=t?"overlap":"neighborsCount"}removeOlderThan(t=1e3){this.offers=this.offers.filter(n=>n.timestamp+t>=nt.time)}get bestOfferInfo(){let{senderId:t,overlap:n,neighborsCount:i,data:s,timestamp:o}=this.offers.shift()||{};return{senderId:t,data:s,timestamp:o,value:this.orderingBy==="overlap"?n:i}}pushSortTrim(t,n={min:.2,max:.8}){let{min:i,max:s}=n;Math.random()<Math.min(i,this.offers.size/this.maxOffers*s)||(this.offers.push(t),this.offers.length!==1&&(this.offers.sort((o,a)=>this.orderingBy==="overlap"?o.overlap-a.overlap:a.neighborsCount-o.neighborsCount),this.size>this.maxOffers&&this.offers.pop()))}},Ze=class{id;gossip;messager;peerStore;bootstraps;halfTarget=Math.ceil(tt.TARGET_NEIGHBORS_COUNT/2);twiceTarget=tt.TARGET_NEIGHBORS_COUNT*2;bootstrapsIds=new Set;get isPublicNode(){return!!this.services?.publicUrl}services;phase=0;nextBootstrapIndex=0;offersQueue=new Dn;maxBonus=gt.CONNECTION_UPGRADE_TIMEOUT*.2;constructor(t,n,i,s,o){this.id=t,this.gossip=n,this.messager=i,this.peerStore=s;for(let a of o)this.bootstrapsIds.add(a.id);this.bootstraps=[...o].sort(()=>Math.random()-.5),this.nextBootstrapIndex=Math.random()*this.bootstrapsIds.size|0}tick(){let{neighborsCount:t,nonPublicNeighborsCount:n,isEnough:i,isTooMany:s,isHalfReached:o}=this.#e,a=n>=tt.TARGET_NEIGHBORS_COUNT/3?1:Bt.MAX_SDP_OFFERS;if(this.peerStore.offerManager.offersToCreate=i?0:a,this.isPublicNode){this.services.freePublicNodeByKickingPeers();return}if(s)return Math.random()>.05?this.#A():null;i?Math.random()>.05&&this.#s():this.#s(),this.phase=this.phase?0:1,this.phase===0&&this.tryConnectNextBootstrap(t,n),this.phase===1&&this.#i(n,o)}handleIncomingSignal(t,n,i){if(this.isPublicNode||!t||this.peerStore.isKicked(t)||n.signal?.type!=="offer"&&n.signal?.type!=="answer")return;let{signal:s,offerHash:o}=n||{},{connected:a,nonPublicNeighborsCount:h,isTooMany:E,isHalfReached:A}=this.#e;if(E||a[t])return;if(s.type==="answer"){if(this.peerStore.addConnectingPeer(t,s,o)!==!0)return;let y=Math.abs(h-this.#t(t).nonPublicCount),b=this.maxBonus/tt.TARGET_NEIGHBORS_COUNT,m=Math.round(Math.min(this.maxBonus,y*b));return this.peerStore.assignSignal(t,s,o,nt.time+m)}if(h>this.twiceTarget)return;let{overlap:l,nonPublicCount:u}=this.#t(t);if(u>this.twiceTarget)return;let g={senderId:t,data:n,overlap:l,neighborsCount:u,timestamp:nt.time};this.offersQueue.updateOrderingBy(A),this.offersQueue.pushSortTrim(g)}tryConnectNextBootstrap(t=0,n=0){if(this.bootstrapsIds.size===0)return;let i=t-n,[s,o]=[0,0];for(let E in this.peerStore.connecting)this.bootstrapsIds.has(E)?o++:s++;if(i+o>=this.halfTarget||t>=tt.TARGET_NEIGHBORS_COUNT||s+n>this.twiceTarget)return;let{id:a,publicUrl:h}=this.bootstraps[this.nextBootstrapIndex++%this.bootstrapsIds.size];a&&h&&(this.peerStore.connected[a]||this.peerStore.connecting[a])||this.#r(a,h)}get#e(){return{connected:this.peerStore.connected,neighborsCount:this.peerStore.neighborsList.length,nonPublicNeighborsCount:this.peerStore.standardNeighborsList.length,isEnough:this.peerStore.standardNeighborsList.length>=tt.TARGET_NEIGHBORS_COUNT,isTooMany:this.peerStore.standardNeighborsList.length>tt.TARGET_NEIGHBORS_COUNT,isHalfReached:this.peerStore.standardNeighborsList.length>=this.halfTarget}}#t(t="toto"){let n=this.peerStore.known[t]?.neighbors||{},i={overlap:0,nonPublicCount:0,p1nCount:this.peerStore.getUpdatedPeerConnectionsCount(t)};for(let s in n)Ot.isPublicNode(s)||i.nonPublicCount++;for(let s of this.peerStore.standardNeighborsList)n[s]&&i.overlap++;return i}#n(t=[]){return t.map(n=>({id:n,...this.#t(n)}))}#r(t="toto",n="localhost:8080"){if(!Ot.isPublicNode(t))return this.verbose<1?null:console.warn(`Topologist: trying to connect to a non-public node (${t})`);let i=new Bt.WS_CLIENT(n);i.binaryType="arraybuffer",this.peerStore.connecting[t]||(this.peerStore.connecting[t]={}),this.peerStore.connecting[t].out=new Vt(t,i,"out",!0),i.onerror=s=>console.error("WebSocket error:",s.stack),i.onopen=()=>{i.onclose=()=>{for(let s of this.peerStore.callbacks.disconnect)s(t,"out")},i.onmessage=s=>{for(let o of this.peerStore.callbacks.data)o(t,s.data)};for(let s of this.peerStore.callbacks.connect)s(t,"out")}}#i(t=0,n=!1){let s=Object.keys(this.peerStore.connecting).length+t,[o,a,h]=[null,null,null];for(let m in this.peerStore.offerManager.offers){let D=this.peerStore.offerManager.offers[m],{isUsed:f,sentCounter:B,signal:C,timestamp:S}=D;if(f||B>0)continue;let Q=nt.time-S;if(!(Q>Bt.SDP_OFFER_EXPIRATION/2)&&!(h&&Q>h)){a=D,o=m,h=Q;break}}if(!o||!a)return;if(!n&&s<=this.twiceTarget){this.gossip.broadcastToAll({signal:a.signal,offerHash:o},"signal_offer"),a.sentCounter++;return}let E=null;for(let m of this.#n(this.peerStore.standardNeighborsList)){let D=m[n?"overlap":"nonPublicCount"];E===null&&(E=D),n&&D<E&&(E=D),!n&&D<=E&&(E=D)}let A=100,l=1e3,u=this.peerStore.knownCount,g=Math.max(Math.min(l/u,u/l),.127),y=[];for(let m in this.peerStore.known){if(Math.random()>g)continue;if(--l<=0)break;if(m===this.id||Ot.isPublicNode(m)||this.peerStore.isKicked(m))continue;if(this.peerStore.connected[m]||this.peerStore.connecting[m])continue;let{overlap:D,nonPublicCount:f}=this.#t(m);if(!(f>tt.TARGET_NEIGHBORS_COUNT)&&(E===null&&(E=n?D:f),!(n&&D>E)&&!(!n&&f<E)&&(y.push(m),--A<=0)))break}if(!y.length)return;let b=new Map;for(let m=0;m<Math.min(y.length,100);m++){let D=y[Math.floor(Math.random()*y.length)];if(!b.has(D)&&(b.size===0&&a.sentCounter++,b.set(D,!0),this.messager.sendUnicast(D,{signal:a.signal,offerHash:o},"signal_offer",1),b.size>=12))break}}#s(){let t=null,n=Object.keys(this.peerStore.connecting).length;this.offersQueue.updateOrderingBy(this.#e.isHalfReached),this.offersQueue.removeOlderThan(Bt.SDP_OFFER_EXPIRATION/2);for(let i=0;i<this.offersQueue.size;i++){let{senderId:s,data:o,timestamp:a,value:h}=this.offersQueue.bestOfferInfo;if(!s||!o||!a)break;if(!(this.peerStore.connected[s]||this.peerStore.isKicked(s))&&!this.peerStore.connecting[s]?.in){if(t=t===null?h:t,t!==h)break;this.peerStore.addConnectingPeer(s,o.signal,o.offerHash)===!0&&(this.peerStore.assignSignal(s,o.signal,o.offerHash,a),n++)}}}#A(){let n=this.#n(this.peerStore.standardNeighborsList).sort((i,s)=>s.overlap-i.overlap||s.nonPublicCount-i.nonPublicCount);this.peerStore.kickPeer(n[0].id,6e4,"improveTopology")}};await _t();var Si=gt.IS_BROWSER?null:await import("dgram"),ze=class{id;verbose;maxKick;peerStore;cryptoCodex;publicUrl;constructor(t,n,i=3,s=1){this.id=t.id,this.verbose=s,this.maxKick=i,this.peerStore=n,this.cryptoCodex=t}start(t="localhost",n=Ft.PORT){this.publicUrl=`ws://${t}:${n}`,this.#e(t,n),Ct.USE_TEST_TRANSPORTS||this.#t(t,n+1)}freePublicNodeByKickingPeers(){let t=Math.min(this.maxKick,this.peerStore.neighborsList.length-tt.TARGET_NEIGHBORS_COUNT);if(t<=0)return;let n=0,i=Ft.AUTO_KICK_DELAY;for(let s in this.peerStore.connected){let o=this.peerStore.connected[s],a=this.peerStore.getUpdatedPeerConnectionsCount(s,!1);if(a>tt.TARGET_NEIGHBORS_COUNT){if(this.peerStore.kickPeer(s,Ft.AUTO_KICK_DURATION,"freePublicNode"),this.peerStore.neighborsList.length<=tt.TARGET_NEIGHBORS_COUNT)break;continue}if(!(o.getConnectionDuration()<(a>2?i:i*2))&&(this.peerStore.kickPeer(s,Ft.AUTO_KICK_DURATION,"freePublicNode"),++n>=t))break}}#e(t="localhost",n=Ft.PORT){this.wsServer=new Bt.WS_SERVER({port:n,host:t}),this.wsServer.on("error",i=>console.error(`WebSocket error on Node #${this.id}:`,i)),this.wsServer.on("connection",i=>{i.on("close",()=>{if(s)for(let o of this.peerStore.callbacks.disconnect)o(s,"in")}),i.on("error",o=>console.error(`WebSocket error on Node #${this.id} with peer ${s}:`,o.stack));let s;i.on("message",o=>{if(s)for(let a of this.peerStore.callbacks.data)a(s,o);else{let a=new Uint8Array(o);if(a[0]>127)return;let{route:h,type:E,neighborsList:A}=this.cryptoCodex.readUnicastMessage(a)||{};if(E!=="handshake"||h.length!==2||h[1]!==this.id)return;s=h[0],this.peerStore.digestPeerNeighbors(s,A),this.peerStore.connecting[s]?.out?.close(),this.peerStore.connecting[s]||(this.peerStore.connecting[s]={}),this.peerStore.connecting[s].in=new Vt(s,i,"in",!0);for(let l of this.peerStore.callbacks.connect)l(s,"in")}})})}#t(t="localhost",n=Ft.PORT+1){this.stunServer=Si.createSocket("udp4"),this.stunServer.on("message",(i,s)=>{this.verbose>2&&console.log(`%cSTUN message from ${s.address}:${s.port} - ${i.toString("hex")}`,it.SERVICE),this.#n(i)&&this.stunServer.send(this.#r(i,s),s.port,s.address)}),this.stunServer.bind(n,t)}#n(t){if(t.length<20)return!1;let n=t.readUInt16BE(0),i=t.readUInt32BE(4);return n===1&&i===554869826}#r(t,n){let i=t.subarray(8,20),s=Buffer.allocUnsafe(32);return s.writeUInt16BE(257,0),s.writeUInt16BE(12,2),s.writeUInt32BE(554869826,4),i.copy(s,8),s.writeUInt16BE(1,20),s.writeUInt16BE(8,22),s.writeUInt16BE(1,24),s.writeUInt16BE(n.port,26),s.writeUInt32BE(kt.ipToInt(n.address),28),this.verbose>2&&console.log(`%cSTUN Response: client will discover IP ${n.address}:${n.port}`,"color: green;"),s}static deriveSTUNServers(t,n=!1){let i=[];for(let s of t){let o=s.publicUrl.split(":")[1].replace("//",""),a=parseInt(s.publicUrl.split(":")[2])+1;i.push({urls:`stun:${o}:${a}`})}return n&&(this.stunUrls.push({urls:"stun:stun.l.google.com:5349"}),this.stunUrls.push({urls:"stun:stun.l.google.com:19302"}),this.stunUrls.push({urls:"stun:stun1.l.google.com:3478"}),this.stunUrls.push({urls:"stun:stun1.l.google.com:5349"})),i}};async function Nr(I={}){let t=I.verbose!==void 0?I.verbose:gt.DEFAULT_VERBOSE,n=I.cryptoCodex||new Ot(void 0,t);n.publicKey||await n.generate(!1);let i=new Ce(n,I.bootstraps||[],t);return I.autoStart!==!1&&await i.start(),i}var Ce=class{started=!1;id;cryptoCodex;verbose;arbiter;offerManager;peerStore;messager;gossip;topologist;services;constructor(t,n=[],i=gt.DEFAULT_VERBOSE){this.verbose=i,this.topologist?.services&&(this.topologist.services.verbose=i),this.cryptoCodex=t,this.id=this.cryptoCodex.id;let s=ze.deriveSTUNServers(n||[]);this.offerManager=new we(this.id,s,i),this.arbiter=new ye(this.id,t,i),this.peerStore=new Te(this.id,this.cryptoCodex,this.offerManager,this.arbiter,i),this.messager=new Fe(this.id,this.cryptoCodex,this.arbiter,this.peerStore,i),this.gossip=new Ue(this.id,this.cryptoCodex,this.arbiter,this.peerStore,i),this.topologist=new Ze(this.id,this.gossip,this.messager,this.peerStore,n||[]);let{arbiter:o,peerStore:a,messager:h,gossip:E,topologist:A}=this;a.on("signal",(l,u)=>this.sendMessage(l,u,"signal_answer")),a.on("connect",(l,u)=>this.#e(l,u)),a.on("disconnect",(l,u)=>this.#t(l,u)),a.on("data",(l,u)=>this.#n(l,u)),h.on("signal_answer",(l,u)=>A.handleIncomingSignal(l,u)),h.on("signal_offer",(l,u)=>A.handleIncomingSignal(l,u)),E.on("signal_offer",(l,u,g)=>A.handleIncomingSignal(l,u,g)),i>2&&console.log(`Node initialized: ${this.id}`)}#e=(t,n)=>{let i=this.cryptoCodex.isPublicNode(t);if(this.publicUrl)return;this.verbose>(this.publicUrl||i?3:2)&&console.log(`(${this.id}) ${n==="in"?"Incoming":"Outgoing"} connection established with peer ${t}`),(i||n==="in")&&this.sendMessage(t,this.id,"handshake");let o=this.peerStore.neighborsList.length>=tt.TARGET_NEIGHBORS_COUNT+this.halfTarget,a=()=>{tt.ON_CONNECT_DISPATCH.OVER_NEIGHBORED&&o&&this.broadcast([],"over_neighbored"),tt.ON_CONNECT_DISPATCH.SHARE_HISTORY&&this.peerStore.getUpdatedPeerConnectionsCount(t)<=1&&this.gossip.sendGossipHistoryToPeer(t)};tt.ON_CONNECT_DISPATCH.DELAY?setTimeout(a,tt.ON_CONNECT_DISPATCH.DELAY):a()};#t=(t,n)=>{if(!this.peerStore.neighborsList.length){for(let o in this.peerStore.connecting)this.peerStore.kickPeer(o,0,"no_neighbors_left");for(let o in this.offerManager.offers)this.offerManager.offers[o].timestamp=0}let i=this.cryptoCodex.isPublicNode(t);if(this.peerStore.connected[t])return;this.verbose>(this.publicUrl||i?3:2)&&console.log(`(${this.id}) ${n==="in"?"Incoming":"Outgoing"} connection closed with peer ${t}`)};#n=(t,n)=>{let i=new Uint8Array(n);i[0]>127?this.gossip.handleGossipMessage(t,i):this.messager.handleDirectMessage(t,i)};get publicUrl(){return this.services?.publicUrl}get publicIdentity(){return{id:this.id,publicUrl:this.publicUrl}}onMessageData(t){this.messager.on("message",t)}onGossipData(t){this.gossip.on("gossip",t)}async start(){return await nt.sync(this.verbose),this.started=!0,Ct.AVOID_INTERVALS||(this.topologist.tryConnectNextBootstrap(),this.arbiterInterval=setInterval(()=>this.arbiter.tick(),1e3),this.enhancerInterval=setInterval(()=>this.topologist.tick(),tt.LOOP_DELAY),this.peerStoreInterval=setInterval(()=>{this.peerStore.cleanupExpired(),this.peerStore.offerManager.tick()},2500)),!0}broadcast(t,n,i){this.gossip.broadcastToAll(t,n,i)}sendMessage(t,n,i,s=1){this.messager.sendUnicast(t,n,i,s)}async tryConnectToPeer(t="toto",n=5){console.info("FUNCTION DISABLED FOR NOW")}destroy(){this.enhancerInterval&&clearInterval(this.enhancerInterval),this.enhancerInterval=null,this.peerStoreInterval&&clearInterval(this.peerStoreInterval),this.peerStoreInterval=null,this.peerStore.destroy(),this.wsServer&&this.wsServer.close(),this.stunServer&&this.stunServer.close()}};await _t();var Tr={Node:Ce,createNode:Nr,CryptoCodex:Ot,CONFIG:Gn};var js=Tr;typeof window<"u"&&(window.HiveP2P=Tr);export{Gn as CONFIG,Ot as CryptoCodex,Ce as Node,Nr as createNode,js as default};
/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! Bundled license information:

@noble/ed25519/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
